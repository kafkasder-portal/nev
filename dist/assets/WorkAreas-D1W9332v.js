import{j as e}from"./query-D2a9LsAW.js";import{r as d}from"./vendor-Ba6jih-_.js";import{D as b}from"./DataTable-Dzg2kqPW.js";import{e as f}from"./exportToCsv-CTUkvpR5.js";import{ab as g,aw as j,o as N,ax as y}from"./ui-yrixFDMZ.js";const c=[{id:"1",name:"Kadıköy Merkez",code:"KDK-MRK",region:"İstanbul Anadolu",coordinator:"Ahmet Yılmaz",activeWorkers:12,totalBeneficiaries:245,budget:85e3,status:"Aktif",lastUpdate:"2024-01-15"},{id:"2",name:"Ümraniye Doğu",code:"UMR-DGU",region:"İstanbul Anadolu",coordinator:"Fatma Demir",activeWorkers:8,totalBeneficiaries:180,budget:65e3,status:"Aktif",lastUpdate:"2024-01-14"},{id:"3",name:"Çankaya Kızılay",code:"CNK-KZL",region:"Ankara Merkez",coordinator:"Mehmet Öz",activeWorkers:6,totalBeneficiaries:120,budget:45e3,status:"Geçici Kapalı",lastUpdate:"2024-01-10"}];function S(){const[l,m]=d.useState(""),[x,n]=d.useState(!1),[r,u]=d.useState("all"),a=d.useMemo(()=>{let t=c;return r!=="all"&&(t=t.filter(s=>s.region===r)),l&&(t=t.filter(s=>JSON.stringify(s).toLowerCase().includes(l.toLowerCase()))),t},[l,r]),p=[{key:"code",header:"Alan Kodu"},{key:"name",header:"Çalışma Alanı"},{key:"region",header:"Bölge"},{key:"coordinator",header:"Koordinatör"},{key:"activeWorkers",header:"Aktif Çalışan"},{key:"totalBeneficiaries",header:"Toplam Faydalanıcı"},{key:"budget",header:"Bütçe (TL)",render:t=>`₺${(Number(t)||0).toLocaleString()}`},{key:"status",header:"Durum",render:t=>{const s={Aktif:"bg-green-100 text-green-700",Pasif:"bg-red-100 text-red-700","Geçici Kapalı":"bg-yellow-100 text-yellow-700"},i=String(t||""),h=i;return e.jsx("span",{className:`rounded-full px-2 py-1 text-xs ${s[h]||s.Aktif}`,children:i})}},{key:"lastUpdate",header:"Son Güncelleme"},{key:"actions",header:"İşlemler",render:()=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"rounded p-1 text-blue-600 hover:bg-blue-50",title:"Düzenle",children:e.jsx(j,{className:"h-4 w-4"})}),e.jsx("button",{className:"rounded p-1 text-green-600 hover:bg-green-50",title:"Haritada Göster",children:e.jsx(N,{className:"h-4 w-4"})}),e.jsx("button",{className:"rounded p-1 text-red-600 hover:bg-red-50",title:"Sil",children:e.jsx(y,{className:"h-4 w-4"})})]})}],o=Array.from(new Set(c.map(t=>t.region)));return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto rounded border p-2",children:[e.jsxs("button",{onClick:()=>n(!0),className:"flex items-center gap-2 rounded bg-green-600 px-3 py-1 text-sm text-white",children:[e.jsx(g,{className:"h-4 w-4"}),"Yeni Alan"]}),e.jsxs("select",{value:r,onChange:t=>u(t.target.value),className:"rounded border bg-background px-2 py-1 text-sm",children:[e.jsx("option",{value:"all",children:"Tüm Bölgeler"}),o.map(t=>e.jsx("option",{value:t,children:t},t))]}),e.jsx("input",{value:l,onChange:t=>m(t.target.value),className:"min-w-64 flex-1 rounded border px-2 py-1 text-sm",placeholder:"Çalışma alanı ara..."}),e.jsx("button",{className:"rounded bg-blue-600 px-3 py-1 text-sm text-white",children:"Ara"}),e.jsx("button",{className:"rounded border px-3 py-1 text-sm",children:"Filtre"}),e.jsx("button",{onClick:()=>f("calisma-alanlari.csv",a),className:"rounded bg-gray-600 px-3 py-1 text-sm text-white",children:"İndir"}),e.jsxs("div",{className:"ml-auto text-sm text-muted-foreground",children:[a.length," Alan | ",a.reduce((t,s)=>t+s.activeWorkers,0)," Çalışan"]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-5",children:[e.jsxs("div",{className:"rounded border bg-card p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Toplam Alan"}),e.jsx("p",{className:"text-2xl font-bold",children:a.length})]}),e.jsxs("div",{className:"rounded border bg-card p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Aktif Alan"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:a.filter(t=>t.status==="Aktif").length})]}),e.jsxs("div",{className:"rounded border bg-card p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Toplam Çalışan"}),e.jsx("p",{className:"text-2xl font-bold",children:a.reduce((t,s)=>t+s.activeWorkers,0)})]}),e.jsxs("div",{className:"rounded border bg-card p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Faydalanıcı"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:a.reduce((t,s)=>t+s.totalBeneficiaries,0)})]}),e.jsxs("div",{className:"rounded border bg-card p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Toplam Bütçe"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["₺",a.reduce((t,s)=>t+s.budget,0).toLocaleString()]})]})]}),e.jsx(b,{columns:p,data:a}),x&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:e.jsxs("div",{className:"w-full max-w-lg rounded-lg bg-white p-6",children:[e.jsx("h2",{className:"mb-4 text-lg font-semibold",children:"Yeni Çalışma Alanı Ekle"}),e.jsxs("form",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Alan Kodu"}),e.jsx("input",{type:"text",className:"mt-1 w-full rounded border px-3 py-2 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Alan Adı"}),e.jsx("input",{type:"text",className:"mt-1 w-full rounded border px-3 py-2 text-sm"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Bölge"}),e.jsxs("select",{className:"mt-1 w-full rounded border px-3 py-2 text-sm",children:[e.jsx("option",{children:"Seçiniz..."}),o.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Koordinatör"}),e.jsx("input",{type:"text",className:"mt-1 w-full rounded border px-3 py-2 text-sm"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Başlangıç Bütçesi"}),e.jsx("input",{type:"number",className:"mt-1 w-full rounded border px-3 py-2 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Durum"}),e.jsxs("select",{className:"mt-1 w-full rounded border px-3 py-2 text-sm",children:[e.jsx("option",{value:"Aktif",children:"Aktif"}),e.jsx("option",{value:"Pasif",children:"Pasif"}),e.jsx("option",{value:"Geçici Kapalı",children:"Geçici Kapalı"})]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>n(!1),className:"flex-1 rounded border px-4 py-2 text-sm",children:"İptal"}),e.jsx("button",{type:"submit",className:"flex-1 rounded bg-green-600 px-4 py-2 text-sm text-white",children:"Kaydet"})]})]})]})})]})}export{S as default};
