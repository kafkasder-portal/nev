const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Login-KDOLZX2i.js","assets/query-D2a9LsAW.js","assets/vendor-Ba6jih-_.js","assets/types-Vcb-PP2J.js","assets/router-PzPojOO1.js","assets/ui-yrixFDMZ.js","assets/supabase-B5p9Wfie.js","assets/NotFound-kRuNCfKv.js","assets/List-BlrChBZp.js","assets/DataTable-Dzg2kqPW.js","assets/exportToCsv-CTUkvpR5.js","assets/DonationVault-03zTdkLI.js","assets/Institutions-DOc9cMAG.js","assets/Modal-BazkrsRl.js","assets/useSanitization-DPwGZpHZ.js","assets/sanitization-B2vlJvdx.js","assets/CashDonations-BZJlRqEK.js","assets/LazyCameraScanner-CwDC2nGd.js","assets/pdfExport-BP3xwtRw.js","assets/BankDonations-C9L-M0PN.js","assets/CreditCardDonations-DFbwVrJW.js","assets/OnlineDonations--P9NsQ1Z.js","assets/AdvancedSearchModal-sf7G-Bu4.js","assets/DonationNumbers-DD4gXgwY.js","assets/FundingDefinitions-B8STv5-7.js","assets/SacrificePeriods-Dth4jxUi.js","assets/SacrificeShares-CTQoCA7T.js","assets/RamadanPeriods-BW4glk4c.js","assets/PiggyBankTracking-DvIYzzuz.js","assets/LazyQRScannerModal-M3dpk_l9.js","assets/qrCodeUtils-CCw4n1DD.js","assets/PiggyBankTracking-Dgihpmma.css","assets/BulkProvisioning-B6KSbaJ7.js","assets/PieChart-B8oIJB3B.js","assets/Index-aB63tEIL.js","assets/MessageNavigation-tJY5Katd.js","assets/BulkSend-DHJhWVMz.js","assets/Groups-IbO-7JKq.js","assets/Templates-BQppdXxg.js","assets/SmsDeliveries-qtqIbJYq.js","assets/EmailDeliveries-DECj5o6A.js","assets/Analytics-GQA6lBBS.js","assets/ModuleInfo-D5wQXA2q.js","assets/OrphansStudents-CKW-5-Pq.js","assets/StatCard-R_-DmWX7.js","assets/Reports-CRUY4pz9.js","assets/LineChart-CMhEWIHO.js","assets/Index-C_2JP5Pg.js","assets/SupabaseTest-UK-pvJ_7.js","assets/Index-BRQPxo9E.js","assets/Beneficiaries-BQ-YqEHe.js","assets/BeneficiariesDetail-CtA-hwjV.js","assets/Reports-By6TLEdZ.js","assets/index-v3sBR1NV.js","assets/Applications-CA7khaWj.js","assets/CashVault-KHecUADz.js","assets/BankOrders-sGcNfYw8.js","assets/CashOperations-RU8cSvhn.js","assets/InKindOperations-Bwt3VpPn.js","assets/ServiceTracking-CG2w5MSn.js","assets/HospitalReferrals-p_8mUP7z.js","assets/Parameters-StlasqUA.js","assets/DataControl-DLOaLfqK.js","assets/ModuleInfo-DAPRDOWv.js","assets/FundMovements-BTiB5lei.js","assets/CompleteReport-D5eh_VBj.js","assets/FundRegions-DzhSYO7p.js","assets/WorkAreas-D1W9332v.js","assets/FundDefinitions-mnTqDwzb.js","assets/ActivityDefinitions-Cd3GVHhR.js","assets/SourcesExpenses-ER9TuLYP.js","assets/AidCategories-RkZrZbER.js","assets/WarningMessages-BJjjg06C.js","assets/StructuralControls-B8lk_15c.js","assets/LocalIPs-7AJ6QANr.js","assets/IPBlocking-lH3augWd.js","assets/UserManagement-BSCAQeAa.js","assets/SentryTest-BbNpeLuI.js","assets/RelatedRecordsDemo-CF_vLFML.js","assets/Index-BgvL4gjz.js","assets/Index-BcwumrvC.js","assets/Index-CpLugJ7l.js","assets/Definitions-Dp88pdYV.js","assets/UnitRoles-DrULxj_E.js","assets/Units-C3ZI31_3.js","assets/UserAccounts-CuZHaGuT.js","assets/PermissionGroupsClean-DVd0hP0I.js","assets/Buildings-AEfGCDSK.js","assets/InternalLines-CC7zBqmA.js","assets/ProcessFlows-Bl0L744N.js","assets/PassportFormats-B255FYik.js","assets/CountriesCities-CZ7TRhhp.js","assets/InstitutionTypes-Co6InoEM.js","assets/InstitutionStatus-Cx9OF9qA.js","assets/DonationMethods-CfJq_NSV.js","assets/DeliveryTypes-qoRxgjyW.js","assets/MeetingRequests-BVWnmSxo.js","assets/GSMCodes-DmgBNcPP.js","assets/InterfaceLanguages-RuclWzSG.js","assets/Translations-B9bfK1VF.js","assets/GeneralSettings-BoTiiPCs.js","assets/ModuleInfo-oe4gxaFT.js"])))=>i.map(i=>d[i]);
var Is=Object.defineProperty;var zs=(a,e,s)=>e in a?Is(a,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[e]=s;var B=(a,e,s)=>zs(a,typeof e!="symbol"?e+"":e,s);import{j as t,u as Ls,a as ss,Q as $s,b as Us}from"./query-D2a9LsAW.js";import{d as Ws,r as c,e as Bs,a as je}from"./vendor-Ba6jih-_.js";import{u as Je,a as as,L as Ys,N as Vs,R as qs,b as y,B as Fs}from"./router-PzPojOO1.js";import{c as Hs,_ as w}from"./supabase-B5p9Wfie.js";import{u as M,S as xe,F as Gs,X as Ee,C as ft,a as me,U as ee,B as at,b as rs,M as Be,c as Ks,d as ns,e as Ct,f as Qs,g as Xs,h as qe,i as Js,j as is,k as he,L as Zs,l as ea,m as ta,T as os,n as Le,o as sa,p as gt,A as Dt,R as aa,q as ra,W as rt,D as Ye,r as $e,s as At,t as De,P as nt,v as Ae,w as Fe,x as it,y as Pt,I as Ue,G as Me,z as Ot,E as na,H as ot,J as pt,K as ia,N as oa,O as la,Q as ca,V as da,Y as ua,Z as yt,_ as ma,$ as ha,a0 as fa,a1 as Re,a2 as Mt,a3 as ga,a4 as Rt,a5 as pa,a6 as He,a7 as xa,a8 as ls,a9 as cs,aa as ba,ab as va,ac as xt,ad as ya,ae as wa,af as ja,ag as ds,ah as Na,ai as ka,aj as _a,ak as It,al as Ea}from"./ui-yrixFDMZ.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();var us,zt=Ws;us=zt.createRoot,zt.hydrateRoot;const Sa={},Lt=a=>{let e;const s=new Set,r=(u,g)=>{const f=typeof u=="function"?u(e):u;if(!Object.is(f,e)){const b=e;e=g??(typeof f!="object"||f===null)?f:Object.assign({},e,f),s.forEach(k=>k(e,b))}},n=()=>e,d={setState:r,getState:n,getInitialState:()=>m,subscribe:u=>(s.add(u),()=>s.delete(u)),destroy:()=>{(Sa?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},m=e=a(r,n,d);return d},Ta=a=>a?Lt(a):Lt;var ms={exports:{}},hs={},fs={exports:{}},gs={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Se=c;function Ca(a,e){return a===e&&(a!==0||1/a===1/e)||a!==a&&e!==e}var Da=typeof Object.is=="function"?Object.is:Ca,Aa=Se.useState,Pa=Se.useEffect,Oa=Se.useLayoutEffect,Ma=Se.useDebugValue;function Ra(a,e){var s=e(),r=Aa({inst:{value:s,getSnapshot:e}}),n=r[0].inst,i=r[1];return Oa(function(){n.value=s,n.getSnapshot=e,lt(n)&&i({inst:n})},[a,s,e]),Pa(function(){return lt(n)&&i({inst:n}),a(function(){lt(n)&&i({inst:n})})},[a]),Ma(s),s}function lt(a){var e=a.getSnapshot;a=a.value;try{var s=e();return!Da(a,s)}catch{return!0}}function Ia(a,e){return e()}var za=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ia:Ra;gs.useSyncExternalStore=Se.useSyncExternalStore!==void 0?Se.useSyncExternalStore:za;fs.exports=gs;var La=fs.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ze=c,$a=La;function Ua(a,e){return a===e&&(a!==0||1/a===1/e)||a!==a&&e!==e}var Wa=typeof Object.is=="function"?Object.is:Ua,Ba=$a.useSyncExternalStore,Ya=Ze.useRef,Va=Ze.useEffect,qa=Ze.useMemo,Fa=Ze.useDebugValue;hs.useSyncExternalStoreWithSelector=function(a,e,s,r,n){var i=Ya(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=qa(function(){function d(b){if(!m){if(m=!0,u=b,b=r(b),n!==void 0&&o.hasValue){var k=o.value;if(n(k,b))return g=k}return g=b}if(k=g,Wa(u,b))return k;var p=r(b);return n!==void 0&&n(k,p)?(u=b,k):(u=b,g=p)}var m=!1,u,g,f=s===void 0?null:s;return[function(){return d(e())},f===null?void 0:function(){return d(f())}]},[e,s,r,n]);var l=Ba(a,i[0],i[1]);return Va(function(){o.hasValue=!0,o.value=l},[l]),Fa(l),l};ms.exports=hs;var Ha=ms.exports;const Ga=Bs(Ha),ps={},{useDebugValue:Ka}=je,{useSyncExternalStoreWithSelector:Qa}=Ga;let $t=!1;const Xa=a=>a;function Ja(a,e=Xa,s){(ps?"production":void 0)!=="production"&&s&&!$t&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),$t=!0);const r=Qa(a.subscribe,a.getState,a.getServerState||a.getInitialState,e,s);return Ka(r),r}const Ut=a=>{(ps?"production":void 0)!=="production"&&typeof a!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof a=="function"?Ta(a):a,s=(r,n)=>Ja(e,r,n);return Object.assign(s,e),s},Za=a=>a?Ut(a):Ut;function ct(a,e){const s=a==null?void 0:a.trim();if(!s||[/^YOUR_.*_URL$/i,/^PLACEHOLDER/i,/^REPLACE_WITH/i,/^\[.*\]$/,/^<.*>$/,/^\{.*\}$/,/^undefined$/i,/^null$/i,/^\s*$/].some(n=>n.test(s)))return e;try{return new URL(s),s}catch{return e}}const Ge={SUPABASE_URL:ct("YOUR_SUPABASE_PROJECT_URL","https://placeholder.supabase.co"),SUPABASE_ANON_KEY:"YOUR_SUPABASE_ANON_KEY",SUPABASE_SERVICE_ROLE_KEY:"",APP_NAME:"Dernek Yönetim Paneli",APP_VERSION:"1.0.0",APP_ENVIRONMENT:"production",SESSION_TIMEOUT:parseInt("3600"),ENABLE_2FA:!1,ENABLE_REALTIME:!0,ENABLE_NOTIFICATIONS:!0,ENABLE_OFFLINE_MODE:!1,WHATSAPP_API_KEY:"",SMS_API_KEY:"",EMAIL_SERVICE_ID:"",DEBUG_MODE:!1,API_BASE_URL:"/api",SOCKET_URL:ct("","http://localhost:3002"),EXTERNAL_DOMAIN:"localhost",WEB_URL:ct(void 0,"http://localhost:5173"),get isDevelopment(){return this.APP_ENVIRONMENT==="development"},get isProduction(){return this.APP_ENVIRONMENT==="production"},get isTest(){return this.APP_ENVIRONMENT==="test"}},er=()=>{const a=["SUPABASE_URL","SUPABASE_ANON_KEY"].filter(e=>!Ge[e]);if(a.length&&!Ge.isDevelopment)throw new Error(`Missing env: ${a.join(", ")}`)};er();const _=Hs(Ge.SUPABASE_URL,Ge.SUPABASE_ANON_KEY,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},realtime:{}}),ye=Za((a,e)=>({user:null,session:null,profile:null,initializing:!0,loading:!1,error:null,initialize:async()=>{var s,r;try{a({initializing:!0,error:null});const{data:{session:n},error:i}=await _.auth.getSession();if(i){console.error("Session error:",i),a({initializing:!1,error:i.message});return}if(n!=null&&n.user){const{data:o,error:l}=await _.from("user_profiles").select("*").eq("id",n.user.id).single();if(l){console.error("Profile error:",l);const d={id:n.user.id,full_name:((s=n.user.user_metadata)==null?void 0:s.full_name)||((r=n.user.email)==null?void 0:r.split("@")[0])||"User",role:"viewer",is_active:!0},{data:m,error:u}=await _.from("user_profiles").insert(d).select().single();if(u){console.error("Profile creation error:",u),a({initializing:!1,error:"Failed to create user profile"});return}a({user:{...n.user,profile:m},session:n,profile:m,initializing:!1})}else{if(!o.is_active){await _.auth.signOut(),a({user:null,session:null,profile:null,initializing:!1,error:"Account has been deactivated"});return}a({user:{...n.user,profile:o},session:n,profile:o,initializing:!1})}}else a({initializing:!1});_.auth.onAuthStateChange(async(o,l)=>{var d;if(console.log("Auth state changed:",o,(d=l==null?void 0:l.user)==null?void 0:d.id),o==="SIGNED_IN"&&(l!=null&&l.user)){const{data:m,error:u}=await _.from("user_profiles").select("*").eq("id",l.user.id).single();!u&&m&&a({user:{...l.user,profile:m},session:l,profile:m,loading:!1,error:null})}else o==="SIGNED_OUT"?a({user:null,session:null,profile:null,loading:!1,error:null}):o==="TOKEN_REFRESHED"&&l&&a({session:l})})}catch(n){console.error("Auth initialization error:",n),a({initializing:!1,error:n instanceof Error?n.message:"Authentication initialization failed"})}},signIn:async(s,r)=>{try{a({loading:!0,error:null});const{data:n,error:i}=await _.auth.signInWithPassword({email:s.trim(),password:r});if(i)throw i;if(!n.session)throw new Error("Login failed - no session returned");const{data:o,error:l}=await _.from("user_profiles").select("*").eq("id",n.user.id).single();if(l)throw console.error("Profile fetch error:",l),new Error("Failed to fetch user profile");if(!o.is_active)throw await _.auth.signOut(),new Error("Account has been deactivated");return await _.from("user_profiles").update({last_login_at:new Date().toISOString()}).eq("id",n.user.id),a({user:{...n.user,profile:o},session:n.session,profile:o,loading:!1,error:null}),M.success("Giriş başarılı!"),n.session}catch(n){const i=n instanceof Error?n.message:"Login failed";return console.error("Login error:",n),a({loading:!1,error:i}),M.error(i),null}},signUp:async(s,r,n)=>{try{a({loading:!0,error:null});const{data:i,error:o}=await _.auth.signUp({email:s.trim(),password:r,options:{data:n}});if(o)throw o;if(!i.user)throw new Error("Registration failed - no user returned");const{error:l}=await _.from("user_profiles").insert({id:i.user.id,full_name:n.full_name,department:n.department,phone:n.phone,role:"viewer",is_active:!0});l&&console.error("Profile creation error:",l),a({loading:!1,error:null}),M.success("Kayıt başarılı! Lütfen email adresinizi kontrol edin.")}catch(i){const o=i instanceof Error?i.message:"Registration failed";throw console.error("Registration error:",i),a({loading:!1,error:o}),M.error(o),i}},signOut:async()=>{try{a({loading:!0,error:null});const{error:s}=await _.auth.signOut();if(s)throw s;a({user:null,session:null,profile:null,loading:!1,error:null}),M.success("Çıkış yapıldı")}catch(s){const r=s instanceof Error?s.message:"Logout failed";console.error("Logout error:",s),a({loading:!1,error:r}),M.error(r)}},updateProfile:async s=>{try{const{user:r,profile:n}=e();if(!r||!n)throw new Error("No user logged in");a({loading:!0,error:null});const{data:i,error:o}=await _.from("user_profiles").update({...s,updated_at:new Date().toISOString()}).eq("id",r.id).select().single();if(o)throw o;const l={...n,...i};a({profile:l,user:{...r,profile:l},loading:!1,error:null}),M.success("Profil güncellendi")}catch(r){const n=r instanceof Error?r.message:"Profile update failed";throw console.error("Profile update error:",r),a({loading:!1,error:n}),M.error(n),r}},changePassword:async(s,r)=>{try{const{user:n}=e();if(!(n!=null&&n.email))throw new Error("No user logged in");a({loading:!0,error:null});const{error:i}=await _.auth.signInWithPassword({email:n.email,password:s});if(i)throw new Error("Current password is incorrect");const{error:o}=await _.auth.updateUser({password:r});if(o)throw o;a({loading:!1,error:null}),M.success("Şifre değiştirildi")}catch(n){const i=n instanceof Error?n.message:"Password change failed";throw console.error("Password change error:",n),a({loading:!1,error:i}),M.error(i),n}},resetPassword:async s=>{try{a({loading:!0,error:null});const{error:r}=await _.auth.resetPasswordForEmail(s,{redirectTo:`${window.location.origin}/reset-password`});if(r)throw r;a({loading:!1,error:null}),M.success("Şifre sıfırlama bağlantısı email adresinize gönderildi")}catch(r){const n=r instanceof Error?r.message:"Password reset failed";throw console.error("Password reset error:",r),a({loading:!1,error:n}),M.error(n),r}},clearError:()=>{a({error:null})}})),tr={super_admin:["view_users","create_user","edit_user","delete_user","manage_user_roles","view_meetings","create_meeting","edit_meeting","delete_meeting","manage_meeting_participants","view_tasks","create_task","edit_task","delete_task","assign_tasks","view_messages","send_messages","manage_conversations","moderate_messages","view_dashboard","access_admin_panel","manage_system_settings","view_audit_logs","view_financial_data","manage_donations","manage_aid_distribution","view_reports","export_data"]};function sr(){const{user:a,profile:e}=ye(),s=c.useMemo(()=>Object.values(tr.super_admin),[a,e]),r=h=>!0,n=h=>!0,i=h=>!0,o=h=>!0,l=!0,d=!0,m=!0,u=!0,g=!0,f=!0,b=!0,k=!0,p=h=>!0;return{permissions:s,userRole:e==null?void 0:e.role,hasPermission:r,hasAllPermissions:n,hasAnyPermission:i,hasRoleOrHigher:o,can:p,canManageUsers:l,canManageMeetings:d,canManageTasks:m,canAccessAdmin:u,canViewFinancial:g,canExportData:f,isAdmin:b,isSuperAdmin:k,userId:a==null?void 0:a.id,userName:e==null?void 0:e.full_name,userEmail:a==null?void 0:a.email,userDepartment:e==null?void 0:e.department}}const Wt=a=>({super_admin:"Süper Yönetici",admin:"Yönetici",manager:"Müdür",coordinator:"Koordinatör",operator:"Operatör",viewer:"Görüntüleyici"})[a]||a,Bt={type:[],dateRange:{from:"",to:""},status:[],region:[]},ar=()=>{const[a,e]=c.useState(!1),[s,r]=c.useState(""),[n,i]=c.useState([]),[o,l]=c.useState(!1),[d,m]=c.useState(!1),[u,g]=c.useState(Bt),[f,b]=c.useState([]),k=c.useRef(null),p=c.useRef(null),h=Je();c.useEffect(()=>{const j=localStorage.getItem("recent_searches");j&&b(JSON.parse(j))},[]),c.useEffect(()=>{const j=D=>{k.current&&!k.current.contains(D.target)&&(e(!1),m(!1))};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]),c.useEffect(()=>{const j=setTimeout(()=>{s.length>=2?E():i([])},300);return()=>clearTimeout(j)},[s,u]),c.useEffect(()=>{const j=D=>{var A;(D.ctrlKey||D.metaKey)&&D.key==="k"&&(D.preventDefault(),e(!0),(A=p.current)==null||A.focus()),D.key==="Escape"&&(e(!1),m(!1))};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[]);const E=async()=>{if(s.trim()){l(!0);try{const j=[];if(u.type.length===0||u.type.includes("beneficiary")){const{data:D}=await _.from("beneficiaries").select("*").or(`name.ilike.%${s}%,surname.ilike.%${s}%,identity_no.ilike.%${s}%,phone.ilike.%${s}%`).limit(5);D==null||D.forEach(A=>{j.push({id:A.id,type:"beneficiary",title:`${A.name} ${A.surname}`,subtitle:`${A.category} - ${A.city||"Şehir belirtilmemiş"}`,url:`/aid/beneficiaries/${A.id}`,metadata:A})})}if(u.type.length===0||u.type.includes("application")){const{data:D}=await _.from("applications").select(`
            *,
            beneficiaries!inner(name, surname)
          `).or(`description.ilike.%${s}%`).limit(5);D==null||D.forEach(A=>{var P;j.push({id:A.id,type:"application",title:`${A.beneficiaries.name} ${A.beneficiaries.surname} - Başvuru`,subtitle:`${A.aid_type} - ${A.status} - ${(P=A.description)==null?void 0:P.substring(0,50)}...`,url:`/aid/applications?search=${A.id}`,metadata:A})})}if(i(j),s&&!f.includes(s)){const D=[s,...f.slice(0,4)];b(D),localStorage.setItem("recent_searches",JSON.stringify(D))}}catch(j){console.error("Search error:",j)}finally{l(!1)}}},v=j=>{h(j.url),e(!1),r("")},x=()=>{g(Bt)},S=j=>{switch(j){case"beneficiary":return t.jsx(ee,{className:"h-4 w-4 text-blue-600"});case"application":return t.jsx(me,{className:"h-4 w-4 text-orange-600"});case"donation":return t.jsx(ft,{className:"h-4 w-4 text-green-600"});default:return t.jsx(xe,{className:"h-4 w-4 text-gray-600"})}};return t.jsxs("div",{ref:k,className:"relative",children:[t.jsxs("button",{onClick:()=>e(!0),className:"flex items-center gap-2 rounded-lg border bg-background px-3 py-2 text-sm text-muted-foreground hover:bg-accent w-full max-w-sm",children:[t.jsx(xe,{className:"h-4 w-4"}),t.jsx("span",{children:"Ara..."}),t.jsxs("kbd",{className:"ml-auto hidden sm:inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-xs font-medium text-muted-foreground opacity-100",children:[t.jsx("span",{className:"text-xs",children:"⌘"}),"K"]})]}),a&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 z-40 bg-background/80 backdrop-blur-sm"}),t.jsxs("div",{className:"fixed inset-x-4 top-20 z-50 mx-auto max-w-2xl rounded-lg border bg-background p-0 shadow-lg",children:[t.jsxs("div",{className:"flex items-center border-b p-4",children:[t.jsx(xe,{className:"mr-2 h-4 w-4 shrink-0 text-muted-foreground"}),t.jsx("input",{ref:p,type:"text",value:s,onChange:j=>r(j.target.value),placeholder:"İhtiyaç sahibi, başvuru veya bağışçı ara...",className:"flex-1 bg-transparent text-sm outline-none placeholder:text-muted-foreground",autoFocus:!0}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>m(!d),className:`rounded p-1.5 hover:bg-accent ${d?"bg-accent":""}`,title:"Filtreler",children:t.jsx(Gs,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>e(!1),className:"rounded p-1.5 hover:bg-accent",children:t.jsx(Ee,{className:"h-4 w-4"})})]})]}),d&&t.jsxs("div",{className:"border-b bg-muted/30 p-4",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-xs font-medium",children:"Tür"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:[{value:"beneficiary",label:"İhtiyaç Sahibi"},{value:"application",label:"Başvuru"},{value:"donation",label:"Bağış"}].map(j=>t.jsx("button",{onClick:()=>{const D=u.type.includes(j.value)?u.type.filter(A=>A!==j.value):[...u.type,j.value];g({...u,type:D})},className:`rounded px-3 py-1 text-xs ${u.type.includes(j.value)?"bg-primary text-primary-foreground":"bg-background border"}`,children:j.label},j.value))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-xs font-medium",children:"Tarih Aralığı"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"date",value:u.dateRange.from,onChange:j=>g({...u,dateRange:{...u.dateRange,from:j.target.value}}),className:"flex-1 rounded border px-2 py-1 text-xs"}),t.jsx("input",{type:"date",value:u.dateRange.to,onChange:j=>g({...u,dateRange:{...u.dateRange,to:j.target.value}}),className:"flex-1 rounded border px-2 py-1 text-xs"})]})]})]}),t.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[t.jsx("div",{className:"text-xs text-muted-foreground",children:Object.values(u).some(j=>Array.isArray(j)?j.length>0:j)&&"Filtreler aktif"}),t.jsx("button",{onClick:x,className:"text-xs text-primary hover:underline",children:"Filtreleri Temizle"})]})]}),t.jsxs("div",{className:"max-h-96 overflow-y-auto",children:[o&&t.jsx("div",{className:"flex items-center justify-center p-8",children:t.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-2 border-primary border-t-transparent"})}),!o&&s.length>=2&&n.length===0&&t.jsxs("div",{className:"p-8 text-center text-sm text-muted-foreground",children:[t.jsx(xe,{className:"mx-auto mb-3 h-8 w-8 text-muted-foreground/50"}),t.jsxs("p",{children:['"',s,'" için sonuç bulunamadı']}),t.jsx("p",{className:"mt-1 text-xs",children:"Farklı kelimeler deneyin veya filtreleri değiştirin"})]}),!o&&s.length<2&&f.length>0&&t.jsxs("div",{className:"p-4",children:[t.jsx("h4",{className:"mb-3 text-xs font-medium text-muted-foreground",children:"Son Aramalar"}),t.jsx("div",{className:"space-y-1",children:f.map((j,D)=>t.jsxs("button",{onClick:()=>r(j),className:"flex w-full items-center gap-3 rounded px-3 py-2 text-sm hover:bg-accent",children:[t.jsx(xe,{className:"h-4 w-4 text-muted-foreground"}),t.jsx("span",{children:j})]},D))})]}),!o&&n.length>0&&t.jsxs("div",{className:"p-2",children:[n.map(j=>t.jsxs("button",{onClick:()=>v(j),className:"flex w-full items-center gap-3 rounded px-3 py-3 text-left hover:bg-accent",children:[S(j.type),t.jsxs("div",{className:"flex-1 overflow-hidden",children:[t.jsx("div",{className:"font-medium text-sm truncate",children:j.title}),t.jsx("div",{className:"text-xs text-muted-foreground truncate",children:j.subtitle})]}),t.jsx("kbd",{className:"hidden sm:inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-xs font-medium text-muted-foreground opacity-100",children:"↵"})]},`${j.type}-${j.id}`)),n.length>=10&&t.jsx("div",{className:"border-t p-3 text-center",children:t.jsx("p",{className:"text-xs text-muted-foreground",children:"Daha fazla sonuç için daha spesifik arama yapın"})})]})]})]})]})]})};function xs(a){var e,s,r="";if(typeof a=="string"||typeof a=="number")r+=a;else if(typeof a=="object")if(Array.isArray(a)){var n=a.length;for(e=0;e<n;e++)a[e]&&(s=xs(a[e]))&&(r&&(r+=" "),r+=s)}else for(s in a)a[s]&&(r&&(r+=" "),r+=s);return r}function rr(){for(var a,e,s=0,r="",n=arguments.length;s<n;s++)(a=arguments[s])&&(e=xs(a))&&(r&&(r+=" "),r+=e);return r}const wt="-",nr=a=>{const e=or(a),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=a;return{getClassGroupId:o=>{const l=o.split(wt);return l[0]===""&&l.length!==1&&l.shift(),bs(l,e)||ir(o)},getConflictingClassGroupIds:(o,l)=>{const d=s[o]||[];return l&&r[o]?[...d,...r[o]]:d}}},bs=(a,e)=>{var o;if(a.length===0)return e.classGroupId;const s=a[0],r=e.nextPart.get(s),n=r?bs(a.slice(1),r):void 0;if(n)return n;if(e.validators.length===0)return;const i=a.join(wt);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Yt=/^\[(.+)\]$/,ir=a=>{if(Yt.test(a)){const e=Yt.exec(a)[1],s=e==null?void 0:e.substring(0,e.indexOf(":"));if(s)return"arbitrary.."+s}},or=a=>{const{theme:e,prefix:s}=a,r={nextPart:new Map,validators:[]};return cr(Object.entries(a.classGroups),s).forEach(([i,o])=>{bt(o,r,i,e)}),r},bt=(a,e,s,r)=>{a.forEach(n=>{if(typeof n=="string"){const i=n===""?e:Vt(e,n);i.classGroupId=s;return}if(typeof n=="function"){if(lr(n)){bt(n(r),e,s,r);return}e.validators.push({validator:n,classGroupId:s});return}Object.entries(n).forEach(([i,o])=>{bt(o,Vt(e,i),s,r)})})},Vt=(a,e)=>{let s=a;return e.split(wt).forEach(r=>{s.nextPart.has(r)||s.nextPart.set(r,{nextPart:new Map,validators:[]}),s=s.nextPart.get(r)}),s},lr=a=>a.isThemeGetter,cr=(a,e)=>e?a.map(([s,r])=>{const n=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[s,n]}):a,dr=a=>{if(a<1)return{get:()=>{},set:()=>{}};let e=0,s=new Map,r=new Map;const n=(i,o)=>{s.set(i,o),e++,e>a&&(e=0,r=s,s=new Map)};return{get(i){let o=s.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return n(i,o),o},set(i,o){s.has(i)?s.set(i,o):n(i,o)}}},vs="!",ur=a=>{const{separator:e,experimentalParseClassName:s}=a,r=e.length===1,n=e[0],i=e.length,o=l=>{const d=[];let m=0,u=0,g;for(let h=0;h<l.length;h++){let E=l[h];if(m===0){if(E===n&&(r||l.slice(h,h+i)===e)){d.push(l.slice(u,h)),u=h+i;continue}if(E==="/"){g=h;continue}}E==="["?m++:E==="]"&&m--}const f=d.length===0?l:l.substring(u),b=f.startsWith(vs),k=b?f.substring(1):f,p=g&&g>u?g-u:void 0;return{modifiers:d,hasImportantModifier:b,baseClassName:k,maybePostfixModifierPosition:p}};return s?l=>s({className:l,parseClassName:o}):o},mr=a=>{if(a.length<=1)return a;const e=[];let s=[];return a.forEach(r=>{r[0]==="["?(e.push(...s.sort(),r),s=[]):s.push(r)}),e.push(...s.sort()),e},hr=a=>({cache:dr(a.cacheSize),parseClassName:ur(a),...nr(a)}),fr=/\s+/,gr=(a,e)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:n}=e,i=[],o=a.trim().split(fr);let l="";for(let d=o.length-1;d>=0;d-=1){const m=o[d],{modifiers:u,hasImportantModifier:g,baseClassName:f,maybePostfixModifierPosition:b}=s(m);let k=!!b,p=r(k?f.substring(0,b):f);if(!p){if(!k){l=m+(l.length>0?" "+l:l);continue}if(p=r(f),!p){l=m+(l.length>0?" "+l:l);continue}k=!1}const h=mr(u).join(":"),E=g?h+vs:h,v=E+p;if(i.includes(v))continue;i.push(v);const x=n(p,k);for(let S=0;S<x.length;++S){const j=x[S];i.push(E+j)}l=m+(l.length>0?" "+l:l)}return l};function pr(){let a=0,e,s,r="";for(;a<arguments.length;)(e=arguments[a++])&&(s=ys(e))&&(r&&(r+=" "),r+=s);return r}const ys=a=>{if(typeof a=="string")return a;let e,s="";for(let r=0;r<a.length;r++)a[r]&&(e=ys(a[r]))&&(s&&(s+=" "),s+=e);return s};function xr(a,...e){let s,r,n,i=o;function o(d){const m=e.reduce((u,g)=>g(u),a());return s=hr(m),r=s.cache.get,n=s.cache.set,i=l,l(d)}function l(d){const m=r(d);if(m)return m;const u=gr(d,s);return n(d,u),u}return function(){return i(pr.apply(null,arguments))}}const U=a=>{const e=s=>s[a]||[];return e.isThemeGetter=!0,e},ws=/^\[(?:([a-z-]+):)?(.+)\]$/i,br=/^\d+\/\d+$/,vr=new Set(["px","full","screen"]),yr=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wr=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,jr=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Nr=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kr=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,re=a=>Ne(a)||vr.has(a)||br.test(a),ie=a=>Te(a,"length",Pr),Ne=a=>!!a&&!Number.isNaN(Number(a)),dt=a=>Te(a,"number",Ne),Pe=a=>!!a&&Number.isInteger(Number(a)),_r=a=>a.endsWith("%")&&Ne(a.slice(0,-1)),R=a=>ws.test(a),oe=a=>yr.test(a),Er=new Set(["length","size","percentage"]),Sr=a=>Te(a,Er,js),Tr=a=>Te(a,"position",js),Cr=new Set(["image","url"]),Dr=a=>Te(a,Cr,Mr),Ar=a=>Te(a,"",Or),Oe=()=>!0,Te=(a,e,s)=>{const r=ws.exec(a);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):s(r[2]):!1},Pr=a=>wr.test(a)&&!jr.test(a),js=()=>!1,Or=a=>Nr.test(a),Mr=a=>kr.test(a),Rr=()=>{const a=U("colors"),e=U("spacing"),s=U("blur"),r=U("brightness"),n=U("borderColor"),i=U("borderRadius"),o=U("borderSpacing"),l=U("borderWidth"),d=U("contrast"),m=U("grayscale"),u=U("hueRotate"),g=U("invert"),f=U("gap"),b=U("gradientColorStops"),k=U("gradientColorStopPositions"),p=U("inset"),h=U("margin"),E=U("opacity"),v=U("padding"),x=U("saturate"),S=U("scale"),j=U("sepia"),D=U("skew"),A=U("space"),P=U("translate"),L=()=>["auto","contain","none"],H=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",R,e],C=()=>[R,e],I=()=>["",re,ie],q=()=>["auto",Ne,R],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Q=()=>["solid","dashed","dotted","double","none"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],st=()=>["start","end","center","between","around","evenly","stretch"],Ce=()=>["","0",R],Tt=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>[Ne,R];return{cacheSize:500,separator:":",theme:{colors:[Oe],spacing:[re,ie],blur:["none","",oe,R],brightness:ae(),borderColor:[a],borderRadius:["none","","full",oe,R],borderSpacing:C(),borderWidth:I(),contrast:ae(),grayscale:Ce(),hueRotate:ae(),invert:Ce(),gap:C(),gradientColorStops:[a],gradientColorStopPositions:[_r,ie],inset:O(),margin:O(),opacity:ae(),padding:C(),saturate:ae(),scale:ae(),sepia:Ce(),skew:ae(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",R]}],container:["container"],columns:[{columns:[oe]}],"break-after":[{"break-after":Tt()}],"break-before":[{"break-before":Tt()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),R]}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Pe,R]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",R]}],grow:[{grow:Ce()}],shrink:[{shrink:Ce()}],order:[{order:["first","last","none",Pe,R]}],"grid-cols":[{"grid-cols":[Oe]}],"col-start-end":[{col:["auto",{span:["full",Pe,R]},R]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[Oe]}],"row-start-end":[{row:["auto",{span:[Pe,R]},R]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",R]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",R]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...st()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...st(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...st(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[h]}],mx:[{mx:[h]}],my:[{my:[h]}],ms:[{ms:[h]}],me:[{me:[h]}],mt:[{mt:[h]}],mr:[{mr:[h]}],mb:[{mb:[h]}],ml:[{ml:[h]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",R,e]}],"min-w":[{"min-w":[R,e,"min","max","fit"]}],"max-w":[{"max-w":[R,e,"none","full","min","max","fit","prose",{screen:[oe]},oe]}],h:[{h:[R,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[R,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[R,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[R,e,"auto","min","max","fit"]}],"font-size":[{text:["base",oe,ie]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",dt]}],"font-family":[{font:[Oe]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",R]}],"line-clamp":[{"line-clamp":["none",Ne,dt]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",re,R]}],"list-image":[{"list-image":["none",R]}],"list-style-type":[{list:["none","disc","decimal",R]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[a]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[a]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",re,ie]}],"underline-offset":[{"underline-offset":["auto",re,R]}],"text-decoration-color":[{decoration:[a]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",R]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",R]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),Tr]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Sr]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Dr]}],"bg-color":[{bg:[a]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...Q(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:Q()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...Q()]}],"outline-offset":[{"outline-offset":[re,R]}],"outline-w":[{outline:[re,ie]}],"outline-color":[{outline:[a]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[a]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[re,ie]}],"ring-offset-color":[{"ring-offset":[a]}],shadow:[{shadow:["","inner","none",oe,Ar]}],"shadow-color":[{shadow:[Oe]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...ge(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ge()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",oe,R]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[g]}],saturate:[{saturate:[x]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",R]}],duration:[{duration:ae()}],ease:[{ease:["linear","in","out","in-out",R]}],delay:[{delay:ae()}],animate:[{animate:["none","spin","ping","pulse","bounce",R]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Pe,R]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",R]}],accent:[{accent:["auto",a]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",R]}],"caret-color":[{caret:[a]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",R]}],fill:[{fill:[a,"none"]}],"stroke-w":[{stroke:[re,ie,dt]}],stroke:[{stroke:[a,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Ir=xr(Rr);function fe(...a){return Ir(rr(a))}const X=c.forwardRef(({className:a,variant:e="default",size:s="default",...r},n)=>t.jsx("button",{className:fe("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{"bg-primary text-primary-foreground hover:bg-primary/90":e==="default","bg-destructive text-destructive-foreground hover:bg-destructive/90":e==="destructive","border border-input hover:bg-accent hover:text-accent-foreground":e==="outline","bg-secondary text-secondary-foreground hover:bg-secondary/80":e==="secondary","hover:bg-accent hover:text-accent-foreground":e==="ghost","underline-offset-4 hover:underline text-primary":e==="link"},{"h-10 py-2 px-4":s==="default","h-9 px-3 rounded-md":s==="sm","h-11 px-8 rounded-md":s==="lg","h-10 w-10":s==="icon"},a),ref:n,...r}));X.displayName="Button";const jt=c.forwardRef(({className:a,...e},s)=>t.jsx("div",{ref:s,className:fe("rounded-lg border bg-card text-card-foreground shadow-sm",a),...e}));jt.displayName="Card";const zr=c.forwardRef(({className:a,...e},s)=>t.jsx("div",{ref:s,className:fe("flex flex-col space-y-1.5 p-6",a),...e}));zr.displayName="CardHeader";const Lr=c.forwardRef(({className:a,...e},s)=>t.jsx("h3",{ref:s,className:fe("text-2xl font-semibold leading-none tracking-tight",a),...e}));Lr.displayName="CardTitle";const $r=c.forwardRef(({className:a,...e},s)=>t.jsx("p",{ref:s,className:fe("text-sm text-muted-foreground",a),...e}));$r.displayName="CardDescription";const Ur=c.forwardRef(({className:a,...e},s)=>t.jsx("div",{ref:s,className:fe("p-6 pt-0",a),...e}));Ur.displayName="CardContent";const Wr=c.forwardRef(({className:a,...e},s)=>t.jsx("div",{ref:s,className:fe("flex items-center p-6 pt-0",a),...e}));Wr.displayName="CardFooter";function Ke(a){"@babel/helpers - typeof";return Ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ke(a)}function ve(a){if(a===null||a===!0||a===!1)return NaN;var e=Number(a);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function W(a,e){if(e.length<a)throw new TypeError(a+" argument"+(a>1?"s":"")+" required, but only "+e.length+" present")}function $(a){W(1,arguments);var e=Object.prototype.toString.call(a);return a instanceof Date||Ke(a)==="object"&&e==="[object Date]"?new Date(a.getTime()):typeof a=="number"||e==="[object Number]"?new Date(a):((typeof a=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Br(a,e){W(2,arguments);var s=$(a).getTime(),r=ve(e);return new Date(s+r)}var Yr={};function ze(){return Yr}function vt(a){var e=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return e.setUTCFullYear(a.getFullYear()),a.getTime()-e.getTime()}function Ve(a,e){W(2,arguments);var s=$(a),r=$(e),n=s.getTime()-r.getTime();return n<0?-1:n>0?1:n}function Vr(a){return W(1,arguments),a instanceof Date||Ke(a)==="object"&&Object.prototype.toString.call(a)==="[object Date]"}function qr(a){if(W(1,arguments),!Vr(a)&&typeof a!="number")return!1;var e=$(a);return!isNaN(Number(e))}function Fr(a,e){W(2,arguments);var s=$(a),r=$(e),n=s.getFullYear()-r.getFullYear(),i=s.getMonth()-r.getMonth();return n*12+i}function Hr(a,e){return W(2,arguments),$(a).getTime()-$(e).getTime()}var Gr={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},Kr="trunc";function Qr(a){return Gr[Kr]}function Xr(a){W(1,arguments);var e=$(a);return e.setHours(23,59,59,999),e}function Jr(a){W(1,arguments);var e=$(a),s=e.getMonth();return e.setFullYear(e.getFullYear(),s+1,0),e.setHours(23,59,59,999),e}function Zr(a){W(1,arguments);var e=$(a);return Xr(e).getTime()===Jr(e).getTime()}function en(a,e){W(2,arguments);var s=$(a),r=$(e),n=Ve(s,r),i=Math.abs(Fr(s,r)),o;if(i<1)o=0;else{s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-n*i);var l=Ve(s,r)===-n;Zr($(a))&&i===1&&Ve(a,r)===1&&(l=!1),o=n*(i-Number(l))}return o===0?0:o}function tn(a,e,s){W(2,arguments);var r=Hr(a,e)/1e3;return Qr()(r)}function sn(a,e){W(2,arguments);var s=ve(e);return Br(a,-s)}var an=864e5;function rn(a){W(1,arguments);var e=$(a),s=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),n=s-r;return Math.floor(n/an)+1}function Qe(a){W(1,arguments);var e=1,s=$(a),r=s.getUTCDay(),n=(r<e?7:0)+r-e;return s.setUTCDate(s.getUTCDate()-n),s.setUTCHours(0,0,0,0),s}function Ns(a){W(1,arguments);var e=$(a),s=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(s+1,0,4),r.setUTCHours(0,0,0,0);var n=Qe(r),i=new Date(0);i.setUTCFullYear(s,0,4),i.setUTCHours(0,0,0,0);var o=Qe(i);return e.getTime()>=n.getTime()?s+1:e.getTime()>=o.getTime()?s:s-1}function nn(a){W(1,arguments);var e=Ns(a),s=new Date(0);s.setUTCFullYear(e,0,4),s.setUTCHours(0,0,0,0);var r=Qe(s);return r}var on=6048e5;function ln(a){W(1,arguments);var e=$(a),s=Qe(e).getTime()-nn(e).getTime();return Math.round(s/on)+1}function Xe(a,e){var s,r,n,i,o,l,d,m;W(1,arguments);var u=ze(),g=ve((s=(r=(n=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&n!==void 0?n:u.weekStartsOn)!==null&&r!==void 0?r:(d=u.locale)===null||d===void 0||(m=d.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&s!==void 0?s:0);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=$(a),b=f.getUTCDay(),k=(b<g?7:0)+b-g;return f.setUTCDate(f.getUTCDate()-k),f.setUTCHours(0,0,0,0),f}function ks(a,e){var s,r,n,i,o,l,d,m;W(1,arguments);var u=$(a),g=u.getUTCFullYear(),f=ze(),b=ve((s=(r=(n=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:f.firstWeekContainsDate)!==null&&r!==void 0?r:(d=f.locale)===null||d===void 0||(m=d.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(b>=1&&b<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=new Date(0);k.setUTCFullYear(g+1,0,b),k.setUTCHours(0,0,0,0);var p=Xe(k,e),h=new Date(0);h.setUTCFullYear(g,0,b),h.setUTCHours(0,0,0,0);var E=Xe(h,e);return u.getTime()>=p.getTime()?g+1:u.getTime()>=E.getTime()?g:g-1}function cn(a,e){var s,r,n,i,o,l,d,m;W(1,arguments);var u=ze(),g=ve((s=(r=(n=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:u.firstWeekContainsDate)!==null&&r!==void 0?r:(d=u.locale)===null||d===void 0||(m=d.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&s!==void 0?s:1),f=ks(a,e),b=new Date(0);b.setUTCFullYear(f,0,g),b.setUTCHours(0,0,0,0);var k=Xe(b,e);return k}var dn=6048e5;function un(a,e){W(1,arguments);var s=$(a),r=Xe(s,e).getTime()-cn(s,e).getTime();return Math.round(r/dn)+1}function z(a,e){for(var s=a<0?"-":"",r=Math.abs(a).toString();r.length<e;)r="0"+r;return s+r}var le={y:function(e,s){var r=e.getUTCFullYear(),n=r>0?r:1-r;return z(s==="yy"?n%100:n,s.length)},M:function(e,s){var r=e.getUTCMonth();return s==="M"?String(r+1):z(r+1,2)},d:function(e,s){return z(e.getUTCDate(),s.length)},a:function(e,s){var r=e.getUTCHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,s){return z(e.getUTCHours()%12||12,s.length)},H:function(e,s){return z(e.getUTCHours(),s.length)},m:function(e,s){return z(e.getUTCMinutes(),s.length)},s:function(e,s){return z(e.getUTCSeconds(),s.length)},S:function(e,s){var r=s.length,n=e.getUTCMilliseconds(),i=Math.floor(n*Math.pow(10,r-3));return z(i,s.length)}},we={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},mn={G:function(e,s,r){var n=e.getUTCFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,s,r){if(s==="yo"){var n=e.getUTCFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return le.y(e,s)},Y:function(e,s,r,n){var i=ks(e,n),o=i>0?i:1-i;if(s==="YY"){var l=o%100;return z(l,2)}return s==="Yo"?r.ordinalNumber(o,{unit:"year"}):z(o,s.length)},R:function(e,s){var r=Ns(e);return z(r,s.length)},u:function(e,s){var r=e.getUTCFullYear();return z(r,s.length)},Q:function(e,s,r){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(s){case"Q":return String(n);case"QQ":return z(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,s,r){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(s){case"q":return String(n);case"qq":return z(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,s,r){var n=e.getUTCMonth();switch(s){case"M":case"MM":return le.M(e,s);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,s,r){var n=e.getUTCMonth();switch(s){case"L":return String(n+1);case"LL":return z(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,s,r,n){var i=un(e,n);return s==="wo"?r.ordinalNumber(i,{unit:"week"}):z(i,s.length)},I:function(e,s,r){var n=ln(e);return s==="Io"?r.ordinalNumber(n,{unit:"week"}):z(n,s.length)},d:function(e,s,r){return s==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):le.d(e,s)},D:function(e,s,r){var n=rn(e);return s==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):z(n,s.length)},E:function(e,s,r){var n=e.getUTCDay();switch(s){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,s,r,n){var i=e.getUTCDay(),o=(i-n.weekStartsOn+8)%7||7;switch(s){case"e":return String(o);case"ee":return z(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,s,r,n){var i=e.getUTCDay(),o=(i-n.weekStartsOn+8)%7||7;switch(s){case"c":return String(o);case"cc":return z(o,s.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,s,r){var n=e.getUTCDay(),i=n===0?7:n;switch(s){case"i":return String(i);case"ii":return z(i,s.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,s,r){var n=e.getUTCHours(),i=n/12>=1?"pm":"am";switch(s){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,s,r){var n=e.getUTCHours(),i;switch(n===12?i=we.noon:n===0?i=we.midnight:i=n/12>=1?"pm":"am",s){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,s,r){var n=e.getUTCHours(),i;switch(n>=17?i=we.evening:n>=12?i=we.afternoon:n>=4?i=we.morning:i=we.night,s){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,s,r){if(s==="ho"){var n=e.getUTCHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return le.h(e,s)},H:function(e,s,r){return s==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):le.H(e,s)},K:function(e,s,r){var n=e.getUTCHours()%12;return s==="Ko"?r.ordinalNumber(n,{unit:"hour"}):z(n,s.length)},k:function(e,s,r){var n=e.getUTCHours();return n===0&&(n=24),s==="ko"?r.ordinalNumber(n,{unit:"hour"}):z(n,s.length)},m:function(e,s,r){return s==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):le.m(e,s)},s:function(e,s,r){return s==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):le.s(e,s)},S:function(e,s){return le.S(e,s)},X:function(e,s,r,n){var i=n._originalDate||e,o=i.getTimezoneOffset();if(o===0)return"Z";switch(s){case"X":return Ft(o);case"XXXX":case"XX":return pe(o);case"XXXXX":case"XXX":default:return pe(o,":")}},x:function(e,s,r,n){var i=n._originalDate||e,o=i.getTimezoneOffset();switch(s){case"x":return Ft(o);case"xxxx":case"xx":return pe(o);case"xxxxx":case"xxx":default:return pe(o,":")}},O:function(e,s,r,n){var i=n._originalDate||e,o=i.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+qt(o,":");case"OOOO":default:return"GMT"+pe(o,":")}},z:function(e,s,r,n){var i=n._originalDate||e,o=i.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+qt(o,":");case"zzzz":default:return"GMT"+pe(o,":")}},t:function(e,s,r,n){var i=n._originalDate||e,o=Math.floor(i.getTime()/1e3);return z(o,s.length)},T:function(e,s,r,n){var i=n._originalDate||e,o=i.getTime();return z(o,s.length)}};function qt(a,e){var s=a>0?"-":"+",r=Math.abs(a),n=Math.floor(r/60),i=r%60;if(i===0)return s+String(n);var o=e;return s+String(n)+o+z(i,2)}function Ft(a,e){if(a%60===0){var s=a>0?"-":"+";return s+z(Math.abs(a)/60,2)}return pe(a,e)}function pe(a,e){var s=e||"",r=a>0?"-":"+",n=Math.abs(a),i=z(Math.floor(n/60),2),o=z(n%60,2);return r+i+s+o}var Ht=function(e,s){switch(e){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},_s=function(e,s){switch(e){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},hn=function(e,s){var r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return Ht(e,s);var o;switch(n){case"P":o=s.dateTime({width:"short"});break;case"PP":o=s.dateTime({width:"medium"});break;case"PPP":o=s.dateTime({width:"long"});break;case"PPPP":default:o=s.dateTime({width:"full"});break}return o.replace("{{date}}",Ht(n,s)).replace("{{time}}",_s(i,s))},fn={p:_s,P:hn},gn=["D","DD"],pn=["YY","YYYY"];function xn(a){return gn.indexOf(a)!==-1}function bn(a){return pn.indexOf(a)!==-1}function Gt(a,e,s){if(a==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(a==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(a==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(a==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var vn={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},yn=function(e,s,r){var n,i=vn[e];return typeof i=="string"?n=i:s===1?n=i.one:n=i.other.replace("{{count}}",s.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function ke(a){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=e.width?String(e.width):a.defaultWidth,r=a.formats[s]||a.formats[a.defaultWidth];return r}}var wn={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},jn={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Nn={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kn={date:ke({formats:wn,defaultWidth:"full"}),time:ke({formats:jn,defaultWidth:"full"}),dateTime:ke({formats:Nn,defaultWidth:"full"})},_n={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},En=function(e,s,r,n){return _n[e]};function te(a){return function(e,s){var r=s!=null&&s.context?String(s.context):"standalone",n;if(r==="formatting"&&a.formattingValues){var i=a.defaultFormattingWidth||a.defaultWidth,o=s!=null&&s.width?String(s.width):i;n=a.formattingValues[o]||a.formattingValues[i]}else{var l=a.defaultWidth,d=s!=null&&s.width?String(s.width):a.defaultWidth;n=a.values[d]||a.values[l]}var m=a.argumentCallback?a.argumentCallback(e):e;return n[m]}}var Sn={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Tn={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Cn={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Dn={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},An={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Pn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},On=function(e,s){var r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Mn={ordinalNumber:On,era:te({values:Sn,defaultWidth:"wide"}),quarter:te({values:Tn,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:te({values:Cn,defaultWidth:"wide"}),day:te({values:Dn,defaultWidth:"wide"}),dayPeriod:te({values:An,defaultWidth:"wide",formattingValues:Pn,defaultFormattingWidth:"wide"})};function se(a){return function(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=s.width,n=r&&a.matchPatterns[r]||a.matchPatterns[a.defaultMatchWidth],i=e.match(n);if(!i)return null;var o=i[0],l=r&&a.parsePatterns[r]||a.parsePatterns[a.defaultParseWidth],d=Array.isArray(l)?In(l,function(g){return g.test(o)}):Rn(l,function(g){return g.test(o)}),m;m=a.valueCallback?a.valueCallback(d):d,m=s.valueCallback?s.valueCallback(m):m;var u=e.slice(o.length);return{value:m,rest:u}}}function Rn(a,e){for(var s in a)if(a.hasOwnProperty(s)&&e(a[s]))return s}function In(a,e){for(var s=0;s<a.length;s++)if(e(a[s]))return s}function Es(a){return function(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(a.matchPattern);if(!r)return null;var n=r[0],i=e.match(a.parsePattern);if(!i)return null;var o=a.valueCallback?a.valueCallback(i[0]):i[0];o=s.valueCallback?s.valueCallback(o):o;var l=e.slice(n.length);return{value:o,rest:l}}}var zn=/^(\d+)(th|st|nd|rd)?/i,Ln=/\d+/i,$n={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Un={any:[/^b/i,/^(a|c)/i]},Wn={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Bn={any:[/1/i,/2/i,/3/i,/4/i]},Yn={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Vn={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},qn={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Fn={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Hn={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Gn={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Kn={ordinalNumber:Es({matchPattern:zn,parsePattern:Ln,valueCallback:function(e){return parseInt(e,10)}}),era:se({matchPatterns:$n,defaultMatchWidth:"wide",parsePatterns:Un,defaultParseWidth:"any"}),quarter:se({matchPatterns:Wn,defaultMatchWidth:"wide",parsePatterns:Bn,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:se({matchPatterns:Yn,defaultMatchWidth:"wide",parsePatterns:Vn,defaultParseWidth:"any"}),day:se({matchPatterns:qn,defaultMatchWidth:"wide",parsePatterns:Fn,defaultParseWidth:"any"}),dayPeriod:se({matchPatterns:Hn,defaultMatchWidth:"any",parsePatterns:Gn,defaultParseWidth:"any"})},Ss={code:"en-US",formatDistance:yn,formatLong:kn,formatRelative:En,localize:Mn,match:Kn,options:{weekStartsOn:0,firstWeekContainsDate:1}},Qn=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Xn=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Jn=/^'([^]*?)'?$/,Zn=/''/g,ei=/[a-zA-Z]/;function ti(a,e,s){var r,n,i,o,l,d,m,u,g,f,b,k,p,h,E,v,x,S;W(2,arguments);var j=String(e),D=ze(),A=(r=(n=s==null?void 0:s.locale)!==null&&n!==void 0?n:D.locale)!==null&&r!==void 0?r:Ss,P=ve((i=(o=(l=(d=s==null?void 0:s.firstWeekContainsDate)!==null&&d!==void 0?d:s==null||(m=s.locale)===null||m===void 0||(u=m.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&l!==void 0?l:D.firstWeekContainsDate)!==null&&o!==void 0?o:(g=D.locale)===null||g===void 0||(f=g.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(P>=1&&P<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var L=ve((b=(k=(p=(h=s==null?void 0:s.weekStartsOn)!==null&&h!==void 0?h:s==null||(E=s.locale)===null||E===void 0||(v=E.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&p!==void 0?p:D.weekStartsOn)!==null&&k!==void 0?k:(x=D.locale)===null||x===void 0||(S=x.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&b!==void 0?b:0);if(!(L>=0&&L<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!A.localize)throw new RangeError("locale must contain localize property");if(!A.formatLong)throw new RangeError("locale must contain formatLong property");var H=$(a);if(!qr(H))throw new RangeError("Invalid time value");var O=vt(H),C=sn(H,O),I={firstWeekContainsDate:P,weekStartsOn:L,locale:A,_originalDate:H},q=j.match(Xn).map(function(Y){var Q=Y[0];if(Q==="p"||Q==="P"){var ge=fn[Q];return ge(Y,A.formatLong)}return Y}).join("").match(Qn).map(function(Y){if(Y==="''")return"'";var Q=Y[0];if(Q==="'")return si(Y);var ge=mn[Q];if(ge)return!(s!=null&&s.useAdditionalWeekYearTokens)&&bn(Y)&&Gt(Y,e,String(a)),!(s!=null&&s.useAdditionalDayOfYearTokens)&&xn(Y)&&Gt(Y,e,String(a)),ge(C,Y,A.localize,I);if(Q.match(ei))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Q+"`");return Y}).join("");return q}function si(a){var e=a.match(Jn);return e?e[1].replace(Zn,"'"):a}function Ts(a,e){if(a==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(a[s]=e[s]);return a}function ai(a){return Ts({},a)}var Kt=1440,ri=2520,ut=43200,ni=86400;function ii(a,e,s){var r,n;W(2,arguments);var i=ze(),o=(r=(n=s==null?void 0:s.locale)!==null&&n!==void 0?n:i.locale)!==null&&r!==void 0?r:Ss;if(!o.formatDistance)throw new RangeError("locale must contain formatDistance property");var l=Ve(a,e);if(isNaN(l))throw new RangeError("Invalid time value");var d=Ts(ai(s),{addSuffix:!!(s!=null&&s.addSuffix),comparison:l}),m,u;l>0?(m=$(e),u=$(a)):(m=$(a),u=$(e));var g=tn(u,m),f=(vt(u)-vt(m))/1e3,b=Math.round((g-f)/60),k;if(b<2)return s!=null&&s.includeSeconds?g<5?o.formatDistance("lessThanXSeconds",5,d):g<10?o.formatDistance("lessThanXSeconds",10,d):g<20?o.formatDistance("lessThanXSeconds",20,d):g<40?o.formatDistance("halfAMinute",0,d):g<60?o.formatDistance("lessThanXMinutes",1,d):o.formatDistance("xMinutes",1,d):b===0?o.formatDistance("lessThanXMinutes",1,d):o.formatDistance("xMinutes",b,d);if(b<45)return o.formatDistance("xMinutes",b,d);if(b<90)return o.formatDistance("aboutXHours",1,d);if(b<Kt){var p=Math.round(b/60);return o.formatDistance("aboutXHours",p,d)}else{if(b<ri)return o.formatDistance("xDays",1,d);if(b<ut){var h=Math.round(b/Kt);return o.formatDistance("xDays",h,d)}else if(b<ni)return k=Math.round(b/ut),o.formatDistance("aboutXMonths",k,d)}if(k=en(u,m),k<12){var E=Math.round(b/ut);return o.formatDistance("xMonths",E,d)}else{var v=k%12,x=Math.floor(k/12);return v<3?o.formatDistance("aboutXYears",x,d):v<9?o.formatDistance("overXYears",x,d):o.formatDistance("almostXYears",x+1,d)}}function Cs(a,e){return W(1,arguments),ii(a,Date.now(),e)}var oi={lessThanXSeconds:{one:"bir saniyeden az",other:"{{count}} saniyeden az"},xSeconds:{one:"1 saniye",other:"{{count}} saniye"},halfAMinute:"yarım dakika",lessThanXMinutes:{one:"bir dakikadan az",other:"{{count}} dakikadan az"},xMinutes:{one:"1 dakika",other:"{{count}} dakika"},aboutXHours:{one:"yaklaşık 1 saat",other:"yaklaşık {{count}} saat"},xHours:{one:"1 saat",other:"{{count}} saat"},xDays:{one:"1 gün",other:"{{count}} gün"},aboutXWeeks:{one:"yaklaşık 1 hafta",other:"yaklaşık {{count}} hafta"},xWeeks:{one:"1 hafta",other:"{{count}} hafta"},aboutXMonths:{one:"yaklaşık 1 ay",other:"yaklaşık {{count}} ay"},xMonths:{one:"1 ay",other:"{{count}} ay"},aboutXYears:{one:"yaklaşık 1 yıl",other:"yaklaşık {{count}} yıl"},xYears:{one:"1 yıl",other:"{{count}} yıl"},overXYears:{one:"1 yıldan fazla",other:"{{count}} yıldan fazla"},almostXYears:{one:"neredeyse 1 yıl",other:"neredeyse {{count}} yıl"}},li=function(e,s,r){var n,i=oi[e];return typeof i=="string"?n=i:s===1?n=i.one:n=i.other.replace("{{count}}",s.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?n+" sonra":n+" önce":n},ci={full:"d MMMM y EEEE",long:"d MMMM y",medium:"d MMM y",short:"dd.MM.yyyy"},di={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},ui={full:"{{date}} 'saat' {{time}}",long:"{{date}} 'saat' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mi={date:ke({formats:ci,defaultWidth:"full"}),time:ke({formats:di,defaultWidth:"full"}),dateTime:ke({formats:ui,defaultWidth:"full"})},hi={lastWeek:"'geçen hafta' eeee 'saat' p",yesterday:"'dün saat' p",today:"'bugün saat' p",tomorrow:"'yarın saat' p",nextWeek:"eeee 'saat' p",other:"P"},fi=function(e,s,r,n){return hi[e]},gi={narrow:["MÖ","MS"],abbreviated:["MÖ","MS"],wide:["Milattan Önce","Milattan Sonra"]},pi={narrow:["1","2","3","4"],abbreviated:["1Ç","2Ç","3Ç","4Ç"],wide:["İlk çeyrek","İkinci Çeyrek","Üçüncü çeyrek","Son çeyrek"]},xi={narrow:["O","Ş","M","N","M","H","T","A","E","E","K","A"],abbreviated:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],wide:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"]},bi={narrow:["P","P","S","Ç","P","C","C"],short:["Pz","Pt","Sa","Ça","Pe","Cu","Ct"],abbreviated:["Paz","Pzt","Sal","Çar","Per","Cum","Cts"],wide:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"]},vi={narrow:{am:"öö",pm:"ös",midnight:"gy",noon:"ö",morning:"sa",afternoon:"ös",evening:"ak",night:"ge"},abbreviated:{am:"ÖÖ",pm:"ÖS",midnight:"gece yarısı",noon:"öğle",morning:"sabah",afternoon:"öğleden sonra",evening:"akşam",night:"gece"},wide:{am:"Ö.Ö.",pm:"Ö.S.",midnight:"gece yarısı",noon:"öğle",morning:"sabah",afternoon:"öğleden sonra",evening:"akşam",night:"gece"}},yi={narrow:{am:"öö",pm:"ös",midnight:"gy",noon:"ö",morning:"sa",afternoon:"ös",evening:"ak",night:"ge"},abbreviated:{am:"ÖÖ",pm:"ÖS",midnight:"gece yarısı",noon:"öğlen",morning:"sabahleyin",afternoon:"öğleden sonra",evening:"akşamleyin",night:"geceleyin"},wide:{am:"ö.ö.",pm:"ö.s.",midnight:"gece yarısı",noon:"öğlen",morning:"sabahleyin",afternoon:"öğleden sonra",evening:"akşamleyin",night:"geceleyin"}},wi=function(e,s){var r=Number(e);return r+"."},ji={ordinalNumber:wi,era:te({values:gi,defaultWidth:"wide"}),quarter:te({values:pi,defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:te({values:xi,defaultWidth:"wide"}),day:te({values:bi,defaultWidth:"wide"}),dayPeriod:te({values:vi,defaultWidth:"wide",formattingValues:yi,defaultFormattingWidth:"wide"})},Ni=/^(\d+)(\.)?/i,ki=/\d+/i,_i={narrow:/^(mö|ms)/i,abbreviated:/^(mö|ms)/i,wide:/^(milattan önce|milattan sonra)/i},Ei={any:[/(^mö|^milattan önce)/i,/(^ms|^milattan sonra)/i]},Si={narrow:/^[1234]/i,abbreviated:/^[1234]ç/i,wide:/^((i|İ)lk|(i|İ)kinci|üçüncü|son) çeyrek/i},Ti={any:[/1/i,/2/i,/3/i,/4/i],abbreviated:[/1ç/i,/2ç/i,/3ç/i,/4ç/i],wide:[/^(i|İ)lk çeyrek/i,/(i|İ)kinci çeyrek/i,/üçüncü çeyrek/i,/son çeyrek/i]},Ci={narrow:/^[oşmnhtaek]/i,abbreviated:/^(oca|şub|mar|nis|may|haz|tem|ağu|eyl|eki|kas|ara)/i,wide:/^(ocak|şubat|mart|nisan|mayıs|haziran|temmuz|ağustos|eylül|ekim|kasım|aralık)/i},Di={narrow:[/^o/i,/^ş/i,/^m/i,/^n/i,/^m/i,/^h/i,/^t/i,/^a/i,/^e/i,/^e/i,/^k/i,/^a/i],any:[/^o/i,/^ş/i,/^mar/i,/^n/i,/^may/i,/^h/i,/^t/i,/^ağ/i,/^ey/i,/^ek/i,/^k/i,/^ar/i]},Ai={narrow:/^[psçc]/i,short:/^(pz|pt|sa|ça|pe|cu|ct)/i,abbreviated:/^(paz|pzt|sal|çar|per|cum|cts)/i,wide:/^(pazar(?!tesi)|pazartesi|salı|çarşamba|perşembe|cuma(?!rtesi)|cumartesi)/i},Pi={narrow:[/^p/i,/^p/i,/^s/i,/^ç/i,/^p/i,/^c/i,/^c/i],any:[/^pz/i,/^pt/i,/^sa/i,/^ça/i,/^pe/i,/^cu/i,/^ct/i],wide:[/^pazar(?!tesi)/i,/^pazartesi/i,/^salı/i,/^çarşamba/i,/^perşembe/i,/^cuma(?!rtesi)/i,/^cumartesi/i]},Oi={narrow:/^(öö|ös|gy|ö|sa|ös|ak|ge)/i,any:/^(ö\.?\s?[ös]\.?|öğleden sonra|gece yarısı|öğle|(sabah|öğ|akşam|gece)(leyin))/i},Mi={any:{am:/^ö\.?ö\.?/i,pm:/^ö\.?s\.?/i,midnight:/^(gy|gece yarısı)/i,noon:/^öğ/i,morning:/^sa/i,afternoon:/^öğleden sonra/i,evening:/^ak/i,night:/^ge/i}},Ri={ordinalNumber:Es({matchPattern:Ni,parsePattern:ki,valueCallback:function(e){return parseInt(e,10)}}),era:se({matchPatterns:_i,defaultMatchWidth:"wide",parsePatterns:Ei,defaultParseWidth:"any"}),quarter:se({matchPatterns:Si,defaultMatchWidth:"wide",parsePatterns:Ti,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:se({matchPatterns:Ci,defaultMatchWidth:"wide",parsePatterns:Di,defaultParseWidth:"any"}),day:se({matchPatterns:Ai,defaultMatchWidth:"wide",parsePatterns:Pi,defaultParseWidth:"any"}),dayPeriod:se({matchPatterns:Oi,defaultMatchWidth:"any",parsePatterns:Mi,defaultParseWidth:"any"})},Nt={code:"tr",formatDistance:li,formatLong:mi,formatRelative:fi,localize:ji,match:Ri,options:{weekStartsOn:1,firstWeekContainsDate:1}};function Ii({userId:a}){const[e,s]=c.useState([]),[r,n]=c.useState(0),[i,o]=c.useState(!1),[l,d]=c.useState(!1);c.useEffect(()=>{m();const h=_.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${a}`},E=>{const v=E.new;s(x=>[v,...x]),n(x=>x+1),Notification.permission==="granted"&&new Notification(v.title,{body:v.message,icon:"/favicon.ico"})}).subscribe();return()=>{h.unsubscribe()}},[a]);const m=async()=>{d(!0);try{const{data:h,error:E}=await _.from("notifications").select("*").eq("user_id",a).order("created_at",{ascending:!1}).limit(20);if(E)throw E;s(h||[]),n((h==null?void 0:h.filter(v=>!v.is_read).length)||0)}catch(h){console.error("Failed to fetch notifications:",h)}finally{d(!1)}},u=async h=>{try{const{error:E}=await _.from("notifications").update({is_read:!0,read_at:new Date().toISOString()}).eq("id",h);if(E)throw E;s(v=>v.map(x=>x.id===h?{...x,is_read:!0,read_at:new Date().toISOString()}:x)),n(v=>Math.max(0,v-1))}catch(E){console.error("Failed to mark notification as read:",E)}},g=async()=>{try{const h=e.filter(v=>!v.is_read).map(v=>v.id);if(h.length===0)return;const{error:E}=await _.from("notifications").update({is_read:!0,read_at:new Date().toISOString()}).in("id",h);if(E)throw E;s(v=>v.map(x=>({...x,is_read:!0,read_at:new Date().toISOString()}))),n(0)}catch(h){console.error("Failed to mark all notifications as read:",h)}},f=async h=>{var E;try{const{error:v}=await _.from("notifications").delete().eq("id",h);if(v)throw v;const x=((E=e.find(S=>S.id===h))==null?void 0:E.is_read)===!1;s(S=>S.filter(j=>j.id!==h)),x&&n(S=>Math.max(0,S-1))}catch(v){console.error("Failed to delete notification:",v)}},b=h=>{switch(h){case"meeting_invite":case"meeting_reminder":case"meeting_update":return t.jsx(ns,{className:"h-5 w-5 text-blue-500"});case"task_assigned":case"task_completed":case"task_due_reminder":return t.jsx(Ks,{className:"h-5 w-5 text-green-500"});case"new_message":case"mention":return t.jsx(Be,{className:"h-5 w-5 text-purple-500"});case"user_joined":return t.jsx(rs,{className:"h-5 w-5 text-orange-500"});default:return t.jsx(at,{className:"h-5 w-5 text-gray-500"})}},k=h=>{if(h.is_read||u(h.id),h.data){const{type:E,data:v}=h;switch(E){case"meeting_invite":case"meeting_reminder":case"meeting_update":v.meeting_id&&(window.location.href=`/meetings?id=${v.meeting_id}`);break;case"task_assigned":case"task_completed":case"task_due_reminder":v.task_id&&(window.location.href=`/tasks?id=${v.task_id}`);break;case"new_message":case"mention":v.conversation_id&&(window.location.href=`/internal-messages?conversation=${v.conversation_id}`);break}}},p=async()=>{Notification.permission==="default"&&await Notification.requestPermission()};return c.useEffect(()=>{p()},[]),t.jsxs("div",{className:"relative",children:[t.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>o(!i),className:"relative",children:[t.jsx(at,{className:"h-5 w-5"}),r>0&&t.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 text-xs flex items-center justify-center",children:r>9?"9+":r})]}),i&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>o(!1)}),t.jsxs(jt,{className:"absolute right-0 mt-2 w-80 max-h-96 overflow-hidden z-50 shadow-lg",children:[t.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[t.jsx("h3",{className:"font-semibold",children:"Bildirimler"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[r>0&&t.jsx(X,{size:"sm",variant:"ghost",onClick:g,className:"text-xs",children:"Tümünü Okundu İşaretle"}),t.jsx(X,{size:"sm",variant:"ghost",onClick:()=>o(!1),children:t.jsx(Ee,{className:"h-4 w-4"})})]})]}),t.jsx("div",{className:"max-h-64 overflow-y-auto",children:l?t.jsxs("div",{className:"p-4 text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto"}),t.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Yükleniyor..."})]}):e.length>0?t.jsx("div",{className:"divide-y",children:e.map(h=>t.jsx("div",{className:`p-4 hover:bg-muted/50 cursor-pointer transition-colors ${h.is_read?"":"bg-primary/5"}`,onClick:()=>k(h),children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"flex-shrink-0 mt-1",children:b(h.type)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h4",{className:`text-sm font-medium truncate ${h.is_read?"text-muted-foreground":"text-foreground"}`,children:h.title}),t.jsxs("div",{className:"flex items-center space-x-1",children:[!h.is_read&&t.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),t.jsx(X,{size:"sm",variant:"ghost",onClick:E=>{E.stopPropagation(),f(h.id)},className:"p-1 h-auto",children:t.jsx(Ee,{className:"h-3 w-3"})})]})]}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:h.message}),t.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:ti(new Date(h.created_at),"dd MMM HH:mm",{locale:Nt})})]})]})},h.id))}):t.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[t.jsx(at,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"Bildirim bulunmuyor"})]})}),e.length>0&&t.jsx("div",{className:"p-2 border-t",children:t.jsx(X,{variant:"ghost",size:"sm",className:"w-full text-sm",onClick:()=>{o(!1),window.location.href="/notifications"},children:"Tüm Bildirimleri Görüntüle"})})]})]})]})}const Ds=c.createContext(void 0),kt=()=>{const a=c.useContext(Ds);if(!a)throw new Error("useTheme must be used within a ThemeProvider");return a},zi=({children:a,defaultTheme:e="system",storageKey:s="ui-theme"})=>{const[r,n]=c.useState(()=>{if(typeof window<"u"){const d=localStorage.getItem(s);if(d&&["light","dark","system"].includes(d))return d}return e}),[i,o]=c.useState("light");c.useEffect(()=>{localStorage.setItem(s,r);const m=r==="system"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":r;o(m);const u=window.document.documentElement;if(u.classList.remove("light","dark"),u.classList.add(m),r==="system"){const g=window.matchMedia("(prefers-color-scheme: dark)"),f=b=>{const k=b.matches?"dark":"light";o(k),u.classList.remove("light","dark"),u.classList.add(k)};return g.addEventListener("change",f),()=>g.removeEventListener("change",f)}},[r,s]);const l={theme:r,setTheme:n,actualTheme:i};return t.jsx(Ds.Provider,{value:l,children:a})},Li=()=>{const{theme:a,setTheme:e}=kt(),s=()=>{e(a==="light"?"dark":a==="dark"?"system":"light")},r=()=>{switch(a){case"light":return t.jsx(Ct,{className:"h-4 w-4"});case"dark":return t.jsx(Xs,{className:"h-4 w-4"});case"system":return t.jsx(Qs,{className:"h-4 w-4"});default:return t.jsx(Ct,{className:"h-4 w-4"})}},n=()=>{switch(a){case"light":return"Açık tema (Koyu temaya geç)";case"dark":return"Koyu tema (Sistem temasına geç)";case"system":return"Sistem teması (Açık temaya geç)";default:return"Tema değiştir"}};return t.jsx(X,{variant:"ghost",size:"icon",onClick:s,title:n(),className:"h-9 w-9 transition-colors hover:bg-accent hover:text-accent-foreground",children:r()})};async function wc(){const{data:a,error:e}=await _.from("user_management_view").select("*").order("created_at",{ascending:!1});if(e)throw new Error(`Kullanıcılar getirilemedi: ${e.message}`);return a||[]}async function jc(a,e,s){const r=await _.auth.getUser();if(!r.data.user)throw new Error("Oturum bulunamadı");const{data:n,error:i}=await _.rpc("change_user_role",{target_user_id:a,new_role:e,changed_by:r.data.user.id});if(i)throw new Error(`Rol değiştirilemedi: ${i.message}`);return s&&await _.from("role_change_logs").update({reason:s}).eq("target_user_id",a).eq("new_role",e).order("created_at",{ascending:!1}).limit(1),n}async function Nc(a,e){const{data:s,error:r}=await _.from("user_profiles").update({...e,updated_at:new Date().toISOString()}).eq("id",a).select().single();if(r)throw new Error(`Profil güncellenemedi: ${r.message}`);return s}async function kc(a,e){const{error:s}=await _.from("user_profiles").update({is_active:e,updated_at:new Date().toISOString()}).eq("id",a);if(s)throw new Error(`Kullanıcı durumu değiştirilemedi: ${s.message}`)}async function _c(){const{data:{user:a},error:e}=await _.auth.getUser();if(e||!a)throw new Error("Oturum bulunamadı");const{data:s,error:r}=await _.from("user_profiles").select("*").eq("id",a.id).single();if(r){const i={id:a.id,full_name:a.email||null,avatar_url:null,department:null,phone:null,email:a.email||"",role:"viewer",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return{user:a,profile:i,canManageUsers:!1}}const n=["admin","super_admin"].includes((s==null?void 0:s.role)||"");return{user:a,profile:s,canManageUsers:n}}async function Ec(){const{count:a,error:e}=await _.from("user_management_view").select("*",{count:"exact",head:!0}),{count:s,error:r}=await _.from("user_management_view").select("*",{count:"exact",head:!0}).eq("is_active",!0),{data:n,error:i}=await _.from("user_management_view").select("role"),o=new Date;o.setDate(o.getDate()-7);const{count:l,error:d}=await _.from("user_management_view").select("*",{count:"exact",head:!0}).gte("created_at",o.toISOString());if(e||r||i||d)throw new Error("İstatistikler getirilemedi");const m={super_admin:0,admin:0,manager:0,coordinator:0,operator:0,viewer:0};return n==null||n.forEach(u=>{u.role in m&&m[u.role]++}),{total:a||0,active:s||0,inactive:(a||0)-(s||0),byRole:m,recentSignups:l||0}}async function Sc(a){const{data:e,error:s}=await _.from("user_management_view").select("*").or(`email.ilike.%${a}%,full_name.ilike.%${a}%,department.ilike.%${a}%`).order("created_at",{ascending:!1});if(s)throw new Error(`Arama yapılamadı: ${s.message}`);return e||[]}async function $i(){const a=Date.now(),e=`demo_${a}@example.com`,s=`Demo123!${a.toString().slice(-4)}`;try{const{data:r,error:n}=await _.auth.signUp({email:e,password:s,options:{data:{full_name:`Demo Kullanıcı ${a.toString().slice(-4)}`,department:"Demo Departmanı"}}});if(n||!r.user)throw new Error(`Demo hesabı oluşturulamadı: ${(n==null?void 0:n.message)||"Bilinmeyen hata"}`);const i={id:r.user.id,full_name:`Demo Kullanıcı ${a.toString().slice(-4)}`,email:e,department:"Demo Departmanı",role:"coordinator",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:o,error:l}=await _.from("user_profiles").insert(i).select().single();if(l)throw await _.auth.admin.deleteUser(r.user.id),new Error(`Demo profili oluşturulamadı: ${l.message}`);return{email:e,password:s,profile:o}}catch(r){throw new Error(`Demo hesabı oluşturma hatası: ${r instanceof Error?r.message:"Bilinmeyen hata"}`)}}function Ui(){const{signIn:a}=ye();return Ls({mutationFn:$i,onSuccess:async e=>{M.success(`Demo hesabı oluşturuldu!
Email: ${e.email}
Şifre: ${e.password}
Rol: ${e.profile.role}`,{duration:1e4,action:{label:"Giriş Yap",onClick:async()=>{try{await a(e.email,e.password),M.success("Demo hesabıyla giriş yapıldı!")}catch{M.error("Giriş yapılamadı")}}}})},onError:e=>{M.error(`Demo hesabı oluşturulamadı: ${e.message}`)}})}const We=a=>["super_admin","admin","manager","coordinator","operator","viewer"].includes(a)?a:void 0;function Wi({onOpenAICenter:a}={}){const e=as(),s=Je(),{user:r,profile:n,signOut:i}=ye();sr();const o=n,[l,d]=c.useState(!1),m=Ui(),u=(()=>{const f=e.pathname;return f==="/"?"Dashboard":f.startsWith("/meetings")?"Toplantılar":f.startsWith("/internal-messages")?"İç Mesajlar":f.startsWith("/tasks")?"Görevler":f.startsWith("/donations")?"Bağış Yönetimi":f.startsWith("/messages")?"Mesaj Yönetimi":f.startsWith("/scholarship")?"Burs Yönetimi":f.startsWith("/aid")?"Yardım Yönetimi":f.startsWith("/fund")?"Fon Yönetimi":f.startsWith("/definitions")?"Tanımlamalar":f.startsWith("/system")?"Sistem Ayarları":"Panel"})(),g=async()=>{console.log("Logout disabled - login functionality removed")};return t.jsx("header",{className:"sticky top-0 z-10 h-14 border-b bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:t.jsxs("div",{className:"mx-auto flex h-full items-center justify-between px-4",children:[t.jsx("div",{className:"flex items-center gap-3",children:t.jsx("h1",{className:"text-lg font-semibold",children:u})}),t.jsxs("div",{className:"flex items-center gap-4 text-muted-foreground",children:[t.jsx(ar,{}),a&&t.jsxs("button",{onClick:a,className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-200 shadow-sm hover:shadow-md",title:"AI Komut Merkezi (Ctrl+K)",children:[t.jsx(qe,{className:"w-4 h-4"}),t.jsx("span",{className:"hidden sm:inline",children:"AI Asistan"})]}),r&&t.jsx(Ii,{userId:r.id}),t.jsx(Li,{}),r&&t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>d(!l),className:"flex items-center gap-2 hover:text-foreground transition-colors rounded-lg px-2 py-1 hover:bg-accent",title:"Kullanıcı Menüsü",children:[o!=null&&o.avatar_url?t.jsx("img",{src:o.avatar_url,alt:o.full_name||"User",className:"h-6 w-6 rounded-full"}):t.jsx(Js,{className:"h-6 w-6"}),(o==null?void 0:o.full_name)&&t.jsxs("div",{className:"hidden md:flex flex-col items-start",children:[t.jsx("span",{className:"text-sm font-medium text-foreground",children:o.full_name||r.email}),t.jsx("span",{className:"text-xs text-muted-foreground",children:We(o.role)?Wt(We(o.role)):"—"})]})]}),l&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>d(!1)}),t.jsxs("div",{className:"absolute right-0 top-full mt-1 w-56 rounded-md border bg-popover p-1 shadow-md z-20",children:[t.jsxs("div",{className:"px-3 py-2 border-b",children:[t.jsx("p",{className:"text-sm font-medium",children:(o==null?void 0:o.full_name)||"İsimsiz Kullanıcı"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:r.email}),t.jsx("p",{className:"text-xs text-muted-foreground",children:o&&We(o.role)?Wt(We(o.role)):"—"})]}),t.jsxs("button",{className:"flex w-full items-center gap-2 rounded-sm px-3 py-2 text-sm hover:bg-accent",onClick:()=>{d(!1)},children:[t.jsx(is,{className:"h-4 w-4"}),"Profilim"]}),t.jsxs("button",{className:"flex w-full items-center gap-2 rounded-sm px-3 py-2 text-sm hover:bg-accent",onClick:()=>{d(!1),s("/definitions/general-settings")},children:[t.jsx(he,{className:"h-4 w-4"}),"Ayarlar"]}),t.jsxs("button",{className:"flex w-full items-center gap-2 rounded-sm px-3 py-2 text-sm hover:bg-accent",onClick:()=>{d(!1),m.mutate()},disabled:m.isPending,children:[t.jsx(rs,{className:"h-4 w-4"}),m.isPending?"Demo Hesabı Oluşturuluyor...":"Demo Hesabı Oluştur"]}),t.jsx("div",{className:"border-t my-1"}),t.jsxs("button",{onClick:()=>{d(!1),g()},className:"flex w-full items-center gap-2 rounded-sm px-3 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-950",children:[t.jsx(Zs,{className:"h-4 w-4"}),"Çıkış Yap"]})]})]})]})]})]})})}function Bi(){const a=as(),[e,s]=c.useState(a.pathname.startsWith("/aid")),[r,n]=c.useState(a.pathname.startsWith("/messages")),[i,o]=c.useState(a.pathname.startsWith("/donations")),[l,d]=c.useState(a.pathname.startsWith("/scholarship")),[m,u]=c.useState(a.pathname.startsWith("/fund")),[g,f]=c.useState(a.pathname.startsWith("/system")),[b,k]=c.useState(a.pathname.startsWith("/definitions")),p=(P,L,H,O=!1)=>t.jsxs(Vs,{to:P,className:({isActive:C})=>`flex items-center gap-3 rounded px-3 py-2 text-sm hover:bg-white/10 transition-colors ${C?"bg-white/10 font-medium text-white":"text-white/70"} ${O?"ml-6":""}`,children:[L,t.jsx("span",{children:H})]}),h=(P,L,H,O)=>t.jsx("div",{children:t.jsxs("div",{className:"flex items-center gap-3 rounded px-3 py-2 text-sm hover:bg-white/10 transition-colors cursor-pointer text-white/70",onClick:O,children:[P,t.jsx("span",{className:"flex-1",children:L}),H?t.jsx(ea,{className:"h-4 w-4"}):t.jsx(ta,{className:"h-4 w-4"})]})}),E=[{to:"/aid/beneficiaries",icon:t.jsx(ee,{className:"h-4 w-4"}),label:"İhtiyaç Sahipleri"},{to:"/aid/applications",icon:t.jsx(me,{className:"h-4 w-4"}),label:"Yardım Başvuruları"},{to:"/aid/cash-vault",icon:t.jsx(rt,{className:"h-4 w-4"}),label:"Nakdi Yardım Veznesi"},{to:"/aid/bank-orders",icon:t.jsx($e,{className:"h-4 w-4"}),label:"Banka Ödeme Emirleri"},{to:"/aid/cash-operations",icon:t.jsx(Ye,{className:"h-4 w-4"}),label:"Nakdi Yardım İ��lemleri"},{to:"/aid/in-kind-operations",icon:t.jsx(nt,{className:"h-4 w-4"}),label:"Ayni Yardım İşlemleri"},{to:"/aid/service-tracking",icon:t.jsx(ee,{className:"h-4 w-4"}),label:"Hizmet Takip İşlemleri"},{to:"/aid/hospital-referrals",icon:t.jsx(Ot,{className:"h-4 w-4"}),label:"Hastane Sevk İşlemleri"},{to:"/aid/reports",icon:t.jsx(Le,{className:"h-4 w-4"}),label:"Raporlar"},{to:"/aid/parameters",icon:t.jsx(he,{className:"h-4 w-4"}),label:"Parametreler"},{to:"/aid/data-control",icon:t.jsx(Ae,{className:"h-4 w-4"}),label:"Veri Kontrolü"},{to:"/aid/module-info",icon:t.jsx(Ue,{className:"h-4 w-4"}),label:"Modül Bilgilendirme"}],v=[{to:"/donations",icon:t.jsx(Le,{className:"h-4 w-4"}),label:"Bağış Listesi"},{to:"/donations/vault",icon:t.jsx(rt,{className:"h-4 w-4"}),label:"Bağış Veznesi"},{to:"/donations/institutions",icon:t.jsx(ee,{className:"h-4 w-4"}),label:"Kurumlar"},{to:"/donations/cash",icon:t.jsx(Ye,{className:"h-4 w-4"}),label:"Nakit Bağışlar"},{to:"/donations/bank",icon:t.jsx($e,{className:"h-4 w-4"}),label:"Banka Bağışları"},{to:"/donations/credit-card",icon:t.jsx($e,{className:"h-4 w-4"}),label:"Kredi Kartı Bağışları"},{to:"/donations/online",icon:t.jsx(At,{className:"h-4 w-4"}),label:"Online Bağışlar"},{to:"/donations/numbers",icon:t.jsx(me,{className:"h-4 w-4"}),label:"Bağış Numaraları"},{to:"/donations/funding-definitions",icon:t.jsx(he,{className:"h-4 w-4"}),label:"Fonlama Tanımları"},{to:"/donations/sacrifice-periods",icon:t.jsx(De,{className:"h-4 w-4"}),label:"Kurban Dönemleri"},{to:"/donations/sacrifice-shares",icon:t.jsx(nt,{className:"h-4 w-4"}),label:"Kurban Hisseleri"},{to:"/donations/ramadan-periods",icon:t.jsx(De,{className:"h-4 w-4"}),label:"Ramazan Dönemleri"},{to:"/donations/piggy-bank-tracking",icon:t.jsx(Ae,{className:"h-4 w-4"}),label:"Kumbara Takibi"},{to:"/donations/bulk-provisioning",icon:t.jsx(Fe,{className:"h-4 w-4"}),label:"Toplu Provizyon"}],x=[{to:"/messages",icon:t.jsx(it,{className:"h-4 w-4"}),label:"Mesaj Yönetimi"},{to:"/messages/bulk-send",icon:t.jsx(Fe,{className:"h-4 w-4"}),label:"Toplu Mesaj Gönderimi"},{to:"/messages/groups",icon:t.jsx(De,{className:"h-4 w-4"}),label:"Mesaj Grupları"},{to:"/messages/templates",icon:t.jsx(Be,{className:"h-4 w-4"}),label:"Mesaj Şablonları"},{to:"/messages/sms-deliveries",icon:t.jsx(Pt,{className:"h-4 w-4"}),label:"SMS Gönderimleri"},{to:"/messages/email-deliveries",icon:t.jsx(At,{className:"h-4 w-4"}),label:"e-Posta Gönderimleri"},{to:"/messages/module-info",icon:t.jsx(Ue,{className:"h-4 w-4"}),label:"Modül Bilgilendirme"}],S=[{to:"/scholarship",icon:t.jsx(ee,{className:"h-4 w-4"}),label:"Yetimler & Öğrenciler"},{to:"/scholarship/visual-management",icon:t.jsx(me,{className:"h-4 w-4"}),label:"Görsel Yönetimi"},{to:"/scholarship/definitions",icon:t.jsx(he,{className:"h-4 w-4"}),label:"Tanımlamalar"},{to:"/scholarship/tracking-categories",icon:t.jsx(De,{className:"h-4 w-4"}),label:"Takip Kategorileri"},{to:"/scholarship/orphan-form",icon:t.jsx(me,{className:"h-4 w-4"}),label:"Yetim Bilgi Formu"},{to:"/scholarship/orphan-letters",icon:t.jsx(it,{className:"h-4 w-4"}),label:"Yetim Mektupları"},{to:"/scholarship/campaigns",icon:t.jsx(De,{className:"h-4 w-4"}),label:"Kampanyalar"},{to:"/scholarship/schools",icon:t.jsx(Me,{className:"h-4 w-4"}),label:"Okullar"},{to:"/scholarship/form-definitions",icon:t.jsx(me,{className:"h-4 w-4"}),label:"Form Tanımları"},{to:"/scholarship/price-definitions",icon:t.jsx(Ye,{className:"h-4 w-4"}),label:"Fiyat Tanımları"},{to:"/scholarship/address-labels",icon:t.jsx(nt,{className:"h-4 w-4"}),label:"Adres Etiket Baskı"},{to:"/scholarship/reports",icon:t.jsx(Le,{className:"h-4 w-4"}),label:"Raporlar"},{to:"/scholarship/data-control",icon:t.jsx(Ae,{className:"h-4 w-4"}),label:"Veri Kontrolü"},{to:"/scholarship/module-info",icon:t.jsx(Ue,{className:"h-4 w-4"}),label:"Modül Bilgilendirme"}],j=[{to:"/fund/movements",icon:t.jsx(os,{className:"h-4 w-4"}),label:"Tüm Fon Hareketleri"},{to:"/fund/complete-report",icon:t.jsx(Le,{className:"h-4 w-4"}),label:"Tam Fon Raporu"},{to:"/fund/regions",icon:t.jsx(sa,{className:"h-4 w-4"}),label:"Fon Bölgeleri"},{to:"/fund/work-areas",icon:t.jsx(gt,{className:"h-4 w-4"}),label:"Çalışma Bölgeleri"},{to:"/fund/definitions",icon:t.jsx(he,{className:"h-4 w-4"}),label:"Fon Tanımları"},{to:"/fund/activity-definitions",icon:t.jsx(Dt,{className:"h-4 w-4"}),label:"Faaliyet Tanımları"},{to:"/fund/sources-expenses",icon:t.jsx(aa,{className:"h-4 w-4"}),label:"Kaynak & Harcama"},{to:"/fund/aid-categories",icon:t.jsx(ra,{className:"h-4 w-4"}),label:"Yardım Kategorileri"}],D=[{to:"/system/user-management",icon:t.jsx(ee,{className:"h-4 w-4"}),label:"Kullanıcı Yönetimi"},{to:"/system/warning-messages",icon:t.jsx(yt,{className:"h-4 w-4"}),label:"Uyarı Mesajları"},{to:"/system/structural-controls",icon:t.jsx(Ae,{className:"h-4 w-4"}),label:"Yapısal Kontroller"},{to:"/system/local-ips",icon:t.jsx(ma,{className:"h-4 w-4"}),label:"Yerel IP Adresleri"},{to:"/system/ip-blocking",icon:t.jsx(ot,{className:"h-4 w-4"}),label:"IP Engelleme / Savunma"}],A=[{to:"/definitions/unit-roles",icon:t.jsx(na,{className:"h-4 w-4"}),label:"Birim Rolleri"},{to:"/definitions/units",icon:t.jsx(gt,{className:"h-4 w-4"}),label:"Birimler"},{to:"/definitions/user-accounts",icon:t.jsx(ee,{className:"h-4 w-4"}),label:"Kullanıcı Hesapları"},{to:"/definitions/permission-groups",icon:t.jsx(ot,{className:"h-4 w-4"}),label:"Yetki Grupları"},{to:"/definitions/buildings",icon:t.jsx(pt,{className:"h-4 w-4"}),label:"Binalar"},{to:"/definitions/internal-lines",icon:t.jsx(ia,{className:"h-4 w-4"}),label:"Sabit Dahili Hatlar"},{to:"/definitions/process-flows",icon:t.jsx(oa,{className:"h-4 w-4"}),label:"Süreç Akışları"},{to:"/definitions/passport-formats",icon:t.jsx($e,{className:"h-4 w-4"}),label:"Pasaport Formatları"},{to:"/definitions/countries-cities",icon:t.jsx(la,{className:"h-4 w-4"}),label:"Ülke ve Şehirler"},{to:"/definitions/institution-types",icon:t.jsx(Ot,{className:"h-4 w-4"}),label:"Kurum Tür Tanımları"},{to:"/definitions/institution-status",icon:t.jsx(Dt,{className:"h-4 w-4"}),label:"Kurum Statü Tanımları"},{to:"/definitions/donation-methods",icon:t.jsx(ft,{className:"h-4 w-4"}),label:"Bağış Yöntemleri"},{to:"/definitions/delivery-types",icon:t.jsx(ca,{className:"h-4 w-4"}),label:"Teslimat Tür Tanımları"},{to:"/definitions/meeting-requests",icon:t.jsx(Be,{className:"h-4 w-4"}),label:"Görüşme İstek Tanımları"},{to:"/definitions/gsm-codes",icon:t.jsx(Pt,{className:"h-4 w-4"}),label:"GSM Kod Numaraları"},{to:"/definitions/interface-languages",icon:t.jsx(da,{className:"h-4 w-4"}),label:"Arayüz Dilleri"},{to:"/definitions/translations",icon:t.jsx(ua,{className:"h-4 w-4"}),label:"Tercüme"},{to:"/definitions/general-settings",icon:t.jsx(he,{className:"h-4 w-4"}),label:"Genel Ayarlar"},{to:"/definitions/module-info",icon:t.jsx(Ue,{className:"h-4 w-4"}),label:"Modül Bilgilendirme"}];return t.jsxs("aside",{className:"sticky top-0 hidden h-screen w-64 shrink-0 border-r bg-[#0f172a] text-white md:block overflow-y-auto",children:[t.jsx("div",{className:"flex h-14 items-center gap-2 border-b border-white/10 px-4",children:t.jsx(Ys,{to:"/",className:"flex items-center gap-2",children:t.jsx("span",{className:"text-base font-semibold",children:"Dernek Paneli"})})}),t.jsxs("div",{className:"space-y-4 p-3",children:[t.jsxs("div",{children:[t.jsx("div",{className:"mb-2 px-2 text-xs font-semibold uppercase text-white/60",children:"Genel"}),t.jsx("div",{className:"space-y-1",children:p("/",t.jsx(pt,{className:"h-4 w-4"}),"Ana Sayfa")})]}),t.jsxs("div",{children:[t.jsx("div",{className:"mb-2 px-2 text-xs font-semibold uppercase text-white/60",children:"Collaboration"}),t.jsxs("div",{className:"space-y-1",children:[p("/meetings",t.jsx(ns,{className:"h-4 w-4"}),"Toplantılar"),p("/internal-messages",t.jsx(Be,{className:"h-4 w-4"}),"İç Mesajlar"),p("/tasks",t.jsx(ha,{className:"h-4 w-4"}),"Görevler")]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"mb-2 px-2 text-xs font-semibold uppercase text-white/60",children:"Modüller"}),t.jsxs("div",{className:"space-y-1",children:[h(t.jsx(rt,{className:"h-4 w-4"}),"Fon Yönetimi",m,()=>u(!m)),m&&t.jsx("div",{className:"space-y-1 mt-1",children:j.map((P,L)=>t.jsx("div",{children:p(P.to,P.icon,P.label,!0)},`fund-sub-${L}`))}),h(t.jsx(ft,{className:"h-4 w-4"}),"Bağış Yönetimi",i,()=>o(!i)),i&&t.jsx("div",{className:"space-y-1 mt-1",children:v.map((P,L)=>t.jsx("div",{children:p(P.to,P.icon,P.label,!0)},`donations-sub-${L}`))}),h(t.jsx(it,{className:"h-4 w-4"}),"Mesaj Yönetimi",r,()=>n(!r)),r&&t.jsx("div",{className:"space-y-1 mt-1",children:x.map((P,L)=>t.jsx("div",{children:p(P.to,P.icon,P.label,!0)},`messages-sub-${L}`))}),h(t.jsx(Me,{className:"h-4 w-4"}),"Burs Yönetimi",l,()=>d(!l)),l&&t.jsx("div",{className:"space-y-1 mt-1",children:S.map((P,L)=>t.jsx("div",{children:p(P.to,P.icon,P.label,!0)},`scholarship-sub-${L}`))}),h(t.jsx(fa,{className:"h-4 w-4"}),"Yardım Yönetimi",e,()=>s(!e)),e&&t.jsx("div",{className:"space-y-1 mt-1",children:E.map((P,L)=>t.jsx("div",{children:p(P.to,P.icon,P.label,!0)},`aid-sub-${L}`))}),h(t.jsx(he,{className:"h-4 w-4"}),"Tanımlamalar",b,()=>k(!b)),b&&t.jsx("div",{className:"space-y-1 mt-1",children:A.map((P,L)=>t.jsx("div",{children:p(P.to,P.icon,P.label,!0)},`definitions-sub-${L}`))}),h(t.jsx(ot,{className:"h-4 w-4"}),"Sistem",g,()=>f(!g)),g&&t.jsx("div",{className:"space-y-1 mt-1",children:D.map((P,L)=>t.jsx("div",{children:p(P.to,P.icon,P.label,!0)},`system-sub-${L}`))})]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"mb-2 px-2 text-xs font-semibold uppercase text-white/60",children:"Demo"}),t.jsxs("div",{className:"space-y-1",children:[p("/demo/related-records",t.jsx(me,{className:"h-4 w-4"}),"Bağlantılı Kayıtlar"),p("/supabase-test",t.jsx(Ae,{className:"h-4 w-4"}),"Supabase Test")]})]})]})]})}function Yi({children:a,onOpenAICenter:e}){return t.jsx("div",{className:"min-h-screen bg-background text-foreground",children:t.jsxs("div",{className:"flex",children:[t.jsx(Bi,{}),t.jsxs("div",{className:"flex-1 flex flex-col",children:[t.jsx(Wi,{onOpenAICenter:e}),t.jsx("main",{className:"p-4 lg:p-6",children:a})]})]})})}function N({children:a,requiredRole:e,requiredPermissions:s=[]}){const{user:r,session:n,profile:i,initializing:o,initialize:l}=ye(),[d,m]=c.useState(!0);return c.useEffect(()=>{(async()=>{o&&await l(),m(!1)})()},[o,l]),d||o?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:t.jsxs("div",{className:"text-center space-y-4",children:[t.jsx(Re,{className:"h-8 w-8 animate-spin mx-auto text-primary"}),t.jsx("p",{className:"text-muted-foreground",children:"Kimlik doğrulanıyor..."})]})}):t.jsx(t.Fragment,{children:a})}const Vi=c.createContext(null),mt={didCatch:!1,error:null};let qi=class extends c.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=mt}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(e!==null){for(var s,r,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];(s=(r=this.props).onReset)===null||s===void 0||s.call(r,{args:i,reason:"imperative-api"}),this.setState(mt)}}componentDidCatch(e,s){var r,n;(r=(n=this.props).onError)===null||r===void 0||r.call(n,e,s)}componentDidUpdate(e,s){const{didCatch:r}=this.state,{resetKeys:n}=this.props;if(r&&s.error!==null&&Fi(e.resetKeys,n)){var i,o;(i=(o=this.props).onReset)===null||i===void 0||i.call(o,{next:n,prev:e.resetKeys,reason:"keys"}),this.setState(mt)}}render(){const{children:e,fallbackRender:s,FallbackComponent:r,fallback:n}=this.props,{didCatch:i,error:o}=this.state;let l=e;if(i){const d={error:o,resetErrorBoundary:this.resetErrorBoundary};if(typeof s=="function")l=s(d);else if(r)l=c.createElement(r,d);else if(n!==void 0)l=n;else throw o}return c.createElement(Vi.Provider,{value:{didCatch:i,error:o,resetErrorBoundary:this.resetErrorBoundary}},l)}};function Fi(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return a.length!==e.length||a.some((s,r)=>!Object.is(s,e[r]))}const ne=({size:a="md",text:e="Yükleniyor...",fullScreen:s=!1,className:r=""})=>{const n={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"},i={sm:"text-sm",md:"text-base",lg:"text-lg"},o=s?"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm":`flex flex-col items-center justify-center gap-3 ${r}`;return t.jsxs("div",{className:o,children:[t.jsx(Re,{className:`animate-spin text-primary ${n[a]}`}),e&&t.jsx("p",{className:`text-muted-foreground ${i[a]}`,children:e})]})},be=()=>t.jsxs("div",{className:"rounded-lg border bg-card p-4 animate-pulse",children:[t.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),t.jsx("div",{className:"h-3 bg-muted rounded w-1/2 mb-3"}),t.jsx("div",{className:"h-6 bg-muted rounded w-1/4"})]}),_e=({rows:a=5,columns:e=4})=>t.jsxs("div",{className:"rounded-lg border bg-card overflow-hidden",children:[t.jsx("div",{className:"border-b bg-muted/50 p-4",children:t.jsx("div",{className:"flex gap-4",children:Array.from({length:e}).map((s,r)=>t.jsx("div",{className:"h-4 bg-muted rounded flex-1 animate-pulse"},r))})}),Array.from({length:a}).map((s,r)=>t.jsx("div",{className:"border-b p-4 last:border-b-0",children:t.jsx("div",{className:"flex gap-4",children:Array.from({length:e}).map((n,i)=>t.jsx("div",{className:"h-4 bg-muted rounded flex-1 animate-pulse"},i))})},r))]}),_t=()=>t.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:Array.from({length:4}).map((a,e)=>t.jsx("div",{className:"rounded-lg border bg-card p-4 animate-pulse",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-10 w-10 bg-muted rounded-full"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),t.jsx("div",{className:"h-6 bg-muted rounded w-1/2"})]})]})},e))}),Hi=({type:a="dashboard"})=>{switch(a){case"dashboard":return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("div",{className:"h-8 w-8 bg-muted rounded animate-pulse"}),t.jsx("div",{className:"h-6 bg-muted rounded w-32 animate-pulse"})]}),t.jsx(_t,{}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsx(be,{}),t.jsx(be,{})]})]});case"table":return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("div",{className:"h-6 bg-muted rounded w-48 animate-pulse"}),t.jsx("div",{className:"h-10 bg-muted rounded w-32 animate-pulse"})]}),t.jsx(_e,{rows:8,columns:6})]});case"form":return t.jsxs("div",{className:"max-w-2xl mx-auto",children:[t.jsx("div",{className:"h-6 bg-muted rounded w-64 mb-6 animate-pulse"}),t.jsxs("div",{className:"space-y-6",children:[Array.from({length:4}).map((e,s)=>t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"h-4 bg-muted rounded w-24 animate-pulse"}),t.jsx("div",{className:"h-10 bg-muted rounded animate-pulse"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"h-4 bg-muted rounded w-24 animate-pulse"}),t.jsx("div",{className:"h-10 bg-muted rounded animate-pulse"})]})]},s)),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("div",{className:"h-10 bg-muted rounded w-24 animate-pulse"}),t.jsx("div",{className:"h-10 bg-muted rounded w-20 animate-pulse"})]})]})]});case"stats":return t.jsx("div",{className:"space-y-6",children:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[{icon:ee,label:"Yararlanıcılar"},{icon:Ye,label:"Toplam Yardım"},{icon:me,label:"Başvurular"},{icon:os,label:"Bu Ay"}].map((e,s)=>t.jsx("div",{className:"rounded-lg border bg-card p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-10 w-10 bg-muted rounded-full animate-pulse"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"h-4 bg-muted rounded w-20 mb-2 animate-pulse"}),t.jsx("div",{className:"h-6 bg-muted rounded w-16 animate-pulse"})]})]})},s))})});default:return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"h-8 w-8 bg-muted rounded-full animate-pulse mx-auto mb-3"}),t.jsx("div",{className:"h-4 bg-muted rounded w-32 animate-pulse"})]})})}},Gi=({type:a="dashboard"})=>{switch(a){case"dashboard":return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx(Mt,{className:"h-8 w-8 text-muted animate-pulse"}),t.jsx("div",{className:"h-6 bg-muted rounded w-40 animate-pulse"})]}),t.jsx(_t,{}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsx(be,{}),t.jsx(be,{}),t.jsx(be,{})]})]});case"table":return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("div",{className:"h-6 bg-muted rounded w-48 animate-pulse"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("div",{className:"h-10 bg-muted rounded w-24 animate-pulse"}),t.jsx("div",{className:"h-10 bg-muted rounded w-32 animate-pulse"})]})]}),t.jsx("div",{className:"flex gap-4 mb-4",children:Array.from({length:4}).map((e,s)=>t.jsx("div",{className:"h-8 bg-muted rounded w-20 animate-pulse"},s))}),t.jsx(_e,{rows:10,columns:7})]});case"form":return t.jsxs("div",{className:"max-w-3xl mx-auto",children:[t.jsx("div",{className:"h-6 bg-muted rounded w-64 mb-6 animate-pulse"}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"h-5 bg-muted rounded w-32 animate-pulse"}),Array.from({length:5}).map((e,s)=>t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"h-4 bg-muted rounded w-24 animate-pulse"}),t.jsx("div",{className:"h-10 bg-muted rounded animate-pulse"})]},s))]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"h-5 bg-muted rounded w-32 animate-pulse"}),Array.from({length:5}).map((e,s)=>t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"h-4 bg-muted rounded w-24 animate-pulse"}),t.jsx("div",{className:"h-10 bg-muted rounded animate-pulse"})]},s))]})]}),t.jsxs("div",{className:"flex gap-3 pt-6",children:[t.jsx("div",{className:"h-10 bg-muted rounded w-24 animate-pulse"}),t.jsx("div",{className:"h-10 bg-muted rounded w-20 animate-pulse"})]})]});case"vault":return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx(gt,{className:"h-8 w-8 text-muted animate-pulse"}),t.jsx("div",{className:"h-6 bg-muted rounded w-32 animate-pulse"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:6}).map((e,s)=>t.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("div",{className:"h-4 bg-muted rounded w-20 animate-pulse"}),t.jsx("div",{className:"h-6 w-6 bg-muted rounded animate-pulse"})]}),t.jsx("div",{className:"h-8 bg-muted rounded w-24 mb-2 animate-pulse"}),t.jsx("div",{className:"h-3 bg-muted rounded w-16 animate-pulse"})]},s))})]});case"tracking":return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx(ga,{className:"h-8 w-8 text-muted animate-pulse"}),t.jsx("div",{className:"h-6 bg-muted rounded w-48 animate-pulse"})]}),t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4 mb-6",children:Array.from({length:4}).map((e,s)=>t.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[t.jsx("div",{className:"h-4 bg-muted rounded w-16 mb-2 animate-pulse"}),t.jsx("div",{className:"h-6 bg-muted rounded w-20 animate-pulse"})]},s))}),t.jsx(_e,{rows:8,columns:5})]});default:return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Mt,{className:"h-8 w-8 text-muted animate-pulse mx-auto mb-3"}),t.jsx("div",{className:"h-4 bg-muted rounded w-32 animate-pulse"})]})})}},Ki=({type:a="dashboard"})=>{switch(a){case"dashboard":return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx(Me,{className:"h-8 w-8 text-muted animate-pulse"}),t.jsx("div",{className:"h-6 bg-muted rounded w-36 animate-pulse"})]}),t.jsx(_t,{}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"h-5 bg-muted rounded w-32 animate-pulse"}),t.jsx(be,{})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"h-5 bg-muted rounded w-32 animate-pulse"}),t.jsx(be,{})]})]})]});case"table":return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("div",{className:"h-6 bg-muted rounded w-48 animate-pulse"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("div",{className:"h-10 bg-muted rounded w-28 animate-pulse"}),t.jsx("div",{className:"h-10 bg-muted rounded w-32 animate-pulse"})]})]}),t.jsx("div",{className:"flex gap-4 mb-4",children:["Tümü","Aktif","Beklemede","Tamamlanan"].map((e,s)=>t.jsx("div",{className:"h-8 bg-muted rounded w-20 animate-pulse"},s))}),t.jsx(_e,{rows:12,columns:8})]});case"form":return t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsx("div",{className:"h-6 bg-muted rounded w-64 mb-6 animate-pulse"}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"h-5 bg-muted rounded w-32 animate-pulse"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:6}).map((e,s)=>t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"h-4 bg-muted rounded w-24 animate-pulse"}),t.jsx("div",{className:"h-10 bg-muted rounded animate-pulse"})]},s))})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"h-5 bg-muted rounded w-32 animate-pulse"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Array.from({length:4}).map((e,s)=>t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"h-4 bg-muted rounded w-24 animate-pulse"}),t.jsx("div",{className:"h-10 bg-muted rounded animate-pulse"})]},s))})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"h-5 bg-muted rounded w-32 animate-pulse"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Array.from({length:4}).map((e,s)=>t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"h-4 bg-muted rounded w-24 animate-pulse"}),t.jsx("div",{className:"h-10 bg-muted rounded animate-pulse"})]},s))})]})]}),t.jsxs("div",{className:"flex gap-3 pt-6",children:[t.jsx("div",{className:"h-10 bg-muted rounded w-24 animate-pulse"}),t.jsx("div",{className:"h-10 bg-muted rounded w-20 animate-pulse"})]})]});case"students":return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx(ee,{className:"h-8 w-8 text-muted animate-pulse"}),t.jsx("div",{className:"h-6 bg-muted rounded w-40 animate-pulse"})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[{icon:ee,label:"Toplam Öğrenci"},{icon:Rt,label:"Aktif Burslar"},{icon:pa,label:"Başarılı"},{icon:Me,label:"Mezun"}].map((e,s)=>t.jsx("div",{className:"rounded-lg border bg-card p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-10 w-10 bg-muted rounded-full animate-pulse"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"h-4 bg-muted rounded w-20 mb-2 animate-pulse"}),t.jsx("div",{className:"h-6 bg-muted rounded w-16 animate-pulse"})]})]})},s))}),t.jsx(_e,{rows:10,columns:7})]});case"applications":return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx(Rt,{className:"h-8 w-8 text-muted animate-pulse"}),t.jsx("div",{className:"h-6 bg-muted rounded w-48 animate-pulse"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:["Yeni Başvurular","İncelenen","Onaylanan"].map((e,s)=>t.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[t.jsx("div",{className:"h-4 bg-muted rounded w-24 mb-2 animate-pulse"}),t.jsx("div",{className:"h-8 bg-muted rounded w-16 mb-2 animate-pulse"}),t.jsx("div",{className:"h-3 bg-muted rounded w-20 animate-pulse"})]},s))}),t.jsx(_e,{rows:8,columns:6})]});default:return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Me,{className:"h-8 w-8 text-muted animate-pulse mx-auto mb-3"}),t.jsx("div",{className:"h-4 bg-muted rounded w-32 animate-pulse"})]})})}},Qi=({error:a,resetErrorBoundary:e,module:s})=>t.jsx("div",{className:"flex flex-col items-center justify-center min-h-[400px] p-8",children:t.jsxs("div",{className:"text-center max-w-md",children:[t.jsx(yt,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),t.jsxs("h2",{className:"text-lg font-semibold text-foreground mb-2",children:[s.charAt(0).toUpperCase()+s.slice(1)," Modülü Yüklenemedi"]}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Bir hata oluştu. Lütfen sayfayı yenilemeyi deneyin."}),t.jsxs("details",{className:"text-xs text-muted-foreground mb-4",children:[t.jsx("summary",{className:"cursor-pointer hover:text-foreground",children:"Hata detayları"}),t.jsx("pre",{className:"mt-2 p-2 bg-muted rounded text-left overflow-auto",children:a.message})]}),t.jsxs("button",{onClick:e,className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:[t.jsx(He,{className:"h-4 w-4"}),"Tekrar Dene"]})]})}),Xi=(a,e="dashboard")=>{switch(a){case"aid":return t.jsx(Hi,{type:e});case"donations":return t.jsx(Gi,{type:e});case"scholarship":return t.jsx(Ki,{type:e});case"messages":return t.jsx(ne,{text:"Mesajlar yükleniyor...",size:"lg"});case"fund":return t.jsx(ne,{text:"Fon bilgileri yükleniyor...",size:"lg"});case"system":return t.jsx(ne,{text:"Sistem ayarları yükleniyor...",size:"lg"});case"definitions":return t.jsx(ne,{text:"Tanımlar yükleniyor...",size:"lg"});case"dashboard":return t.jsx(ne,{text:"Dashboard yükleniyor...",size:"lg"});case"meetings":return t.jsx(ne,{text:"Toplantılar yükleniyor...",size:"lg"});case"internal_messages":return t.jsx(ne,{text:"İç mesajlar yükleniyor...",size:"lg"});case"tasks":return t.jsx(ne,{text:"Görevler yükleniyor...",size:"lg"});default:return t.jsx(ne,{text:"Sayfa yükleniyor...",size:"lg"})}},Z=({children:a,module:e,loadingType:s="dashboard"})=>t.jsx(qi,{FallbackComponent:r=>t.jsx(Qi,{...r,module:e}),onReset:()=>window.location.reload(),children:t.jsx(c.Suspense,{fallback:Xi(e,s),children:a})}),G=(a,e="dashboard")=>t.jsx(Z,{module:"aid",loadingType:e,children:t.jsx(a,{})}),K=(a,e="dashboard")=>t.jsx(Z,{module:"donations",loadingType:e,children:t.jsx(a,{})}),Qt=(a,e="dashboard")=>t.jsx(Z,{module:"scholarship",loadingType:e,children:t.jsx(a,{})}),ce=a=>t.jsx(Z,{module:"messages",children:t.jsx(a,{})}),de=a=>t.jsx(Z,{module:"fund",children:t.jsx(a,{})}),ue=a=>t.jsx(Z,{module:"system",children:t.jsx(a,{})}),V=a=>t.jsx(Z,{module:"definitions",children:t.jsx(a,{})}),Ji=a=>t.jsx(Z,{module:"dashboard",children:t.jsx(a,{})}),Zi=(a,e="dashboard")=>t.jsx(Z,{module:"meetings",loadingType:e,children:t.jsx(a,{})}),eo=(a,e="dashboard")=>t.jsx(Z,{module:"internal_messages",loadingType:e,children:t.jsx(a,{})}),to=(a,e="dashboard")=>t.jsx(Z,{module:"tasks",loadingType:e,children:t.jsx(a,{})}),so=c.lazy(()=>w(()=>import("./Login-KDOLZX2i.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),ao=c.lazy(()=>w(()=>import("./NotFound-kRuNCfKv.js"),__vite__mapDeps([7,1,2,4,5,6]))),ro=c.lazy(()=>w(()=>import("./List-BlrChBZp.js"),__vite__mapDeps([8,1,2,9,10]))),no=c.lazy(()=>w(()=>import("./DonationVault-03zTdkLI.js"),__vite__mapDeps([11,1,2,9]))),io=c.lazy(()=>w(()=>import("./Institutions-DOc9cMAG.js"),__vite__mapDeps([12,1,2,9,13,14,15]))),oo=c.lazy(()=>w(()=>import("./CashDonations-BZJlRqEK.js"),__vite__mapDeps([16,1,2,9,13,10,17,6,18,5,4]))),lo=c.lazy(()=>w(()=>import("./BankDonations-C9L-M0PN.js"),__vite__mapDeps([19,1,2,9,13,10,17,6,18,5,4]))),co=c.lazy(()=>w(()=>import("./CreditCardDonations-DFbwVrJW.js"),__vite__mapDeps([20,1,2,9,13,10]))),uo=c.lazy(()=>w(()=>import("./OnlineDonations--P9NsQ1Z.js"),__vite__mapDeps([21,1,2,9,13,22,15,5,10,18,6,4]))),mo=c.lazy(()=>w(()=>import("./DonationNumbers-DD4gXgwY.js"),__vite__mapDeps([23,1,2,9,13,10,17,6,5,4]))),ho=c.lazy(()=>w(()=>import("./FundingDefinitions-B8STv5-7.js"),__vite__mapDeps([24,1,2,9,13,10]))),fo=c.lazy(()=>w(()=>import("./SacrificePeriods-Dth4jxUi.js"),__vite__mapDeps([25,1,2,9,13,10]))),go=c.lazy(()=>w(()=>import("./SacrificeShares-CTQoCA7T.js"),__vite__mapDeps([26,1,2,9,13,10]))),po=c.lazy(()=>w(()=>import("./RamadanPeriods-BW4glk4c.js"),__vite__mapDeps([27,1,2,9,13,10]))),xo=c.lazy(()=>w(()=>import("./PiggyBankTracking-DvIYzzuz.js"),__vite__mapDeps([28,1,2,9,13,29,6,30,10,5,4,31]))),bo=c.lazy(()=>w(()=>import("./BulkProvisioning-B6KSbaJ7.js"),__vite__mapDeps([32,1,2,9,33,13,4,6,5]))),vo=c.lazy(()=>w(()=>import("./Index-aB63tEIL.js"),__vite__mapDeps([34,1,2,9,13,35,5]))),yo=c.lazy(()=>w(()=>import("./BulkSend-DHJhWVMz.js"),__vite__mapDeps([36,1,2,13,5]))),wo=c.lazy(()=>w(()=>import("./Groups-IbO-7JKq.js"),__vite__mapDeps([37,1,2,9,13,5]))),jo=c.lazy(()=>w(()=>import("./Templates-BQppdXxg.js"),__vite__mapDeps([38,1,2,9,13,15,5]))),No=c.lazy(()=>w(()=>import("./SmsDeliveries-qtqIbJYq.js"),__vite__mapDeps([39,1,2,9,13,5]))),ko=c.lazy(()=>w(()=>import("./EmailDeliveries-DECj5o6A.js"),__vite__mapDeps([40,1,2,9,13,5]))),_o=c.lazy(()=>w(()=>import("./Analytics-GQA6lBBS.js"),__vite__mapDeps([41,1,2,35,5]))),Eo=c.lazy(()=>w(()=>import("./ModuleInfo-D5wQXA2q.js"),__vite__mapDeps([42,1,2,13,5]))),So=c.lazy(()=>w(()=>import("./OrphansStudents-CKW-5-Pq.js"),__vite__mapDeps([43,1,2,9,10,44,13,5,4,6]))),To=c.lazy(()=>w(()=>import("./Reports-CRUY4pz9.js"),__vite__mapDeps([45,1,2,44,10,5,33,46,4,6]))),Co=c.lazy(()=>w(()=>import("./Index-C_2JP5Pg.js"),__vite__mapDeps([47,1,2,44,4,6,5]))),Do=c.lazy(()=>w(()=>import("./SupabaseTest-UK-pvJ_7.js"),__vite__mapDeps([48,1,2,4,6,5]))),Ao=c.lazy(()=>w(()=>import("./Index-BRQPxo9E.js"),__vite__mapDeps([49,1,2,44,4,5,6]))),Po=c.lazy(()=>w(()=>import("./Beneficiaries-BQ-YqEHe.js"),__vite__mapDeps([50,1,2,9,10,18,6,4,13,29,22,15,5]))),Oo=c.lazy(()=>w(()=>import("./BeneficiariesDetail-CtA-hwjV.js"),__vite__mapDeps([51,1,2,4,5,6]))),Mo=c.lazy(()=>w(()=>import("./Reports-By6TLEdZ.js"),__vite__mapDeps([52,1,2,5,53,33,46,4,6]))),Ro=c.lazy(()=>w(()=>import("./Applications-CA7khaWj.js"),__vite__mapDeps([54,1,2,10,18,6,9,13,3,53,22,15,5,4]))),Io=c.lazy(()=>w(()=>import("./CashVault-KHecUADz.js"),__vite__mapDeps([55,1,2,10,9,13,44,3,53,5,4,6]))),zo=c.lazy(()=>w(()=>import("./BankOrders-sGcNfYw8.js"),__vite__mapDeps([56,1,2,10,9,13,44,3,53,5,4,6]))),Lo=c.lazy(()=>w(()=>import("./CashOperations-RU8cSvhn.js"),__vite__mapDeps([57,1,2,10,9,13,44,3,53,5]))),$o=c.lazy(()=>w(()=>import("./InKindOperations-Bwt3VpPn.js"),__vite__mapDeps([58,1,2,10,9,13,44,3,53,5,4,6]))),Uo=c.lazy(()=>w(()=>import("./ServiceTracking-CG2w5MSn.js"),__vite__mapDeps([59,1,2,10,9,13,44,3,53,5,4,6]))),Wo=c.lazy(()=>w(()=>import("./HospitalReferrals-p_8mUP7z.js"),__vite__mapDeps([60,1,2,10,9,13,44,3,53,5,4,6]))),Bo=c.lazy(()=>w(()=>import("./Parameters-StlasqUA.js"),__vite__mapDeps([61,1,2,10,9,13,44,3,53,5]))),Yo=c.lazy(()=>w(()=>import("./DataControl-DLOaLfqK.js"),__vite__mapDeps([62,1,2,10,9,13,44,3,53,5]))),Vo=c.lazy(()=>w(()=>import("./ModuleInfo-DAPRDOWv.js"),__vite__mapDeps([63,1,2,44,5]))),qo=c.lazy(()=>w(()=>import("./FundMovements-BTiB5lei.js"),__vite__mapDeps([64,1,2,9,10]))),Fo=c.lazy(()=>w(()=>import("./CompleteReport-D5eh_VBj.js"),__vite__mapDeps([65,1,2,33,4,6,5]))),Ho=c.lazy(()=>w(()=>import("./FundRegions-DzhSYO7p.js"),__vite__mapDeps([66,1,2,9,10,5]))),Go=c.lazy(()=>w(()=>import("./WorkAreas-D1W9332v.js"),__vite__mapDeps([67,1,2,9,10,5]))),Ko=c.lazy(()=>w(()=>import("./FundDefinitions-mnTqDwzb.js"),__vite__mapDeps([68,1,2,9,10,5]))),Qo=c.lazy(()=>w(()=>import("./ActivityDefinitions-Cd3GVHhR.js"),__vite__mapDeps([69,1,2,9,10,5]))),Xo=c.lazy(()=>w(()=>import("./SourcesExpenses-ER9TuLYP.js"),__vite__mapDeps([70,1,2,9,10,5,33,4,6]))),Jo=c.lazy(()=>w(()=>import("./AidCategories-RkZrZbER.js"),__vite__mapDeps([71,1,2,9,10,5]))),Zo=c.lazy(()=>w(()=>import("./WarningMessages-BJjjg06C.js"),__vite__mapDeps([72,1,2,9,10,5]))),el=c.lazy(()=>w(()=>import("./StructuralControls-B8lk_15c.js"),__vite__mapDeps([73,1,2,9,10,5]))),tl=c.lazy(()=>w(()=>import("./LocalIPs-7AJ6QANr.js"),__vite__mapDeps([74,1,2,9,10,5]))),sl=c.lazy(()=>w(()=>import("./IPBlocking-lH3augWd.js"),__vite__mapDeps([75,1,2,9,10,5]))),al=c.lazy(()=>w(()=>import("./UserManagement-BSCAQeAa.js"),__vite__mapDeps([76,1,2,13,5,4,6]))),rl=c.lazy(()=>w(()=>import("./SentryTest-BbNpeLuI.js"),__vite__mapDeps([77,1,2,5]))),nl=c.lazy(()=>w(()=>import("./RelatedRecordsDemo-CF_vLFML.js"),__vite__mapDeps([78,1,2,5]))),il=c.lazy(()=>w(()=>import("./Index-BgvL4gjz.js"),__vite__mapDeps([79,1,2,3,5,53,4,6]))),ol=c.lazy(()=>w(()=>import("./Index-BcwumrvC.js"),__vite__mapDeps([80,1,2,5,53,4,6]))),ll=c.lazy(()=>w(()=>import("./Index-CpLugJ7l.js"),__vite__mapDeps([81,1,2,3,5,53,4,6]))),cl=c.lazy(()=>w(()=>import("./Definitions-Dp88pdYV.js"),__vite__mapDeps([82,1,2,5]))),dl=c.lazy(()=>w(()=>import("./UnitRoles-DrULxj_E.js"),__vite__mapDeps([83,1,2,13,5]))),ul=c.lazy(()=>w(()=>import("./Units-C3ZI31_3.js"),__vite__mapDeps([84,1,2,13,5]))),ml=c.lazy(()=>w(()=>import("./UserAccounts-CuZHaGuT.js"),__vite__mapDeps([85,1,2,13,14,15,5]))),hl=c.lazy(()=>w(()=>import("./PermissionGroupsClean-DVd0hP0I.js"),__vite__mapDeps([86,1,2,5]))),fl=c.lazy(()=>w(()=>import("./Buildings-AEfGCDSK.js"),__vite__mapDeps([87,1,2]))),gl=c.lazy(()=>w(()=>import("./InternalLines-CC7zBqmA.js"),__vite__mapDeps([88,1,2]))),pl=c.lazy(()=>w(()=>import("./ProcessFlows-Bl0L744N.js"),__vite__mapDeps([89,1,2]))),xl=c.lazy(()=>w(()=>import("./PassportFormats-B255FYik.js"),__vite__mapDeps([90,1,2]))),bl=c.lazy(()=>w(()=>import("./CountriesCities-CZ7TRhhp.js"),__vite__mapDeps([91,1,2]))),vl=c.lazy(()=>w(()=>import("./InstitutionTypes-Co6InoEM.js"),__vite__mapDeps([92,1,2]))),yl=c.lazy(()=>w(()=>import("./InstitutionStatus-Cx9OF9qA.js"),__vite__mapDeps([93,1,2]))),wl=c.lazy(()=>w(()=>import("./DonationMethods-CfJq_NSV.js"),__vite__mapDeps([94,1,2,13,5]))),jl=c.lazy(()=>w(()=>import("./DeliveryTypes-qoRxgjyW.js"),__vite__mapDeps([95,1,2]))),Nl=c.lazy(()=>w(()=>import("./MeetingRequests-BVWnmSxo.js"),__vite__mapDeps([96,1,2]))),kl=c.lazy(()=>w(()=>import("./GSMCodes-DmgBNcPP.js"),__vite__mapDeps([97,1,2]))),_l=c.lazy(()=>w(()=>import("./InterfaceLanguages-RuclWzSG.js"),__vite__mapDeps([98,1,2]))),El=c.lazy(()=>w(()=>import("./Translations-B9bfK1VF.js"),__vite__mapDeps([99,1,2]))),Sl=c.lazy(()=>w(()=>import("./GeneralSettings-BoTiiPCs.js"),__vite__mapDeps([100,1,2]))),Tl=c.lazy(()=>w(()=>import("./ModuleInfo-oe4gxaFT.js"),__vite__mapDeps([101,1,2])));function Cl(){return t.jsxs(qs,{children:[t.jsx(y,{path:"/login",element:t.jsx(so,{})}),t.jsx(y,{path:"/",element:t.jsx(N,{children:Ji(Co)})}),t.jsx(y,{path:"/donations",element:t.jsx(N,{children:K(ro)})}),t.jsx(y,{path:"/donations/vault",element:t.jsx(N,{children:K(no)})}),t.jsx(y,{path:"/donations/institutions",element:t.jsx(N,{children:K(io)})}),t.jsx(y,{path:"/donations/cash",element:t.jsx(N,{children:K(oo)})}),t.jsx(y,{path:"/donations/bank",element:t.jsx(N,{children:K(lo)})}),t.jsx(y,{path:"/donations/credit-card",element:t.jsx(N,{children:K(co)})}),t.jsx(y,{path:"/donations/online",element:t.jsx(N,{children:K(uo)})}),t.jsx(y,{path:"/donations/numbers",element:t.jsx(N,{children:K(mo)})}),t.jsx(y,{path:"/donations/funding-definitions",element:t.jsx(N,{children:K(ho)})}),t.jsx(y,{path:"/donations/sacrifice-periods",element:t.jsx(N,{children:K(fo)})}),t.jsx(y,{path:"/donations/sacrifice-shares",element:t.jsx(N,{children:K(go)})}),t.jsx(y,{path:"/donations/ramadan-periods",element:t.jsx(N,{children:K(po)})}),t.jsx(y,{path:"/donations/piggy-bank",element:t.jsx(N,{children:K(xo)})}),t.jsx(y,{path:"/donations/bulk-provisioning",element:t.jsx(N,{children:K(bo)})}),t.jsx(y,{path:"/messages",element:t.jsx(N,{children:ce(vo)})}),t.jsx(y,{path:"/messages/bulk-send",element:t.jsx(N,{children:ce(yo)})}),t.jsx(y,{path:"/messages/groups",element:t.jsx(N,{children:ce(wo)})}),t.jsx(y,{path:"/messages/templates",element:t.jsx(N,{children:ce(jo)})}),t.jsx(y,{path:"/messages/sms-deliveries",element:t.jsx(N,{children:ce(No)})}),t.jsx(y,{path:"/messages/email-deliveries",element:t.jsx(N,{children:ce(ko)})}),t.jsx(y,{path:"/messages/analytics",element:t.jsx(N,{children:ce(_o)})}),t.jsx(y,{path:"/messages/module-info",element:t.jsx(N,{children:ce(Eo)})}),t.jsx(y,{path:"/scholarship/orphans-students",element:t.jsx(N,{children:Qt(So)})}),t.jsx(y,{path:"/scholarship/reports",element:t.jsx(N,{children:Qt(To)})}),t.jsx(y,{path:"/aid",element:t.jsx(N,{children:G(Ao)})}),t.jsx(y,{path:"/aid/beneficiaries",element:t.jsx(N,{children:G(Po)})}),t.jsx(y,{path:"/aid/beneficiaries/:id",element:t.jsx(N,{children:G(Oo)})}),t.jsx(y,{path:"/aid/reports",element:t.jsx(N,{children:G(Mo)})}),t.jsx(y,{path:"/aid/applications",element:t.jsx(N,{children:G(Ro)})}),t.jsx(y,{path:"/aid/cash-vault",element:t.jsx(N,{children:G(Io)})}),t.jsx(y,{path:"/aid/bank-orders",element:t.jsx(N,{children:G(zo)})}),t.jsx(y,{path:"/aid/cash-operations",element:t.jsx(N,{children:G(Lo)})}),t.jsx(y,{path:"/aid/in-kind-operations",element:t.jsx(N,{children:G($o)})}),t.jsx(y,{path:"/aid/service-tracking",element:t.jsx(N,{children:G(Uo)})}),t.jsx(y,{path:"/aid/hospital-referrals",element:t.jsx(N,{children:G(Wo)})}),t.jsx(y,{path:"/aid/parameters",element:t.jsx(N,{children:G(Bo)})}),t.jsx(y,{path:"/aid/data-control",element:t.jsx(N,{children:G(Yo)})}),t.jsx(y,{path:"/aid/module-info",element:t.jsx(N,{children:G(Vo)})}),t.jsx(y,{path:"/fund/movements",element:t.jsx(N,{children:de(qo)})}),t.jsx(y,{path:"/fund/complete-report",element:t.jsx(N,{children:de(Fo)})}),t.jsx(y,{path:"/fund/regions",element:t.jsx(N,{children:de(Ho)})}),t.jsx(y,{path:"/fund/work-areas",element:t.jsx(N,{children:de(Go)})}),t.jsx(y,{path:"/fund/definitions",element:t.jsx(N,{children:de(Ko)})}),t.jsx(y,{path:"/fund/activity-definitions",element:t.jsx(N,{children:de(Qo)})}),t.jsx(y,{path:"/fund/sources-expenses",element:t.jsx(N,{children:de(Xo)})}),t.jsx(y,{path:"/fund/aid-categories",element:t.jsx(N,{children:de(Jo)})}),t.jsx(y,{path:"/system/warning-messages",element:t.jsx(N,{children:ue(Zo)})}),t.jsx(y,{path:"/system/structural-controls",element:t.jsx(N,{children:ue(el)})}),t.jsx(y,{path:"/system/local-ips",element:t.jsx(N,{children:ue(tl)})}),t.jsx(y,{path:"/system/ip-blocking",element:t.jsx(N,{children:ue(sl)})}),t.jsx(y,{path:"/system/user-management",element:t.jsx(N,{children:ue(al)})}),t.jsx(y,{path:"/definitions",element:t.jsx(N,{children:V(cl)})}),t.jsx(y,{path:"/definitions/unit-roles",element:t.jsx(N,{children:V(dl)})}),t.jsx(y,{path:"/definitions/units",element:t.jsx(N,{children:V(ul)})}),t.jsx(y,{path:"/definitions/user-accounts",element:t.jsx(N,{children:V(ml)})}),t.jsx(y,{path:"/definitions/permission-groups",element:t.jsx(N,{children:V(hl)})}),t.jsx(y,{path:"/definitions/buildings",element:t.jsx(N,{children:V(fl)})}),t.jsx(y,{path:"/definitions/internal-lines",element:t.jsx(N,{children:V(gl)})}),t.jsx(y,{path:"/definitions/process-flows",element:t.jsx(N,{children:V(pl)})}),t.jsx(y,{path:"/definitions/passport-formats",element:t.jsx(N,{children:V(xl)})}),t.jsx(y,{path:"/definitions/countries-cities",element:t.jsx(N,{children:V(bl)})}),t.jsx(y,{path:"/definitions/institution-types",element:t.jsx(N,{children:V(vl)})}),t.jsx(y,{path:"/definitions/institution-status",element:t.jsx(N,{children:V(yl)})}),t.jsx(y,{path:"/definitions/donation-methods",element:t.jsx(N,{children:V(wl)})}),t.jsx(y,{path:"/definitions/delivery-types",element:t.jsx(N,{children:V(jl)})}),t.jsx(y,{path:"/definitions/meeting-requests",element:t.jsx(N,{children:V(Nl)})}),t.jsx(y,{path:"/definitions/gsm-codes",element:t.jsx(N,{children:V(kl)})}),t.jsx(y,{path:"/definitions/interface-languages",element:t.jsx(N,{children:V(_l)})}),t.jsx(y,{path:"/definitions/translations",element:t.jsx(N,{children:V(El)})}),t.jsx(y,{path:"/definitions/general-settings",element:t.jsx(N,{children:V(Sl)})}),t.jsx(y,{path:"/definitions/module-info",element:t.jsx(N,{children:V(Tl)})}),t.jsx(y,{path:"/meetings",element:t.jsx(N,{children:Zi(il,"dashboard")})}),t.jsx(y,{path:"/internal-messages",element:t.jsx(N,{children:eo(ol,"dashboard")})}),t.jsx(y,{path:"/tasks",element:t.jsx(N,{children:to(ll,"dashboard")})}),t.jsx(y,{path:"/sentry-test",element:t.jsx(N,{children:ue(rl)})}),t.jsx(y,{path:"/supabase-test",element:t.jsx(N,{children:ue(Do)})}),t.jsx(y,{path:"/demo/related-records",element:t.jsx(N,{children:ue(nl)})}),t.jsx(y,{path:"*",element:t.jsx(ao,{})})]})}var Ie=(a=>(a.LOW="low",a.MEDIUM="medium",a.HIGH="high",a.CRITICAL="critical",a))(Ie||{}),Et=(a=>(a.AUTHENTICATION="authentication",a.AUTHORIZATION="authorization",a.NETWORK="network",a.VALIDATION="validation",a.DATABASE="database",a.SYSTEM="system",a.USER_INPUT="user_input",a.EXTERNAL_SERVICE="external_service",a))(Et||{});class Dl{constructor(){B(this,"logs",[]);B(this,"isEnabled",!0);B(this,"maxLogs",1e3);B(this,"pendingLogs",[]);B(this,"batchTimeout",null);B(this,"batchSize",10);B(this,"batchDelay",5e3);this.setupGlobalErrorHandlers(),this.startPeriodicCleanup()}setupGlobalErrorHandlers(){window.addEventListener("error",e=>{this.handleError(e.error||new Error(e.message),{category:"system",severity:"high",context:{component:"window",action:"unhandled_error",url:window.location.href,additionalData:{filename:e.filename,lineno:e.lineno,colno:e.colno}}})}),window.addEventListener("unhandledrejection",e=>{this.handleError(e.reason instanceof Error?e.reason:new Error(String(e.reason)),{category:"system",severity:"high",context:{component:"window",action:"unhandled_promise_rejection",url:window.location.href}})}),window.addEventListener("beforeunload",()=>{this.flushPendingLogs()}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&this.flushPendingLogs()})}startPeriodicCleanup(){setInterval(()=>{this.cleanupOldLogs()},10*60*1e3)}cleanupOldLogs(){const e=Date.now()-864e5;this.logs=this.logs.filter(s=>new Date(s.timestamp).getTime()>e)}generateId(){return`error_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}getCurrentContext(){return{url:window.location.href,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,sessionId:this.getSessionId()}}getSessionId(){let e=sessionStorage.getItem("app_session_id");return e||(e=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,sessionStorage.setItem("app_session_id",e)),e}shouldShowToast(e,s){return!(e==="low"||s==="validation")}getToastMessage(e){return{authentication:"Kimlik doğrulama hatası oluştu",authorization:"Bu işlem için yetkiniz bulunmuyor",network:"Bağlantı hatası oluştu",validation:"Girilen bilgilerde hata var",database:"Veritabanı hatası oluştu",system:"Sistem hatası oluştu",user_input:"Geçersiz veri girişi",external_service:"Harici servis hatası oluştu"}[e]||"Beklenmeyen bir hata oluştu"}scheduleBatchSend(){this.batchTimeout||(this.batchTimeout=setTimeout(()=>{this.flushPendingLogs()},this.batchDelay))}async flushPendingLogs(){if(this.pendingLogs.length===0)return;const e=[...this.pendingLogs];this.pendingLogs=[],this.batchTimeout&&(clearTimeout(this.batchTimeout),this.batchTimeout=null);try{await this.sendBatchToServer(e)}catch(s){console.error("Failed to send error logs to server:",s),this.pendingLogs=[...e.slice(-50),...this.pendingLogs]}}async sendBatchToServer(e){try{await fetch("/api/errors",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),keepalive:!0})}catch(s){throw console.error("Network error sending logs:",s),s}}handleError(e,s){if(!this.isEnabled)return"";const r={id:this.generateId(),message:e.message,stack:e.stack,code:e.code,category:s.category,severity:s.severity,context:{...this.getCurrentContext(),...s.context},timestamp:new Date().toISOString(),resolved:!1};this.logs.unshift(r),this.logs.length>this.maxLogs&&(this.logs=this.logs.slice(0,this.maxLogs)),this.pendingLogs.push(r),this.pendingLogs.length>=this.batchSize||s.severity==="critical"?this.flushPendingLogs():this.scheduleBatchSend();const n=this.getLogLevel(s.severity);if(console[n](`[${s.category.toUpperCase()}] ${e.message}`,{error:e,context:r.context,errorId:r.id}),s.showToast!==!1&&this.shouldShowToast(s.severity,s.category)){const i=s.customMessage||this.getToastMessage(s.category);s.severity==="critical"||s.severity==="high"?M.error(i,{description:"Hata ID: "+r.id.slice(-8),duration:8e3,action:{label:"Detaylar",onClick:()=>{console.group("Error Details"),console.error("Error:",e),console.log("Context:",r.context),console.log("Error ID:",r.id),console.groupEnd()}}}):M.warning(i,{duration:5e3})}return r.id}getLogLevel(e){switch(e){case"critical":case"high":return"error";case"medium":return"warn";case"low":default:return"info"}}handleAuthError(e,s){return this.handleError(e,{category:"authentication",severity:"high",context:s})}handleNetworkError(e,s){return this.handleError(e,{category:"network",severity:"medium",context:s,customMessage:"Bağlantı sorunu yaşanıyor. Lütfen internet bağlantınızı kontrol edin."})}handleValidationError(e,s){return this.handleError(e,{category:"validation",severity:"low",context:s,showToast:!1})}handleApiError(e,s){const r=e.message.includes("500")?"high":"medium";return this.handleError(e,{category:"external_service",severity:r,context:s})}handleSystemError(e,s){return this.handleError(e,{category:"system",severity:"critical",context:s})}getLogs(e){let s=[...this.logs];return e!=null&&e.category&&(s=s.filter(r=>r.category===e.category)),e!=null&&e.severity&&(s=s.filter(r=>r.severity===e.severity)),(e==null?void 0:e.resolved)!==void 0&&(s=s.filter(r=>r.resolved===e.resolved)),e!=null&&e.limit&&(s=s.slice(0,e.limit)),s}getErrorById(e){return this.logs.find(s=>s.id===e)}markAsResolved(e,s){const r=this.logs.find(n=>n.id===e);return r?(r.resolved=!0,r.resolvedAt=new Date().toISOString(),r.resolvedBy=s,!0):!1}clearLogs(){this.logs=[],this.pendingLogs=[]}getStats(){const e={total:this.logs.length,byCategory:{},bySeverity:{},resolved:this.logs.filter(s=>s.resolved).length,unresolved:this.logs.filter(s=>!s.resolved).length};return Object.values(Et).forEach(s=>{e.byCategory[s]=0}),Object.values(Ie).forEach(s=>{e.bySeverity[s]=0}),this.logs.forEach(s=>{e.byCategory[s.category]++,e.bySeverity[s.severity]++}),e}setEnabled(e){this.isEnabled=e}setMaxLogs(e){this.maxLogs=e,this.logs.length>e&&(this.logs=this.logs.slice(0,e))}async forceBatchSend(){await this.flushPendingLogs()}}const J=new Dl;J.handleError.bind(J);J.handleAuthError.bind(J);J.handleNetworkError.bind(J);J.handleValidationError.bind(J);J.handleApiError.bind(J);J.handleSystemError.bind(J);class As extends c.Component{constructor(s){super(s);B(this,"retryCount",0);B(this,"maxRetries",3);B(this,"handleRetry",()=>{this.retryCount<this.maxRetries&&(this.retryCount++,this.setState({hasError:!1,error:null,errorInfo:null,errorId:null}))});B(this,"handleReload",()=>{window.location.reload()});B(this,"handleGoHome",()=>{window.location.href="/"});B(this,"handleReportBug",()=>{const{error:s,errorId:r}=this.state,n=encodeURIComponent(`Bug Report - ${(s==null?void 0:s.message)||"Unknown Error"}`),i=encodeURIComponent(`
Error ID: ${r}
Error Message: ${s==null?void 0:s.message}
Stack Trace: ${s==null?void 0:s.stack}
URL: ${window.location.href}
User Agent: ${navigator.userAgent}
Timestamp: ${new Date().toISOString()}

Please describe what you were doing when this error occurred:

    `.trim());window.open(`mailto:support@dernek.com?subject=${n}&body=${i}`)});this.state={hasError:!1,error:null,errorInfo:null,errorId:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,r){const n=J.handleError(s,{category:Et.SYSTEM,severity:this.getSeverityFromLevel(this.props.level||"component"),context:{component:"ErrorBoundary",action:"component_error",additionalData:{level:this.props.level,componentStack:r.componentStack,retryCount:this.retryCount}}});this.setState({error:s,errorInfo:r,errorId:n}),this.props.onError&&this.props.onError(s,r)}getSeverityFromLevel(s){switch(s){case"global":return Ie.CRITICAL;case"page":return Ie.HIGH;case"component":default:return Ie.MEDIUM}}render(){if(this.state.hasError){if(this.props.fallback)return this.props.fallback;const{error:s,errorId:r}=this.state,{level:n="component",showDetails:i=!1}=this.props;return t.jsx("div",{className:"flex items-center justify-center min-h-[400px] p-4",children:t.jsxs(jt,{className:"w-full max-w-lg p-8 text-center",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(yt,{className:"w-8 h-8 text-red-600"})}),t.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:[n==="global"&&"Uygulama Hatası",n==="page"&&"Sayfa Yüklenemedi",n==="component"&&"Bir Sorun Oluştu"]}),t.jsxs("p",{className:"text-gray-600 mb-4",children:[n==="global"&&"Uygulamada beklenmeyen bir hata oluştu.",n==="page"&&"Bu sayfa yüklenirken bir hata oluştu.",n==="component"&&"Bu bölüm gösterilirken bir hata oluştu."]}),r&&t.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:t.jsxs("p",{className:"text-sm text-gray-600",children:["Hata Kodu: ",t.jsx("code",{className:"font-mono bg-gray-200 px-1 rounded",children:r.slice(-8)})]})})]}),i&&s&&t.jsx("div",{className:"mb-6 text-left",children:t.jsxs("details",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsx("summary",{className:"cursor-pointer font-medium text-gray-700 mb-2",children:"Teknik Detaylar"}),t.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Hata Mesajı:"}),t.jsx("p",{className:"font-mono bg-gray-100 p-2 rounded mt-1 break-all",children:s.message})]}),s.stack&&t.jsxs("div",{children:[t.jsx("strong",{children:"Stack Trace:"}),t.jsx("pre",{className:"font-mono bg-gray-100 p-2 rounded mt-1 text-xs overflow-auto max-h-32",children:s.stack})]})]})]})}),t.jsxs("div",{className:"space-y-3",children:[this.retryCount<this.maxRetries&&t.jsxs(X,{onClick:this.handleRetry,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:[t.jsx(He,{className:"w-4 h-4 mr-2"}),"Tekrar Dene (",this.maxRetries-this.retryCount," deneme hakkı)"]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[n==="global"?t.jsxs(X,{onClick:this.handleReload,variant:"outline",className:"w-full",children:[t.jsx(He,{className:"w-4 h-4 mr-2"}),"Sayfayı Yenile"]}):t.jsxs(X,{onClick:this.handleGoHome,variant:"outline",className:"w-full",children:[t.jsx(pt,{className:"w-4 h-4 mr-2"}),"Ana Sayfaya Dön"]}),t.jsxs(X,{onClick:this.handleReportBug,variant:"outline",className:"w-full",children:[t.jsx(xa,{className:"w-4 h-4 mr-2"}),"Hata Bildir"]})]}),n==="global"&&t.jsx(t.Fragment,{children:t.jsxs("div",{className:"border-t pt-4 mt-4",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Eğer sorun devam ederse:"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[t.jsx(X,{onClick:()=>{localStorage.clear(),sessionStorage.clear(),window.location.reload()},variant:"outline",size:"sm",className:"w-full",children:"Önbelleği Temizle"}),t.jsx(X,{onClick:()=>window.open("mailto:destek@dernek.com"),variant:"outline",size:"sm",className:"w-full",children:"Destek İletişim"})]})]})})]})]})})}return this.props.children}}function Al(){const[a,e]=c.useState(!1),[s,r]=c.useState(!1),[n,i]=c.useState(!navigator.onLine),[o,l]=c.useState(null),d=!1,m=async f=>{console.log("Service worker update not available")};c.useEffect(()=>{const f=()=>{window.matchMedia("(display-mode: standalone)").matches&&r(!0)},b=E=>{E.preventDefault(),l(E),e(!0)},k=()=>{r(!0),e(!1),l(null)},p=()=>i(!1),h=()=>i(!0);return f(),window.addEventListener("beforeinstallprompt",b),window.addEventListener("appinstalled",k),window.addEventListener("online",p),window.addEventListener("offline",h),()=>{window.removeEventListener("beforeinstallprompt",b),window.removeEventListener("appinstalled",k),window.removeEventListener("online",p),window.removeEventListener("offline",h)}},[]);const u=async()=>{if(o)try{o.prompt();const{outcome:f}=await o.userChoice;f==="accepted"&&(r(!0),e(!1)),l(null)}catch(f){console.error("Error installing PWA:",f)}};return{isInstallable:a,isInstalled:s,isOffline:n,needRefresh:d,updateAvailable:d,install:u,updateServiceWorker:m,showInstallPrompt:()=>{a&&!s&&u()}}}function Pl({onClose:a}){const{isInstallable:e,isInstalled:s,isOffline:r,needRefresh:n,install:i,updateServiceWorker:o}=Al(),[l,d]=je.useState(!1),[m,u]=je.useState(!1);je.useEffect(()=>{e&&!s&&d(!0)},[e,s]),je.useEffect(()=>{n&&u(!0)},[n]);const g=async()=>{await i(),d(!1),a==null||a()},f=async()=>{await o(!0),u(!1),a==null||a()},b=()=>{d(!1),a==null||a()},k=()=>{u(!1),a==null||a()};return t.jsxs(t.Fragment,{children:[r&&t.jsxs("div",{className:"fixed bottom-4 left-4 z-50 bg-red-500 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2",children:[t.jsx(ls,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Çevrimdışı"})]}),!r&&t.jsxs("div",{className:"fixed bottom-4 left-4 z-50 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 animate-in slide-in-from-bottom duration-300",children:[t.jsx(cs,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Çevrimiçi"})]}),l&&t.jsxs("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-96 z-50 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg p-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ba,{className:"w-5 h-5 text-blue-500"}),t.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Uygulamayı Yükle"})]}),t.jsx("button",{onClick:b,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:t.jsx(Ee,{className:"w-4 h-4"})})]}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:"Bu uygulamayı cihazınıza yükleyerek daha hızlı erişim sağlayabilirsiniz."}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:g,className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Yükle"}),t.jsx("button",{onClick:b,className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white text-sm font-medium transition-colors",children:"Şimdi Değil"})]})]}),m&&t.jsxs("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-96 z-50 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg p-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(He,{className:"w-5 h-5 text-green-500"}),t.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Güncelleme Mevcut"})]}),t.jsx("button",{onClick:k,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:t.jsx(Ee,{className:"w-4 h-4"})})]}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:"Yeni bir sürüm mevcut. Güncellemek için sayfayı yenileyin."}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:f,className:"flex-1 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Güncelle"}),t.jsx("button",{onClick:k,className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white text-sm font-medium transition-colors",children:"Sonra"})]})]})]})}const Ps=c.createContext(void 0);function Ol({children:a}){const[e]=c.useState(!1),[s]=c.useState(null),[r]=c.useState(0),n=(m,u)=>{console.log("Mock socket emit:",m,u)},i=(m,u)=>{console.log("Mock socket on:",m)},o=(m,u)=>{console.log("Mock socket off:",m)},d={socket:{emit:n,on:i,off:o},isConnected:e,connectionError:s,reconnectAttempts:r,emit:n,on:i,off:o};return t.jsx(Ps.Provider,{value:d,children:a})}function et(){const a=c.useContext(Ps);if(a===void 0)throw new Error("useSocket must be used within a SocketProvider");return a}const tt=()=>{const[a,e]=c.useState(navigator.onLine),[s,r]=c.useState(!1);return c.useEffect(()=>{const n=()=>{e(!0),s&&(M.success("İnternet bağlantısı yeniden kuruldu"),r(!1))},i=()=>{e(!1),r(!0),M.warning("İnternet bağlantısı kesildi. Offline modda çalışıyorsunuz.")};return window.addEventListener("online",n),window.addEventListener("offline",i),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}},[s]),{isOnline:a,wasOffline:s}},Os=()=>{const[a,e]=c.useState([]),[s,r]=c.useState(!1),{isOnline:n}=tt(),i=d=>{const m={...d,id:Date.now().toString()+Math.random().toString(36).substr(2,9),retryCount:0,timestamp:Date.now()};e(g=>[...g,m]);const u=JSON.parse(localStorage.getItem("offline-queue")||"[]");localStorage.setItem("offline-queue",JSON.stringify([...u,m])),M.info("İşlem offline queue'ya eklendi")},o=d=>{e(g=>g.filter(f=>f.id!==d));const u=JSON.parse(localStorage.getItem("offline-queue")||"[]").filter(g=>g.id!==d);localStorage.setItem("offline-queue",JSON.stringify(u))},l=async()=>{var d,m;if(!(!n||s||a.length===0)){r(!0);for(const u of a)try{const g=await u.mutationFn();(d=u.onSuccess)==null||d.call(u,g),o(u.id),M.success("Offline işlem başarıyla tamamlandı")}catch(g){u.retryCount++,u.retryCount>=3?((m=u.onError)==null||m.call(u,g),o(u.id),M.error("Offline işlem başarısız oldu")):M.warning(`Offline işlem yeniden denenecek (${u.retryCount}/3)`)}r(!1)}};return c.useEffect(()=>{n&&l()},[n]),c.useEffect(()=>{const d=JSON.parse(localStorage.getItem("offline-queue")||"[]");e(d)},[]),{queue:a,addToQueue:i,removeFromQueue:o,processQueue:l,isProcessing:s,queueLength:a.length}},Ml=()=>{const a=ss(),{isOnline:e}=tt(),s=()=>{try{const o=a.getQueryCache().getAll().map(l=>({queryKey:l.queryKey,data:l.state.data,dataUpdatedAt:l.state.dataUpdatedAt,error:l.state.error}));localStorage.setItem("react-query-cache",JSON.stringify(o))}catch(i){console.warn("Cache kaydedilemedi:",i)}},r=()=>{try{const i=localStorage.getItem("react-query-cache");i&&JSON.parse(i).forEach(l=>{a.setQueryData(l.queryKey,l.data)})}catch(i){console.warn("Cache yüklenemedi:",i)}},n=()=>{localStorage.removeItem("react-query-cache"),a.clear()};return c.useEffect(()=>{e||s()},[e]),{saveCache:s,loadCache:r,clearCache:n,isOnline:e}},Rl=()=>{const a=ss(),{isOnline:e}=tt(),[s,r]=c.useState(null),n=async()=>{if(e)try{await a.refetchQueries({predicate:i=>i.isStale()}),r(Date.now()),console.log("Background sync tamamlandı")}catch(i){console.warn("Background sync hatası:",i)}};return c.useEffect(()=>{if(!e)return;const i=setInterval(()=>{n()},5*60*1e3);return()=>clearInterval(i)},[e]),c.useEffect(()=>{const i=()=>{e&&n()};return window.addEventListener("focus",i),()=>window.removeEventListener("focus",i)},[e]),{performBackgroundSync:n,lastSyncTime:s,isOnline:e}},Il=()=>{const{isOnline:a,wasOffline:e}=tt(),{queueLength:s}=Os();return{isOnline:a,wasOffline:e,queueLength:s,showIndicator:!a||s>0,indicatorText:a?s>0?`${s} işlem bekliyor`:"Online":"Offline",indicatorColor:a?s>0?"orange":"green":"red"}},zl=c.createContext(void 0),Ll=({children:a})=>{const{queue:e,isProcessing:s,processQueue:r}=Os(),{isOnline:n}=Rl(),{saveCache:i}=Ml(),o=()=>{r()},l=()=>{console.log("Clear queue called")};c.useEffect(()=>{n&&e.length>0&&(r(),M.success("Çevrimiçi oldunuz! Bekleyen işlemler işleniyor..."))},[n,e.length,r]),c.useEffect(()=>{const m=setInterval(()=>{i()},3e4);return()=>clearInterval(m)},[i]),c.useEffect(()=>{n||M.warning("İnternet bağlantısı kesildi. Çevrimdışı modda çalışıyorsunuz.")},[n]);const d={isOnline:n,queueSize:e.length,isProcessing:s,retryQueue:o,clearQueue:l};return t.jsx(zl.Provider,{value:d,children:a})},Xt=({onSelectConversation:a,selectedConversationId:e,currentUserId:s})=>{const[r,n]=c.useState([]),[i,o]=c.useState([]),[l,d]=c.useState(""),[m,u]=c.useState(!0),[g,f]=c.useState(!1),[b,k]=c.useState(""),{socket:p}=et();c.useEffect(()=>{(async()=>{try{const S=localStorage.getItem("auth_token"),j=await fetch("/api/messages/conversations",{headers:{Authorization:`Bearer ${S}`}});if(j.ok){const D=await j.json();n(D.conversations)}}catch(S){console.error("Error loading conversations:",S)}finally{u(!1)}})()},[]),c.useEffect(()=>{if(!g)return;(async()=>{try{const S=localStorage.getItem("auth_token"),j=new URLSearchParams;b&&j.append("search",b);const D=await fetch(`/api/messages/users?${j}`,{headers:{Authorization:`Bearer ${S}`}});if(D.ok){const A=await D.json();o(A.users)}}catch(S){console.error("Error loading users:",S)}})()},[g,b]),c.useEffect(()=>{if(!p)return;const x=S=>{n(j=>j.map(D=>D.id===S.conversationId?{...D,lastMessage:{content:S.message.content,created_at:S.message.created_at,sender_id:S.message.sender_id},updatedAt:S.message.created_at}:D).sort((D,A)=>new Date(A.updatedAt).getTime()-new Date(D.updatedAt).getTime()))};return p.on("new_message",x),()=>{p.off("new_message",x)}},[p]);const h=r.filter(x=>x.participant.full_name.toLowerCase().includes(l.toLowerCase())),E=async x=>{try{const S=localStorage.getItem("auth_token"),j=await fetch("/api/messages/conversations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S}`},body:JSON.stringify({participant_id:x.id})});if(j.ok){const D=await j.json(),A={id:D.conversation.id,participant:x,lastMessage:null,updatedAt:D.conversation.created_at,unreadCount:0};n(P=>[A,...P]),a(A),f(!1),k("")}}catch(S){console.error("Error starting new chat:",S)}},v=x=>Cs(new Date(x),{addSuffix:!1,locale:Nt});return m?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"h-full flex flex-col bg-white border-r border-gray-200",children:[t.jsxs("div",{className:"p-4 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Mesajlar"}),t.jsx("button",{onClick:()=>f(!g),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-full",children:t.jsx(va,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"relative",children:[t.jsx(xe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),t.jsx("input",{type:"text",placeholder:"Sohbetlerde ara...",value:l,onChange:x=>d(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),g&&t.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Yeni Sohbet Başlat"}),t.jsxs("div",{className:"relative mb-3",children:[t.jsx(xe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),t.jsx("input",{type:"text",placeholder:"Kullanıcı ara...",value:b,onChange:x=>k(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:i.map(x=>t.jsxs("button",{onClick:()=>E(x),className:"w-full flex items-center space-x-3 p-2 hover:bg-white rounded-lg transition-colors",children:[x.avatar_url?t.jsx("img",{src:x.avatar_url,alt:x.full_name,className:"w-8 h-8 rounded-full object-cover"}):t.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white text-sm font-semibold",children:x.full_name.charAt(0).toUpperCase()}),t.jsxs("div",{className:"flex-1 text-left",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.full_name}),t.jsx("p",{className:"text-xs text-gray-500",children:x.role})]})]},x.id))})]}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:h.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[t.jsx(xt,{className:"w-12 h-12 mb-4"}),t.jsx("p",{className:"text-sm",children:"Henüz mesajınız yok"}),t.jsx("p",{className:"text-xs",children:"Yeni bir sohbet başlatın"})]}):t.jsx("div",{className:"divide-y divide-gray-100",children:h.map(x=>t.jsx("button",{onClick:()=>a(x),className:`w-full p-4 text-left hover:bg-gray-50 transition-colors ${e===x.id?"bg-blue-50 border-r-2 border-blue-600":""}`,children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("div",{className:"relative",children:[x.participant.avatar_url?t.jsx("img",{src:x.participant.avatar_url,alt:x.participant.full_name,className:"w-12 h-12 rounded-full object-cover"}):t.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500 flex items-center justify-center text-white font-semibold",children:x.participant.full_name.charAt(0).toUpperCase()}),x.unreadCount>0&&t.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:x.unreadCount})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:x.participant.full_name}),x.lastMessage&&t.jsx("span",{className:"text-xs text-gray-500",children:v(x.lastMessage.created_at)})]}),x.lastMessage?t.jsxs("p",{className:"text-sm text-gray-600 truncate",children:[x.lastMessage.sender_id===s?"Sen: ":"",x.lastMessage.content]}):t.jsx("p",{className:"text-sm text-gray-400 italic",children:"Henüz mesaj yok"})]})]})},x.id))})})]})};function $l(){const{isConnected:a,emit:e,on:s,off:r}=et(),[n,i]=c.useState([]),[o,l]=c.useState([]),d=c.useCallback(f=>{i(b=>[...b,f])},[]),m=c.useCallback(f=>{l(b=>f.isTyping?b.includes(f.userId)?b:[...b,f.userId]:b.filter(k=>k!==f.userId))},[]);c.useEffect(()=>{if(a)return s("new_message",d),s("user_typing",m),()=>{r("new_message",d),r("user_typing",m)}},[a,s,r,d,m]);const u=c.useCallback(f=>{e("send_message",f)},[e]),g=c.useCallback(f=>{e("typing",{isTyping:f})},[e]);return{messages:n,typingUsers:o,sendMessage:u,setTyping:g}}const Jt=({conversationId:a,participant:e,currentUserId:s,onClose:r})=>{const[n,i]=c.useState([]),[o,l]=c.useState(""),[d,m]=c.useState(!0),u=c.useRef(null),g=c.useRef(null),{socket:f}=et(),{sendMessage:b,typingUsers:k}=$l(),p=()=>{var v;(v=u.current)==null||v.scrollIntoView({behavior:"smooth"})};c.useEffect(()=>{p()},[n]),c.useEffect(()=>{(async()=>{try{const x=localStorage.getItem("auth_token"),S=await fetch(`/api/messages/conversations/${a}/messages`,{headers:{Authorization:`Bearer ${x}`}});if(S.ok){const j=await S.json();i(j.messages)}}catch(x){console.error("Error loading messages:",x)}finally{m(!1)}})()},[a]),c.useEffect(()=>{if(!f)return;const v=x=>{x.conversationId===a&&i(S=>[...S,x.message])};return f.on("new_message",v),()=>{f.off("new_message",v)}},[f,a]),c.useEffect(()=>{if(!f)return;let v;const x=()=>{f.emit("typing",{conversationId:a,userId:s}),clearTimeout(v),v=setTimeout(()=>{f.emit("stop_typing",{conversationId:a,userId:s})},1e3)},S=g.current;if(S)return S.addEventListener("input",x),()=>{S.removeEventListener("input",x),clearTimeout(v)}},[f,a,s]);const h=async v=>{if(v.preventDefault(),!o.trim())return;const x=o.trim();l("");try{await b(x)}catch(S){console.error("Error sending message:",S)}},E=v=>Cs(new Date(v),{addSuffix:!0,locale:Nt});return d?t.jsx("div",{className:"flex items-center justify-center h-96",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"flex flex-col h-full bg-white rounded-lg shadow-lg",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("div",{className:"relative",children:[e.avatar_url?t.jsx("img",{src:e.avatar_url,alt:e.full_name,className:"w-10 h-10 rounded-full object-cover"}):t.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center text-white font-semibold",children:e.full_name.charAt(0).toUpperCase()}),t.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-400 border-2 border-white rounded-full"})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:e.full_name}),k.length>0&&t.jsx("p",{className:"text-sm text-blue-600",children:"yazıyor..."})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100",children:t.jsx(ya,{className:"w-5 h-5"})}),r&&t.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100",children:"×"})]})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[n.map(v=>{const x=v.sender_id===s;return t.jsx("div",{className:`flex ${x?"justify-end":"justify-start"}`,children:t.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${x?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:[t.jsx("p",{className:"text-sm",children:v.content}),t.jsx("p",{className:`text-xs mt-1 ${x?"text-blue-100":"text-gray-500"}`,children:E(v.created_at)})]})},v.id)}),t.jsx("div",{ref:u})]}),t.jsx("form",{onSubmit:h,className:"p-4 border-t border-gray-200",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{type:"button",className:"p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100",children:t.jsx(wa,{className:"w-5 h-5"})}),t.jsxs("div",{className:"flex-1 relative",children:[t.jsx("input",{ref:g,type:"text",value:o,onChange:v=>l(v.target.value),placeholder:"Mesajınızı yazın...",className:"w-full px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),t.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:t.jsx(ja,{className:"w-5 h-5"})})]}),t.jsx("button",{type:"submit",disabled:!o.trim(),className:"p-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:t.jsx(Fe,{className:"w-5 h-5"})})]})})]})},Ul=({currentUserId:a,isOpen:e,onToggle:s})=>{const[r,n]=c.useState(null),{isConnected:i}=et(),o=d=>{n(d)},l=()=>{n(null)};return e?t.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-2xl border border-gray-200 w-96 h-[600px] flex flex-col overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-600 text-white",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(xt,{className:"w-5 h-5"}),t.jsx("h2",{className:"font-semibold",children:"Mesajlar"}),!i&&t.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full animate-pulse"})]}),t.jsx("button",{onClick:s,className:"text-white hover:text-gray-200 transition-colors",children:t.jsx(Ee,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"flex-1 flex overflow-hidden",children:r?t.jsxs("div",{className:"w-full flex",children:[t.jsx("div",{className:"w-full md:hidden",children:t.jsx(Jt,{conversationId:r.id,participant:r.participant,currentUserId:a,onClose:l})}),t.jsxs("div",{className:"hidden md:flex w-full",children:[t.jsx("div",{className:"w-1/3 border-r border-gray-200",children:t.jsx(Xt,{onSelectConversation:o,selectedConversationId:r.id,currentUserId:a})}),t.jsx("div",{className:"w-2/3",children:t.jsx(Jt,{conversationId:r.id,participant:r.participant,currentUserId:a})})]})]}):t.jsx("div",{className:"w-full",children:t.jsx(Xt,{onSelectConversation:o,currentUserId:a})})}),!i&&t.jsx("div",{className:"p-2 bg-red-50 border-t border-red-200",children:t.jsx("p",{className:"text-xs text-red-600 text-center",children:"Bağlantı kesildi. Yeniden bağlanılıyor..."})})]})}):t.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:t.jsxs("button",{onClick:s,className:"bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-full shadow-lg transition-colors relative",children:[t.jsx(xt,{className:"w-6 h-6"}),!i&&t.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"})]})})},F=new $s({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!0,refetchOnReconnect:!0,refetchOnMount:!0,retry:(a,e)=>(e==null?void 0:e.status)===404||(e==null?void 0:e.status)===401||(e==null?void 0:e.status)===403?!1:a<3,retryDelay:a=>Math.min(1e3*2**a,3e4),networkMode:"online"},mutations:{retry:(a,e)=>(e==null?void 0:e.status)===401||(e==null?void 0:e.status)===403||(e==null?void 0:e.status)===400||(e==null?void 0:e.status)===422?!1:a<2,retryDelay:a=>Math.min(1e3*2**a,1e4),networkMode:"online"}}}),T={auth:{user:()=>["auth","user"],permissions:()=>["auth","permissions"]},users:{all:()=>["users"],lists:()=>[...T.users.all(),"list"],list:a=>[...T.users.lists(),{filters:a}],count:()=>[...T.users.all(),"count"],details:()=>[...T.users.all(),"detail"],detail:a=>[...T.users.details(),a]},institutions:{all:()=>["institutions"],lists:()=>[...T.institutions.all(),"list"],list:a=>[...T.institutions.lists(),{filters:a}],count:()=>[...T.institutions.all(),"count"],details:()=>[...T.institutions.all(),"detail"],detail:a=>[...T.institutions.details(),a]},messages:{all:()=>["messages"],templates:{all:()=>[...T.messages.all(),"templates"],lists:()=>[...T.messages.templates.all(),"list"],list:a=>[...T.messages.templates.lists(),{filters:a}],count:()=>[...T.messages.templates.all(),"count"],details:()=>[...T.messages.templates.all(),"detail"],detail:a=>[...T.messages.templates.details(),a]},deliveries:{all:()=>[...T.messages.all(),"deliveries"],lists:()=>[...T.messages.deliveries.all(),"list"],list:a=>[...T.messages.deliveries.lists(),{filters:a}]}},donations:{all:()=>["donations"],lists:()=>[...T.donations.all(),"list"],list:a=>[...T.donations.lists(),{filters:a}],details:()=>[...T.donations.all(),"detail"],detail:a=>[...T.donations.details(),a],stats:()=>[...T.donations.all(),"stats"]},aid:{all:()=>["aid"],applications:{all:()=>[...T.aid.all(),"applications"],lists:()=>[...T.aid.applications.all(),"list"],list:a=>[...T.aid.applications.lists(),{filters:a}],details:()=>[...T.aid.applications.all(),"detail"],detail:a=>[...T.aid.applications.details(),a]},beneficiaries:{all:()=>[...T.aid.all(),"beneficiaries"],lists:()=>[...T.aid.beneficiaries.all(),"list"],list:a=>[...T.aid.beneficiaries.lists(),{filters:a}],details:()=>[...T.aid.beneficiaries.all(),"detail"],detail:a=>[...T.aid.beneficiaries.details(),a]}},scholarship:{all:()=>["scholarship"],applications:{all:()=>[...T.scholarship.all(),"applications"],lists:()=>[...T.scholarship.applications.all(),"list"],list:a=>[...T.scholarship.applications.lists(),{filters:a}],details:()=>[...T.scholarship.applications.all(),"detail"],detail:a=>[...T.scholarship.applications.details(),a]},students:{all:()=>[...T.scholarship.all(),"students"],lists:()=>[...T.scholarship.students.all(),"list"],list:a=>[...T.scholarship.students.lists(),{filters:a}],details:()=>[...T.scholarship.students.all(),"detail"],detail:a=>[...T.scholarship.students.details(),a]}},dashboard:{all:()=>["dashboard"],stats:()=>[...T.dashboard.all(),"stats"],charts:()=>[...T.dashboard.all(),"charts"],recent:()=>[...T.dashboard.all(),"recent"]}},Wl={all:()=>F.invalidateQueries(),users:()=>F.invalidateQueries({queryKey:T.users.all()}),institutions:()=>F.invalidateQueries({queryKey:T.institutions.all()}),messages:()=>F.invalidateQueries({queryKey:T.messages.all()}),donations:()=>F.invalidateQueries({queryKey:T.donations.all()}),aid:()=>F.invalidateQueries({queryKey:T.aid.all()}),scholarship:()=>F.invalidateQueries({queryKey:T.scholarship.all()}),dashboard:()=>F.invalidateQueries({queryKey:T.dashboard.all()}),auth:()=>{F.invalidateQueries({queryKey:T.auth.user()}),F.invalidateQueries({queryKey:T.auth.permissions()})}},Bl={dashboard:async()=>{await Promise.all([F.prefetchQuery({queryKey:T.dashboard.stats(),queryFn:()=>fetch("/api/dashboard/stats").then(a=>a.json()),staleTime:2*60*1e3}),F.prefetchQuery({queryKey:T.dashboard.recent(),queryFn:()=>fetch("/api/dashboard/recent").then(a=>a.json()),staleTime:1*60*1e3})])}},Zt={saveToStorage:()=>{try{const s=F.getQueryCache().getAll().map(r=>({queryKey:r.queryKey,data:r.state.data,dataUpdatedAt:r.state.dataUpdatedAt}));localStorage.setItem("react-query-cache",JSON.stringify(s))}catch(a){console.warn("Cache kaydedilemedi:",a)}},loadFromStorage:()=>{try{const a=localStorage.getItem("react-query-cache");a&&JSON.parse(a).forEach(s=>{F.setQueryData(s.queryKey,s.data)})}catch(a){console.warn("Cache yüklenemedi:",a)}},clearStorage:()=>{try{localStorage.removeItem("react-query-cache")}catch(a){console.warn("Cache temizlenemedi:",a)}}};async function St(a,e,s="uploaded"){try{const r=e.name.replace(/[^a-zA-Z0-9_.-]/g,"_"),n=`beneficiaries/${a}/${Date.now()}-${r}`,{data:i,error:o}=await _.storage.from("documents").upload(n,e,{upsert:!0,cacheControl:"3600"});if(o||!(i!=null&&i.path))return{success:!1,data:{filePath:""},error:(o==null?void 0:o.message)||"Upload failed"};const l=i.path,{error:d}=await _.from("documents").insert({beneficiary_id:a,document_type:s,file_name:e.name,file_path:l});return d?{success:!1,data:{filePath:l},error:d.message}:{success:!0,data:{filePath:l}}}catch(r){return{success:!1,data:{filePath:""},error:r instanceof Error?r.message:"Unknown error"}}}async function Yl(a,e){const s=a.trim().toLowerCase();if(/(dashboard|anasayfa|home)/.test(s))return e.navigateTo("/"),{ok:!0,message:"Navigated to dashboard"};if(/(bağış|donation)/.test(s))return e.navigateTo("/donations"),{ok:!0,message:"Navigated to donations"};if(/(yardım|aid)/.test(s))return e.navigateTo("/aid"),{ok:!0,message:"Navigated to aid"};if(/(koyu|dark)/.test(s))return e.setTheme("dark"),{ok:!0,message:"Theme set to dark"};if(/(açık|light)/.test(s))return e.setTheme("light"),{ok:!0,message:"Theme set to light"};if(/(sistem|system)/.test(s)&&/tema|theme/.test(s))return e.setTheme("system"),{ok:!0,message:"Theme set to system"};if(/chat|sohbet/.test(s))return e.toggleChat(),{ok:!0,message:"Chat toggled"};if(/belge|dosya|yukle|yükle|upload/.test(s)){let r=Vl(s);if(!r){const i=ql(s);i&&(r=await Fl(i))}if(!r)return{ok:!1,message:"Kişi ID/isim bulunamadı"};const n=await Hl();return M.promise(St(r,n,"uploaded"),{loading:"Belge yükleniyor...",success:"Belge yüklendi",error:"Belge yüklenemedi"}),{ok:!0}}return{ok:!1,message:"Anlaşılamadı"}}function Vl(a){const e=a.match(/id\s*[:=]\s*([a-z0-9-]+)/i);return e?e[1]:""}function ql(a){const e=a.match(/(?:ad|name)\s*[:=]\s*([^,]+)/i)||a.match(/([^,]+)\s*(?:için|adlı|kişisi)/i);return e?e[1].trim():""}async function Fl(a){const[e,...s]=a.split(/\s+/),r=s.join(" "),{data:n}=await _.from("beneficiaries").select("id, name, surname").ilike("name",`%${e}%`).ilike("surname",r?`%${r}%`:"%").limit(1).maybeSingle();return(n==null?void 0:n.id)||""}async function Hl(){const a=document.createElement("input");return a.type="file",a.accept="*/*",await new Promise((e,s)=>{a.onchange=()=>{var n;const r=(n=a.files)==null?void 0:n[0];r?e(r):s(new Error("Dosya seçilmedi"))},a.click()})}const Gl=[{id:"go:dashboard",label:"Go to Dashboard",keywords:["anasayfa","dashboard","home"],run:a=>a.navigateTo("/")},{id:"agent:run",label:"AI Agent: Run Goal",description:"Doğal dille hedef ver, agent uygulasın",keywords:["agent","ai","hedef","goal","otomasyon"],run:async(a,e)=>{const s=(e==null?void 0:e.query)||"";await Yl(s,a)}},{id:"beneficiary:upload-document",label:"Beneficiary: Upload Document",description:"Belirli bir kişi/ID için belge yükle",keywords:["kişi","belge","yükle","upload","dosya"],run:async(a,e)=>{const s=((e==null?void 0:e.query)||"").toLowerCase();let r="";const n=s.match(/id\s*[:=]\s*([a-z0-9-]+)/i);if(n&&(r=n[1]),!r){const l=s.match(/(?:ad|name)\s*[:=]\s*([^,]+)/i)||s.match(/([^,]+)\s*(?:için|adlı|kişisi)/i),d=l?l[1].trim():"";if(d){const[m,...u]=d.split(/\s+/),g=u.join(" "),{data:f}=await _.from("beneficiaries").select("id, name, surname").ilike("name",`%${m}%`).ilike("surname",g?`%${g}%`:"%").limit(1).maybeSingle();f!=null&&f.id&&(r=f.id)}}if(!r)throw new Error("Kişi ID bulunamadı. Lütfen komutta ID belirtin: id:xxxx");const i=document.createElement("input");i.type="file",i.accept="*/*";const o=await new Promise((l,d)=>{i.onchange=()=>{var u;const m=(u=i.files)==null?void 0:u[0];m?l(m):d(new Error("Dosya seçilmedi"))},i.click()});await St(r,o,"uploaded")}},{id:"go:donations",label:"Open Donations",keywords:["bağış","donations"],run:a=>a.navigateTo("/donations")},{id:"go:messages",label:"Open Messages",keywords:["mesaj","messages"],run:a=>a.navigateTo("/messages")},{id:"go:aid",label:"Open Aid",keywords:["yardım","aid"],run:a=>a.navigateTo("/aid")},{id:"go:definitions",label:"Open Definitions",keywords:["tanımlar","definitions"],run:a=>a.navigateTo("/definitions/units")},{id:"theme:light",label:"Theme: Light",keywords:["tema","light","açık"],run:a=>a.setTheme("light")},{id:"theme:dark",label:"Theme: Dark",keywords:["tema","dark","koyu"],run:a=>a.setTheme("dark")},{id:"theme:system",label:"Theme: System",keywords:["tema","system","sistem"],run:a=>a.setTheme("system")},{id:"chat:toggle",label:"Toggle Chat",keywords:["sohbet","chat"],run:a=>a.toggleChat()},{id:"cache:invalidate",label:"Refresh All Data (Invalidate Cache)",keywords:["refresh","cache","yenile"],run:async()=>{await Wl.all()}},{id:"prefetch:dashboard",label:"Prefetch Dashboard Data",keywords:["prefetch","dashboard"],run:async()=>{await Bl.dashboard()}},{id:"app:reload",label:"Reload Application",keywords:["yeniden yükle","reload","refresh"],run:()=>{window.location.reload()}},{id:"go:login",label:"Go to Login",keywords:["login","giriş"],run:a=>a.navigateTo("/login")}],Ms=()=>Gl,ht=a=>a.toLowerCase().trim();function Kl(a){const e=ht(a);if(!e)return{action:null,confidence:0};const s=Ms(),r=s.find(i=>i.id===e);if(r)return{action:r,confidence:1};let n=null;for(const i of s){const o=i.label?es(e,ht(i.label)):0,l=(i.keywords||[]).reduce((m,u)=>Math.max(m,es(e,ht(u))),0),d=Math.max(o,l);(!n||d>n.score)&&(n={action:i,score:d})}return n&&n.score>=.55?{action:n.action,confidence:n.score}:{action:null,confidence:n?n.score:0}}function es(a,e){if(!a||!e)return 0;if(a===e)return 1;const s=new Set(a.split(/\s+|[/:_-]+/g)),r=new Set(e.split(/\s+|[/:_-]+/g));let n=0;for(const o of s)r.has(o)&&n++;const i=Math.max(s.size,r.size);return i?n/i:0}function Ql({isOpen:a,onClose:e,toggleChat:s,onOpenAICenter:r}){const[n,i]=c.useState(""),[o,l]=c.useState(0),d=c.useRef(null),m=Je(),{setTheme:u}=kt();c.useEffect(()=>{a?setTimeout(()=>{var p;return(p=d.current)==null?void 0:p.focus()},0):(i(""),l(0))},[a]),c.useEffect(()=>{const p=h=>{if((h.metaKey||h.ctrlKey)&&h.key.toLowerCase()==="k")if(h.preventDefault(),a)e();else{const E=new CustomEvent("open-command-palette");window.dispatchEvent(E)}a&&(h.key==="Escape"&&e(),h.key==="ArrowDown"&&c.startTransition(()=>{l(E=>Math.min(E+1,9))}),h.key==="ArrowUp"&&c.startTransition(()=>{l(E=>Math.max(E-1,0))}),h.key==="Enter"&&k())};return window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[a,n]),c.useEffect(()=>{const p=()=>a?void 0:g();return window.addEventListener("open-command-palette",p),()=>window.removeEventListener("open-command-palette",p)},[a]);const g=()=>{setTimeout(()=>{var p;return(p=d.current)==null?void 0:p.focus()},0)},f=c.useMemo(()=>Ms(),[]),b=c.useMemo(()=>{let p=[...f];if(r&&p.unshift({id:"ai:command-center",label:"AI Komut Merkezi",description:"Doğal dil ile komut ver, akıllı otomasyon",keywords:["ai","yapay zeka","akıllı","otomasyon","komut"],run:()=>{r(),e()}}),!n)return p.slice(0,10);const{action:h}=Kl(n);if(h)return[h,...p.filter(v=>v.id!==h.id)].slice(0,10);const E=n.toLowerCase();return p.filter(v=>v.label.toLowerCase().includes(E)||(v.keywords||[]).some(x=>x.toLowerCase().includes(E))).slice(0,10)},[f,n,r,e]),k=async()=>{const p=b[o];p&&(await p.run({navigateTo:h=>m(h),setTheme:h=>u(h),toggleChat:s},{query:n}),e())};return a?t.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center bg-black/40 p-4",onClick:e,children:t.jsxs("div",{className:"w-full max-w-xl rounded-lg bg-background shadow-xl ring-1 ring-border",onClick:p=>p.stopPropagation(),children:[t.jsx("div",{className:"border-b p-3",children:t.jsx("input",{ref:d,value:n,onChange:p=>{c.startTransition(()=>{i(p.target.value)})},placeholder:"Komut yazın veya ? ile yardım alın (Cmd/Ctrl+K)",className:"w-full bg-transparent outline-none"})}),t.jsx("ul",{className:"max-h-80 overflow-auto p-1",children:b.map((p,h)=>t.jsxs("li",{onMouseEnter:()=>{c.startTransition(()=>{l(h)})},onClick:k,className:"cursor-pointer rounded px-3 py-2 text-sm flex items-center gap-2 "+(h===o?"bg-accent text-accent-foreground":""),children:[p.id==="ai:command-center"&&t.jsx(qe,{className:"w-4 h-4 text-blue-500"}),p.id.includes("agent:")&&t.jsx(ds,{className:"w-4 h-4 text-green-500"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium",children:p.label}),p.description?t.jsx("div",{className:"text-muted-foreground text-xs",children:p.description}):null,t.jsx("div",{className:"text-xs text-muted-foreground",children:p.id})]})]},p.id))}),t.jsx("div",{className:"border-t p-2 text-right text-xs text-muted-foreground",children:"Enter: Çalıştır • Esc: Kapat • ↑/↓: Seç"})]})}):null}class Xl{constructor(){B(this,"modules",{});this.initializeModules()}initializeModules(){this.modules.beneficiaries={create:async e=>{const{data:s,error:r}=await _.from("beneficiaries").insert([{name:e.name,surname:e.surname,phone:e.phone,email:e.email,address:e.address,notes:e.notes,status:"active"}]).select().single();if(r)throw r;return s},read:async e=>{let s=_.from("beneficiaries").select("*");if(e!=null&&e.id){s=s.eq("id",e.id);const{data:i,error:o}=await s.single();if(o)throw o;return i}e!=null&&e.name&&(s=s.ilike("name",`%${e.name}%`)),e!=null&&e.status&&(s=s.eq("status",e.status)),e!=null&&e.limit&&(s=s.limit(e.limit));const{data:r,error:n}=await s;if(n)throw n;return r},update:async(e,s)=>{const{data:r,error:n}=await _.from("beneficiaries").update(s).eq("id",e).select().single();if(n)throw n;return r},delete:async e=>{const{error:s}=await _.from("beneficiaries").delete().eq("id",e);if(s)throw s;return{success:!0}},list:async(e={})=>{let s=_.from("beneficiaries").select("*");Object.entries(e).forEach(([i,o])=>{o!=null&&(s=s.eq(i,o))});const{data:r,error:n}=await s.order("created_at",{ascending:!1});if(n)throw n;return r},search:async e=>{const{data:s,error:r}=await _.from("beneficiaries").select("*").or(`name.ilike.%${e}%,surname.ilike.%${e}%,phone.ilike.%${e}%`).limit(50);if(r)throw r;return s},export:async(e={})=>({format:"csv",data:await this.modules.beneficiaries.list(e),filename:`beneficiaries_${Date.now()}.csv`}),custom:{uploadDocument:async e=>await St(e.id,e.file,e.type||"document"),getStatistics:async()=>{const[{count:e},{count:s},{count:r}]=await Promise.all([_.from("beneficiaries").select("*",{count:"exact",head:!0}),_.from("beneficiaries").select("*",{count:"exact",head:!0}).eq("status","active"),_.from("beneficiaries").select("*",{count:"exact",head:!0}).gte("created_at",new Date(new Date().setDate(1)).toISOString())]);return{total:e||0,active:s||0,newThisMonth:r||0}}}},this.modules.donations={create:async e=>{const{data:s,error:r}=await _.from("donations").insert([{donor_name:e.donorName,amount:e.amount,currency:e.currency||"TRY",method:e.method||"cash",notes:e.notes,status:"completed"}]).select().single();if(r)throw r;return s},list:async(e={})=>{let s=_.from("donations").select("*");e.dateFrom&&(s=s.gte("created_at",e.dateFrom)),e.dateTo&&(s=s.lte("created_at",e.dateTo)),e.method&&(s=s.eq("method",e.method)),e.minAmount&&(s=s.gte("amount",e.minAmount));const{data:r,error:n}=await s.order("created_at",{ascending:!1});if(n)throw n;return r},report:async(e={})=>{const{data:s,error:r}=await _.from("donations").select("amount, currency, method, created_at").gte("created_at",e.dateFrom||new Date(new Date().setMonth(0,1)).toISOString()).lte("created_at",e.dateTo||new Date().toISOString());if(r)throw r;const n=s.reduce((i,o)=>{const l=o.method||"unknown";return i[l]||(i[l]={count:0,total:0}),i[l].count++,i[l].total+=o.amount,i},{});return{donations:s,summary:n,totalAmount:s.reduce((i,o)=>i+o.amount,0),totalCount:s.length}}},this.modules.meetings={create:async e=>{const{data:s,error:r}=await _.from("meetings").insert([{title:e.title,description:e.description,meeting_date:e.date,location:e.location,organizer_id:e.organizerId,status:"scheduled"}]).select().single();if(r)throw r;return s},list:async(e={})=>{let s=_.from("meetings").select(`
          *,
          organizer:organizer_id(name, surname)
        `);e.status&&(s=s.eq("status",e.status)),e.dateFrom&&(s=s.gte("meeting_date",e.dateFrom)),e.dateTo&&(s=s.lte("meeting_date",e.dateTo));const{data:r,error:n}=await s.order("meeting_date",{ascending:!0});if(n)throw n;return r},update:async(e,s)=>{const{data:r,error:n}=await _.from("meetings").update(s).eq("id",e).select().single();if(n)throw n;return r}},this.modules.tasks={create:async e=>{const{data:s,error:r}=await _.from("tasks").insert([{title:e.title,description:e.description,assigned_to:e.assignedTo,priority:e.priority||"medium",due_date:e.dueDate,status:"pending"}]).select().single();if(r)throw r;return s},list:async(e={})=>{let s=_.from("tasks").select(`
          *,
          assigned_user:assigned_to(name, surname)
        `);e.status&&(s=s.eq("status",e.status)),e.priority&&(s=s.eq("priority",e.priority)),e.assignedTo&&(s=s.eq("assigned_to",e.assignedTo));const{data:r,error:n}=await s.order("created_at",{ascending:!1});if(n)throw n;return r},update:async(e,s)=>{const{data:r,error:n}=await _.from("tasks").update(s).eq("id",e).select().single();if(n)throw n;return r},custom:{markCompleted:async e=>await this.modules.tasks.update(e.id,{status:"completed",completed_at:new Date().toISOString()}),assignBulk:async e=>{const s=e.taskIds.map(r=>this.modules.tasks.update(r,{assigned_to:e.assignedTo}));return await Promise.all(s)}}},this.modules.messages={create:async e=>{const{data:s,error:r}=await _.from("messages").insert([{title:e.title,content:e.content,type:e.type||"sms",status:"sent",sent_at:new Date().toISOString()}]).select().single();if(r)throw r;return s},list:async(e={})=>{let s=_.from("messages").select("*");e.type&&(s=s.eq("type",e.type)),e.status&&(s=s.eq("status",e.status));const{data:r,error:n}=await s.order("sent_at",{ascending:!1});if(n)throw n;return r},custom:{sendBulk:async e=>{const s=e.recipients.map(i=>({title:e.title,content:e.content,type:e.type,recipient:i,status:"sent",sent_at:new Date().toISOString()})),{data:r,error:n}=await _.from("messages").insert(s).select();if(n)throw n;return r}}},this.modules.system={custom:{getUsers:async(e={})=>{let s=_.from("users").select("*");e.role&&(s=s.eq("role",e.role)),e.status&&(s=s.eq("status",e.status));const{data:r,error:n}=await s;if(n)throw n;return r},updateUserRole:async e=>{const{data:s,error:r}=await _.from("users").update({role:e.role}).eq("id",e.userId).select().single();if(r)throw r;return s},getSystemStats:async()=>{const[{count:e},{count:s},{count:r},{count:n}]=await Promise.all([_.from("users").select("*",{count:"exact",head:!0}),_.from("beneficiaries").select("*",{count:"exact",head:!0}),_.from("donations").select("*",{count:"exact",head:!0}),_.from("tasks").select("*",{count:"exact",head:!0})]);return{users:e||0,beneficiaries:s||0,donations:r||0,tasks:n||0}}}}}async executeCommand(e){try{const{module:s,action:r,parameters:n,target:i,conditions:o}=e;if(!s||!this.modules[s])return{success:!1,message:`Modül bulunamadı: ${s}`,suggestions:["Desteklenen modüller: "+Object.keys(this.modules).join(", ")]};const l=this.modules[s];let d;switch(r){case"create":case"add":if(!l.create)return{success:!1,message:`${s} modülünde oluşturma işlemi desteklenmiyor`};d=await l.create(n);break;case"list":case"show":if(!l.list)return{success:!1,message:`${s} modülünde listeleme işlemi desteklenmiyor`};d=await l.list(o);break;case"search":case"find":if(!l.search)return{success:!1,message:`${s} modülünde arama işlemi desteklenmiyor`};d=await l.search(i||"");break;case"update":case"edit":if(!l.update||!i)return{success:!1,message:`${s} modülünde güncelleme işlemi desteklenmiyor veya hedef belirtilmedi`};d=await l.update(i,n);break;case"delete":case"remove":if(!l.delete||!i)return{success:!1,message:`${s} modülünde silme işlemi desteklenmiyor veya hedef belirtilmedi`};d=await l.delete(i);break;case"export":if(!l.export)return{success:!1,message:`${s} modülünde dışa aktarma işlemi desteklenmiyor`};d=await l.export(o);break;case"report":if(!l.report)return{success:!1,message:`${s} modülünde rapor işlemi desteklenmiyor`};d=await l.report(n);break;default:if(l.custom&&l.custom[r])d=await l.custom[r]({...n,target:i,...o});else return{success:!1,message:`Desteklenmeyen işlem: ${r}`,suggestions:this.getAvailableActions(s)}}return{success:!0,message:this.generateSuccessMessage(r,s,d),data:d,nextSteps:this.generateNextSteps(r,s)}}catch(s){return{success:!1,message:`Hata oluştu: ${s.message}`,suggestions:["Komutunuzu kontrol edin ve tekrar deneyin"]}}}generateSuccessMessage(e,s,r){const n={beneficiaries:"Hak Sahibi",donations:"Bağış",meetings:"Toplantı",tasks:"Görev",messages:"Mesaj",system:"Sistem"},i={create:"oluşturuldu",list:"listelendi",update:"güncellendi",delete:"silindi",export:"dışa aktarıldı",report:"raporu hazırlandı"},o=n[s]||s,l=i[e]||e;return Array.isArray(r)?`${r.length} ${o} kaydı ${l}`:r&&typeof r=="object"?`${o} ${l}`:"İşlem başarıyla tamamlandı"}generateNextSteps(e,s){const r=[];return e==="create"?r.push(`${s} listele`,`${s} düzenle`):e==="list"?r.push(`${s} ara`,`${s} dışa aktar`):e==="search"&&r.push("Sonucu düzenle","Detayları göster"),r}getAvailableActions(e){const s=this.modules[e],r=[];return s.create&&r.push("create","add"),s.list&&r.push("list","show"),s.update&&r.push("update","edit"),s.delete&&r.push("delete","remove"),s.search&&r.push("search","find"),s.export&&r.push("export"),s.report&&r.push("report"),s.custom&&r.push(...Object.keys(s.custom)),r}getModules(){return Object.keys(this.modules)}getModuleActions(e){return this.getAvailableActions(e)}}const ts=new Xl;class Jl{constructor(){B(this,"turkishStopWords",["ve","bir","bu","da","de","den","ile","için","gibi","kadar","sonra","önce","üzere","diye","beri","ama","fakat","ancak","lakin","çünkü","ise","eğer","ki","ya","yahut","veya","hem","ne","hangi","nasıl","nerede","ne zaman","niye","niçin","kim","kimin","kime","kimi"]);B(this,"turkishSynonyms",{ekle:["oluştur","yap","kaydet","gir","add","create","save"],göster:["listele","bul","ara","getir","show","list","find","search"],güncelle:["değiştir","düzenle","revize et","update","edit","modify"],sil:["kaldır","çıkar","iptal et","delete","remove","cancel"],gönder:["ilet","yolla","bildir","send","notify","deliver"],rapor:["analiz","özet","istatistik","report","analysis","summary"],"hak sahibi":["muhtaç","yardım alan","beneficiary","kişi","birey"],bağış:["donation","para","ödeme","tahsilat","gelir","money"],toplantı:["meeting","görüşme","randevu","buluşma","conference"],görev:["task","iş","atama","assignment","work","job"],mesaj:["message","bilgi","duyuru","haber","text","notification"]});B(this,"patterns",{date:[/(\d{1,2})\.(\d{1,2})\.(\d{4})/g,/(\d{1,2})\/(\d{1,2})\/(\d{4})/g,/(\d{4})-(\d{1,2})-(\d{1,2})/g,/(bugün|today)/gi,/(dün|yesterday)/gi,/(yarın|tomorrow)/gi,/(geçen hafta|last week)/gi,/(bu hafta|this week)/gi,/(gelecek hafta|next week)/gi,/(geçen ay|last month)/gi,/(bu ay|this month)/gi,/(gelecek ay|next month)/gi,/(son \d+ gün)/gi,/(son \d+ hafta)/gi,/(son \d+ ay)/gi],person:[/\b[A-ZÇĞIİÖŞÜ][a-zçğıiöşü]+\s+[A-ZÇĞIİÖŞÜ][a-zçğıiöşü]+(?:\s+[A-ZÇĞIİÖŞÜ][a-zçğıiöşü]+)?\b/g],money:[/(\d+(?:[.,]\d+)?)\s*(?:tl|lira|₺)/gi,/(\d+(?:[.,]\d+)?)\s*(?:euro|eur|€)/gi,/(\d+(?:[.,]\d+)?)\s*(?:dolar|dollar|usd|\$)/gi,/(\d+(?:[.,]\d+)?)\s*(?:pound|gbp|£)/gi],phone:[/(\+90\s?)?(\d{3})\s?(\d{3})\s?(\d{2})\s?(\d{2})/g,/(\d{11})/g],email:[/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/g],id:[/id\s*[:=]\s*([a-z0-9-]+)/gi,/kimlik\s*[:=]\s*([a-z0-9-]+)/gi,/\b[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}\b/gi],number:[/\b\d+\b/g],status:[/\b(aktif|active|pasif|inactive|beklemede|pending|tamamlandı|completed|iptal|cancelled)\b/gi],location:[/\b[A-ZÇĞIİÖŞÜ][a-zçğıiöşü]+(?:\s+[A-ZÇĞIİÖŞÜ][a-zçğıiöşü]+)*(?:\s+(?:ili|ilçesi|mahallesi|caddesi|sokağı))\b/g]})}async processText(e){const s=this.normalizeText(e),r=this.extractEntities(e),n=this.detectIntent(s,r),i=this.calculateConfidence(n,r),o=this.generateSuggestions(s,n,r);return{intent:n,entities:this.groupEntities(r),confidence:i,processedText:s,suggestions:o}}normalizeText(e){return e.toLowerCase().trim().replace(/i̇/g,"i").replace(/İ/g,"i").replace(/[^\w\sçğıiöşüÇĞIİÖŞÜ\-.:]/g," ").replace(/\s+/g," ")}extractEntities(e){const s=[];return Object.entries(this.patterns).forEach(([r,n])=>{n.forEach(i=>{let o;for(;(o=i.exec(e))!==null;){const l={type:r.toUpperCase(),value:o[0],confidence:this.getEntityConfidence(r,o[0]),start:o.index,end:o.index+o[0].length};l.normalized=this.normalizeEntity(l),s.push(l)}})}),this.resolveEntityConflicts(s)}normalizeEntity(e){switch(e.type){case"DATE":return this.normalizeDate(e.value);case"MONEY":return this.normalizeMoney(e.value);case"PHONE":return this.normalizePhone(e.value);case"PERSON":return this.normalizePerson(e.value);case"NUMBER":return parseInt(e.value.replace(/\D/g,""))||0;case"STATUS":return this.normalizeStatus(e.value);default:return e.value}}normalizeDate(e){const s=e.toLowerCase(),r=new Date;if(s.includes("bugün")||s.includes("today"))return r;if(s.includes("dün")||s.includes("yesterday")){const o=new Date(r);return o.setDate(o.getDate()-1),o}if(s.includes("yarın")||s.includes("tomorrow")){const o=new Date(r);return o.setDate(o.getDate()+1),o}const n=s.match(/son (\d+) gün/);if(n){const o=parseInt(n[1]),l=new Date(r);return l.setDate(l.getDate()-o),l}const i=[/(\d{1,2})\.(\d{1,2})\.(\d{4})/,/(\d{1,2})\/(\d{1,2})\/(\d{4})/,/(\d{4})-(\d{1,2})-(\d{1,2})/];for(const o of i){const l=e.match(o);if(l){let[,d,m,u]=l;return o.source.startsWith("(\\d{4})")&&([,u,m,d]=l),new Date(parseInt(u),parseInt(m)-1,parseInt(d))}}return e}normalizeMoney(e){const s=parseFloat(e.replace(/[^\d.,]/g,"").replace(",","."))||0;let r="TRY";return/euro|eur|€/i.test(e)?r="EUR":/dolar|dollar|usd|\$/i.test(e)?r="USD":/pound|gbp|£/i.test(e)&&(r="GBP"),{amount:s,currency:r}}normalizePhone(e){const s=e.replace(/\D/g,"");return s.length===11&&s.startsWith("0")?"+90"+s.substring(1):s.length===10?"+90"+s:e}normalizePerson(e){const s=e.trim().split(/\s+/);return{firstName:s[0]||"",lastName:s.slice(1).join(" ")||"",fullName:e.trim()}}normalizeStatus(e){const s=e.toLowerCase();return["aktif","active"].includes(s)?"active":["pasif","inactive"].includes(s)?"inactive":["beklemede","pending"].includes(s)?"pending":["tamamlandı","completed"].includes(s)?"completed":["iptal","cancelled"].includes(s)?"cancelled":e}detectIntent(e,s){const r=e.split(/\s+/),n={CREATE:0,READ:0,UPDATE:0,DELETE:0,SEARCH:0,REPORT:0,NAVIGATE:0,EXPORT:0,NOTIFY:0};r.forEach(l=>{["ekle","oluştur","yap","kaydet","gir","add","create","save","new","yeni"].includes(l)&&(n.CREATE+=2),["göster","listele","bul","ara","getir","show","list","find","search","get"].includes(l)&&(n.READ+=2,n.SEARCH+=1.5),["güncelle","değiştir","düzenle","revize","update","edit","modify","change"].includes(l)&&(n.UPDATE+=2),["sil","kaldır","çıkar","iptal","delete","remove","cancel"].includes(l)&&(n.DELETE+=2),["rapor","analiz","özet","istatistik","report","analysis","summary","stats"].includes(l)&&(n.REPORT+=2),["git","aç","geç","go","open","navigate"].includes(l)&&(n.NAVIGATE+=1.5),["dışa","aktar","indir","çıkar","export","download"].includes(l)&&(n.EXPORT+=2),["gönder","bildir","ilet","send","notify","mesaj"].includes(l)&&(n.NOTIFY+=2)}),s.forEach(l=>{l.type==="PERSON"&&(n.SEARCH+=.5,n.UPDATE+=.5),l.type==="DATE"&&(n.REPORT+=.5,n.SEARCH+=.5),l.type==="MONEY"&&(n.CREATE+=.5,n.REPORT+=.5)});const i=Math.max(...Object.values(n));return Object.keys(n).find(l=>n[l]===i)||"UNKNOWN"}calculateConfidence(e,s){let r=.3;e!=="UNKNOWN"&&(r+=.3),r+=Math.min(s.length*.1,.3);const n=s.filter(i=>i.confidence>.8);return r+=n.length*.1,Math.min(r,1)}generateSuggestions(e,s,r){const n=[];return s==="CREATE"&&(n.push("Hangi modülde oluşturmak istiyorsunuz?"),r.some(i=>i.type==="PERSON")||n.push("Kişi adı belirtir misiniz?")),s==="SEARCH"&&(n.push("Aramayı hangi kriterlere göre yapalım?"),n.push("Tarih aralığı belirtmek ister misiniz?")),s==="REPORT"&&(n.push("Hangi tarih aralı��ı için rapor?"),n.push("Hangi modül raporu: bağış, hak sahibi, görev?")),r.length===0&&(n.push("Daha spesifik bilgi verebilir misiniz?"),n.push("Hangi modülle ilgili: bağış, hak sahibi, toplantı?")),n.slice(0,3)}groupEntities(e){const s={};return e.forEach(r=>{const n=r.type.toLowerCase();s[n]||(s[n]=[]),s[n].push({value:r.value,normalized:r.normalized,confidence:r.confidence})}),Object.keys(s).forEach(r=>{s[r].length===1&&(s[r]=s[r][0])}),s}resolveEntityConflicts(e){e.sort((r,n)=>r.start-n.start);const s=[];for(const r of e)if(!s.some(i=>r.start>=i.start&&r.start<i.end||r.end>i.start&&r.end<=i.end))s.push(r);else{const i=s.findIndex(o=>r.start>=o.start&&r.start<o.end||r.end>o.start&&r.end<=o.end);i!==-1&&r.confidence>s[i].confidence&&(s[i]=r)}return s}getEntityConfidence(e,s){switch(e){case"email":return/@.+\..+/.test(s)?.95:.6;case"phone":return/\+90\s?\d{10}/.test(s)?.9:.7;case"id":return/[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}/.test(s)?.95:.8;case"money":return/\d+[.,]\d+/.test(s)?.9:.8;case"date":return/\d{1,2}[.\/]\d{1,2}[.\/]\d{4}/.test(s)?.9:.7;case"person":return/^[A-ZÇĞIİÖŞÜ][a-zçğıiöşü]+\s+[A-ZÇĞIİÖŞÜ][a-zçğıiöşü]+$/.test(s)?.8:.6;default:return .7}}expandWithSynonyms(e){let s=e;return Object.entries(this.turkishSynonyms).forEach(([r,n])=>{n.forEach(i=>{const o=new RegExp(`\\b${i}\\b`,"gi");s=s.replace(o,r)})}),s}removeStopWords(e){return e.split(/\s+/).filter(n=>!this.turkishStopWords.includes(n.toLowerCase())).join(" ")}}const Zl=new Jl,ec={CREATE:{patterns:[/(?:yeni|ekle|oluştur|kaydet|girdi)\s+(.+)/i,/(.+)\s+(?:ekle|oluştur|kaydet|girdi)/i,/(?:create|add|new)\s+(.+)/i],intent:"CREATE",confidence:.9},LIST:{patterns:[/(?:listele|göster|bul|ara|getir)\s+(.+)/i,/(.+)\s+(?:listele|göster|bul|ara|getir)/i,/(?:list|show|find|search|get)\s+(.+)/i,/(?:tümünü|hepsini)\s+(?:göster|listele)/i],intent:"LIST",confidence:.85},UPDATE:{patterns:[/(?:güncelle|değiştir|düzenle)\s+(.+)/i,/(.+)\s+(?:güncelle|değiştir|düzenle)/i,/(?:update|modify|edit|change)\s+(.+)/i],intent:"UPDATE",confidence:.9},DELETE:{patterns:[/(?:sil|kaldır|çıkar)\s+(.+)/i,/(.+)\s+(?:sil|kaldır|çıkar)/i,/(?:delete|remove)\s+(.+)/i],intent:"DELETE",confidence:.95},REPORT:{patterns:[/(?:rapor|analiz|istatistik|özet)\s*(?:al|çıkar|oluştur|göster)?\s*(.*)$/i,/(.+)\s+(?:raporu|analizi|istatistiği|özeti)/i,/(?:report|analysis|stats|summary)\s+(.+)/i],intent:"REPORT",confidence:.8},NAVIGATE:{patterns:[/(?:git|aç|geç)\s+(.+)/i,/(.+)\s+(?:sayfası|modülü|bölümü)(?:\s+aç)?/i,/(?:go to|open|navigate to)\s+(.+)/i],intent:"NAVIGATE",confidence:.7},AUTOMATE:{patterns:[/(?:otomatik|toplu|hep birden)\s+(.+)/i,/(.+)\s+(?:otomatik|toplu|hep birden)(?:\s+yap)?/i,/(?:automate|bulk|batch)\s+(.+)/i],intent:"AUTOMATE",confidence:.8},EXPORT:{patterns:[/(?:dışa aktar|export|indir|çıkar)\s+(.+)/i,/(.+)\s+(?:dışa aktar|export|indir|çıkar)/i],intent:"EXPORT",confidence:.9},NOTIFY:{patterns:[/(?:bildir|gönder|mesaj|sms|email)\s+(.+)/i,/(.+)\s+(?:bildir|gönder|mesaj gönder)/i,/(?:notify|send|message)\s+(.+)/i],intent:"NOTIFY",confidence:.85}},tc={beneficiaries:["hak sahibi","haksahibi","beneficiary","kişi","muhtaç","yardım alan"],donations:["bağış","donation","para","ödeme","tahsilat","gelir"],aid:["yardım","aid","dağıtım","distribution","malzeme","gıda","nakdi"],meetings:["toplantı","meeting","görüşme","randevu","buluşma"],tasks:["görev","task","yapılacak","iş","atama","assignment"],messages:["mesaj","message","iletişim","duyuru","bilgilendirme","haber"],scholarship:["burs","scholarship","eğitim","öğrenci","okul","üniversite"],fund:["fon","fund","bütçe","mali","finansal","muhasebe"],system:["sistem","system","kullanıcı","user","yetki","permission","ayar","setting"]},sc={add:["ekle","oluştur","yeni","kaydet","add","create","new","save"],edit:["düzenle","güncelle","değiştir","edit","update","modify","change"],delete:["sil","kaldır","çıkar","delete","remove"],view:["göster","listele","bul","ara","view","show","list","find","search"],export:["dışa aktar","indir","çıkar","export","download"],send:["gönder","bildir","ilet","send","notify"],approve:["onayla","kabul et","approve","accept"],reject:["reddet","geri çevir","reject","decline"]};class ac{constructor(e={}){B(this,"context");this.context=e}async processCommand(e){const s=this.normalizeInput(e),r=this.detectIntent(s),n=this.detectModule(s),i=this.detectOperation(s),o=this.extractParameters(s,r.intent),l=this.extractTarget(s,n),d=this.extractConditions(s);return{intent:r.intent,confidence:r.confidence,parameters:o,action:this.mapIntentToAction(r.intent,i),module:n,operation:i,target:l,conditions:d,metadata:{originalInput:e,normalizedInput:s,timestamp:new Date().toISOString()}}}normalizeInput(e){return e.toLowerCase().trim().replace(/[^\w\s\-.:]/g," ").replace(/\s+/g," ")}detectIntent(e){for(const[s,r]of Object.entries(ec))for(const n of r.patterns)if(n.test(e))return{intent:r.intent,confidence:r.confidence};return{intent:"UNKNOWN",confidence:0}}detectModule(e){for(const[s,r]of Object.entries(tc))for(const n of r)if(e.includes(n))return s}detectOperation(e){for(const[s,r]of Object.entries(sc))for(const n of r)if(e.includes(n))return s}extractParameters(e,s){const r={},n=e.match(/\d+/g);n&&(r.numbers=n.map(m=>parseInt(m)));const i=[/(\d{1,2})\.(\d{1,2})\.(\d{4})/g,/(\d{4})-(\d{1,2})-(\d{1,2})/g,/(bugün|today)/gi,/(dün|yesterday)/gi,/(yarın|tomorrow)/gi,/(bu hafta|this week)/gi,/(bu ay|this month)/gi];for(const m of i){const u=Array.from(e.matchAll(m));u.length>0&&(r.dates=u.map(g=>g[0]))}const o=e.match(/\b[A-ZÇĞIİÖŞÜ][a-zçğıiöşü]+\s+[A-ZÇĞIİÖŞÜ][a-zçğıiöşü]+/g);o&&(r.names=o);const l=e.match(/id\s*[:=]\s*([a-z0-9-]+)/gi);l&&(r.ids=l.map(m=>m.split(/[:=]/)[1].trim()));const d=e.match(/(\d+(?:\.\d+)?)\s*(tl|lira|euro|dolar|\$|€)/gi);return d&&(r.amounts=d),r}extractTarget(e,s){if(!s)return;const n={beneficiaries:[/hak sahibi\s+([a-z\s]+)/i,/kişi\s+([a-z\s]+)/i,/id\s*[:=]\s*([a-z0-9-]+)/i],donations:[/bağış\s+([a-z\s]+)/i,/ödeme\s+([a-z\s]+)/i]}[s]||[];for(const i of n){const o=e.match(i);if(o)return o[1].trim()}}extractConditions(e){const s={};if((e.includes("aktif")||e.includes("active"))&&(s.status="active"),(e.includes("pasif")||e.includes("inactive"))&&(s.status="inactive"),(e.includes("beklemede")||e.includes("pending"))&&(s.status="pending"),e.includes("son")&&e.includes("gün")){const r=e.match(/son\s+(\d+)\s+gün/i);r&&(s.lastDays=parseInt(r[1]))}if(e.includes("ilk")||e.includes("first")){const r=e.match(/(?:ilk|first)\s+(\d+)/i);r&&(s.limit=parseInt(r[1]))}return s}mapIntentToAction(e,s){return s||{CREATE:"create",LIST:"list",UPDATE:"update",DELETE:"delete",REPORT:"report",NAVIGATE:"navigate",AUTOMATE:"automate",EXPORT:"export",NOTIFY:"notify"}[e]||"unknown"}updateContext(e){this.context={...this.context,...e}}}function rc(a){return new ac(a)}function nc(a){const e=[];if(a.length<3)return["Hak sahibi listele","Yeni bağış ekle","Toplantı oluştur","Rapor al","Mesaj gönder"];const s=a.toLowerCase();return(s.includes("hak")||s.includes("kişi"))&&e.push("Hak sahibi listele","Yeni hak sahibi ekle","Hak sahibi ara: ad soyad","Hak sahibi belgesi yükle"),(s.includes("bağış")||s.includes("para"))&&e.push("Bağış listele","Yeni bağış ekle","Bağış raporu al","Bağış dışa aktar"),(s.includes("rapor")||s.includes("analiz"))&&e.push("Aylık rapor al","Bağış analizi yap","Dağıtım raporu oluştur","İstatistik göster"),e.slice(0,5)}class ic{constructor(){B(this,"executions",new Map);B(this,"automationRules",[]);B(this,"isRunning",!1);this.initializeAutomationRules(),this.startEngine()}initializeAutomationRules(){this.automationRules=[{id:"welcome-new-beneficiary",name:"Yeni Hak Sahibi Karşılama",description:"Yeni hak sahibi eklendiğinde otomatik karşılama mesajı gönder",trigger:{type:"event",event:"beneficiary.created"},workflow:[{id:"send-welcome-sms",name:"Karşılama SMS Gönder",action:"sendMessage",module:"messages",parameters:{type:"sms",template:"welcome_beneficiary"}}],active:!0,runCount:0},{id:"daily-report",name:"Günlük Rapor",description:"Her gün saat 18:00'da günlük özet raporu oluştur",trigger:{type:"schedule",schedule:"0 18 * * *"},workflow:[{id:"generate-daily-stats",name:"Günlük İstatistikler",action:"getStatistics",module:"system"},{id:"send-daily-report",name:"Rapor Gönder",action:"sendReport",module:"messages",dependencies:["generate-daily-stats"]}],active:!0,runCount:0},{id:"overdue-tasks-reminder",name:"Geciken Görev Hatırlatması",description:"Süresi geçen görevler için hatırlatma gönder",trigger:{type:"schedule",schedule:"0 9 * * *"},workflow:[{id:"find-overdue-tasks",name:"Geciken Görevleri Bul",action:"list",module:"tasks",conditions:{status:"pending",overdue:!0}},{id:"notify-assignees",name:"Sorumluları Bilgilendir",action:"notifyAssignees",module:"tasks",dependencies:["find-overdue-tasks"]}],active:!0,runCount:0}]}async executeCommand(e,s,r){try{M.loading("Komut işleniyor...",{id:"command-processing"});const n=await Zl.processText(e),o=await rc({userId:r}).processCommand(e);if(o.confidence<.6)return M.dismiss("command-processing"),{success:!1,message:"Komut anlaşılamadı. Lütfen daha açık bir şekilde belirtin.",suggestions:n.suggestions||['Örnek: "Hak sahibi listele"','Örnek: "Yeni bağış ekle: 1000 TL"','Örnek: "Ahmet Yılmaz için belge yükle"']};if(this.isSimpleCommand(o)){const l=await this.executeSimpleCommand(o,s);return M.dismiss("command-processing"),l.success?M.success(l.message):M.error(l.message),l}else{const l=await this.createWorkflow(o,n),d=await this.executeWorkflow(l,s,r);return M.dismiss("command-processing"),M.loading(`Workflow başlatıldı: ${l.name}`,{id:`workflow-${d.id}`}),{success:!0,message:`Workflow başlatıldı: ${l.name}`,data:{executionId:d.id},nextSteps:[`Workflow durumunu takip edebilirsiniz: ${d.id}`]}}}catch(n){return M.dismiss("command-processing"),M.error(`Hata: ${n.message}`),{success:!1,message:`Komut yürütülürken hata oluştu: ${n.message}`,suggestions:["Lütfen komutu kontrol edip tekrar deneyin"]}}}isSimpleCommand(e){var r;return["list","show","navigate","search"].includes(e.action)&&!e.parameters.bulk&&!((r=e.conditions)!=null&&r.complex)}async executeSimpleCommand(e,s){if(e.action==="navigate"||e.intent==="NAVIGATE"){const r=this.getNavigationPath(e);return s.navigateTo(r),{success:!0,message:`${r} sayfasına yönlendirildi`}}if(e.module)return await ts.executeCommand(e);if(e.action.includes("theme")){const r=e.parameters.theme||"system";return s.setTheme(r),{success:!0,message:`Tema ${r} olarak değiştirildi`}}return{success:!1,message:"Komut işlenemiyor"}}async createWorkflow(e,s){const r=`workflow-${Date.now()}`,n=[];e.intent==="CREATE"&&e.module==="beneficiaries"&&n.push({id:"validate-data",name:"Veri Doğrulama",action:"validate",module:"beneficiaries",parameters:e.parameters},{id:"create-beneficiary",name:"Hak Sahibi Oluştur",action:"create",module:"beneficiaries",parameters:e.parameters,dependencies:["validate-data"]},{id:"send-welcome-message",name:"Karşılama Mesajı",action:"sendMessage",module:"messages",parameters:{type:"sms",template:"welcome"},dependencies:["create-beneficiary"]}),(e.parameters.bulk||e.intent==="AUTOMATE")&&n.push({id:"prepare-bulk-operation",name:"Toplu İşlem Hazırlığı",action:"prepareBulk",module:e.module,parameters:e.parameters},{id:"execute-bulk-operation",name:"Toplu İşlem Yürütme",action:"executeBulk",module:e.module,dependencies:["prepare-bulk-operation"]},{id:"generate-bulk-report",name:"İşlem Raporu",action:"generateReport",module:e.module,dependencies:["execute-bulk-operation"]}),e.intent==="REPORT"&&n.push({id:"collect-data",name:"Veri Toplama",action:"collectReportData",module:e.module,parameters:e.parameters},{id:"process-data",name:"Veri İşleme",action:"processReportData",module:e.module,dependencies:["collect-data"]},{id:"generate-report",name:"Rapor Oluşturma",action:"generateReport",module:e.module,dependencies:["process-data"]},{id:"export-report",name:"Rapor Dışa Aktarma",action:"exportReport",module:e.module,dependencies:["generate-report"]});const i={id:r,name:this.generateWorkflowName(e),status:"pending",steps:n,results:{},errors:[],startTime:new Date,context:{command:e,nlpResult:s}};return this.executions.set(r,i),i}async executeWorkflow(e,s,r){e.status="running";try{for(const n of e.steps){if(n.dependencies&&n.dependencies.map(l=>e.results[l]).some(l=>!l||l.error))throw new Error(`Dependency failed for step: ${n.name}`);e.currentStep=n.id;const i=await this.executeWorkflowStep(n,e.results,s);if(e.results[n.id]=i,i.error){if(e.errors.push(`Step ${n.name}: ${i.error}`),n.onError)for(const o of n.onError)await this.executeWorkflowStep(o,e.results,s);break}if(n.onSuccess)for(const o of n.onSuccess)await this.executeWorkflowStep(o,e.results,s);M.loading(`${n.name} tamamlandı (${e.steps.indexOf(n)+1}/${e.steps.length})`,{id:`workflow-${e.id}`})}e.status=e.errors.length>0?"failed":"completed",e.endTime=new Date,e.status==="completed"?M.success(`Workflow tamamlandı: ${e.name}`,{id:`workflow-${e.id}`}):M.error(`Workflow hatalarla tamamlandı: ${e.name}`,{id:`workflow-${e.id}`})}catch(n){e.status="failed",e.errors.push(n.message),e.endTime=new Date,M.error(`Workflow başarısız: ${n.message}`,{id:`workflow-${e.id}`})}return e}async executeWorkflowStep(e,s,r){try{const n=e.timeout||3e4;return await Promise.race([this.executeStepAction(e,s,r),new Promise((i,o)=>setTimeout(()=>o(new Error("Step timeout")),n))])}catch(n){const i=e.retryCount||0;if(i>0)for(let o=0;o<i;o++)try{return await new Promise(l=>setTimeout(l,1e3*(o+1))),await this.executeStepAction(e,s,r)}catch(l){if(o===i-1)throw l}return{error:n.message}}}async executeStepAction(e,s,r){const n={intent:e.action.toUpperCase(),confidence:1,parameters:e.parameters||{},action:e.action,module:e.module,conditions:e.conditions,metadata:{workflowStep:e.id,previousResults:s}};if(e.module)return await ts.executeCommand(n);switch(e.action){case"navigate":return r.navigateTo(e.parameters.path),{success:!0};case"setTheme":return r.setTheme(e.parameters.theme),{success:!0};case"delay":return await new Promise(i=>setTimeout(i,e.parameters.ms||1e3)),{success:!0};default:throw new Error(`Unknown action: ${e.action}`)}}generateWorkflowName(e){const s={beneficiaries:"Hak Sahibi",donations:"Bağış",meetings:"Toplantı",tasks:"Görev",messages:"Mesaj"},r={CREATE:"Oluşturma",UPDATE:"Güncelleme",DELETE:"Silme",REPORT:"Rapor",AUTOMATE:"Otomatik İşlem",EXPORT:"Dışa Aktarma"},n=s[e.module||""]||e.module;return`${r[e.intent]||e.intent} - ${n||"Sistem"}`}getNavigationPath(e){var n;const s={dashboard:"/",anasayfa:"/",donations:"/donations",bağış:"/donations",beneficiaries:"/aid/beneficiaries","hak sahibi":"/aid/beneficiaries",meetings:"/meetings",toplantı:"/meetings",tasks:"/tasks",görev:"/tasks",messages:"/messages",mesaj:"/messages"},r=((n=e.target)==null?void 0:n.toLowerCase())||"";return s[r]||s[e.module||""]||"/"}startEngine(){this.isRunning||(this.isRunning=!0,setInterval(()=>{this.checkAutomationRules()},6e4))}async checkAutomationRules(){const e=new Date;for(const s of this.automationRules)s.active&&s.trigger.type==="schedule"&&this.shouldRunScheduledRule(s,e)&&await this.executeAutomationRule(s)}shouldRunScheduledRule(e,s){var r;if(!e.lastRun)return!0;if((r=e.trigger.schedule)!=null&&r.includes("* * *")){const n=new Date(e.lastRun).toDateString(),i=s.toDateString();return n!==i}return!1}async executeAutomationRule(e){try{const s={id:`auto-${e.id}-${Date.now()}`,name:`Auto: ${e.name}`,status:"pending",steps:e.workflow,results:{},errors:[],startTime:new Date,context:{automationRule:e}};await this.executeWorkflow(s,{}),e.lastRun=new Date,e.runCount++}catch(s){console.error(`Automation rule failed: ${e.name}`,s)}}getExecution(e){return this.executions.get(e)}getActiveExecutions(){return Array.from(this.executions.values()).filter(e=>e.status==="running"||e.status==="pending")}getAutomationRules(){return this.automationRules}addAutomationRule(e){this.automationRules.push(e)}updateAutomationRule(e,s){const r=this.automationRules.findIndex(n=>n.id===e);r!==-1&&(this.automationRules[r]={...this.automationRules[r],...s})}deleteAutomationRule(e){this.automationRules=this.automationRules.filter(s=>s.id!==e)}}const oc=new ic;function lc({isOpen:a,onClose:e,context:s,userId:r}){const[n,i]=c.useState([{id:"1",type:"ai",content:"Merhaba! 👋 Size nasıl yardımcı olabilirim? Tüm modülleri kontrol edebilir, raporlar oluşturabilir ve otomatik işlemler yapabilirim.",timestamp:new Date,suggestions:["Hak sahibi listele","Yeni bağış ekle: 1000 TL","Bu ay bağış raporu al","Toplantı oluştur: Yönetim toplantısı","Görevlerimi göster"]}]),[o,l]=c.useState(""),[d,m]=c.useState(!1),[u,g]=c.useState(!1),[f,b]=c.useState([]),[k,p]=c.useState([]),[h,E]=c.useState(-1),v=c.useRef(null),x=c.useRef(null),S=c.useRef(null);c.useEffect(()=>{a&&x.current&&x.current.focus()},[a]),c.useEffect(()=>{var O;(O=v.current)==null||O.scrollIntoView({behavior:"smooth"})},[n]),c.useEffect(()=>{if(o.trim()){const O=nc(o);c.startTransition(()=>{b(O)})}else c.startTransition(()=>{b([])})},[o]),c.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const O=window.webkitSpeechRecognition||window.SpeechRecognition;S.current=new O,S.current.continuous=!1,S.current.interimResults=!1,S.current.lang="tr-TR",S.current.onresult=C=>{const I=C.results[0][0].transcript;c.startTransition(()=>{l(I),g(!1)})},S.current.onerror=()=>{c.startTransition(()=>{g(!1)}),M.error("Ses tanıma hatası")},S.current.onend=()=>{c.startTransition(()=>{g(!1)})}}},[]);const j=O=>{const C={...O,id:Date.now().toString(),timestamp:new Date};c.startTransition(()=>{i(I=>[...I,C])})},D=async O=>{if(O.preventDefault(),!o.trim()||d)return;const C=o.trim();j({type:"user",content:C}),c.startTransition(()=>{p(I=>[C,...I.slice(0,19)]),E(-1),l(""),m(!0)});try{j({type:"system",content:"🤖 Komutunuz işleniyor..."});const I=await oc.executeCommand(C,s,r);c.startTransition(()=>{i(q=>q.slice(0,-1))}),I.success?(j({type:"ai",content:`✅ ${I.message}`,data:I.data,suggestions:I.nextSteps}),I.data&&(Array.isArray(I.data)?j({type:"system",content:`📊 ${I.data.length} kayıt bulundu`,data:I.data.slice(0,5)}):typeof I.data=="object"&&j({type:"system",content:"📋 İşlem detayları:",data:I.data}))):j({type:"ai",content:`❌ ${I.message}`,suggestions:I.suggestions})}catch(I){c.startTransition(()=>{i(q=>q.slice(0,-1))}),j({type:"ai",content:`🚨 Beklenmeyen hata: ${I.message}`,suggestions:["Lütfen komutu kontrol edip tekrar deneyin"]})}finally{c.startTransition(()=>{m(!1)})}},A=O=>{var C;c.startTransition(()=>{l(O)}),(C=x.current)==null||C.focus()},P=O=>{if(O.key==="ArrowUp"){if(O.preventDefault(),h<k.length-1){const C=h+1;E(C),l(k[C])}}else if(O.key==="ArrowDown")if(O.preventDefault(),h>0){const C=h-1;E(C),l(k[C])}else h===0&&(E(-1),l(""))},L=()=>{if(!S.current){M.error("Ses tanıma desteklenmiyor");return}u?(S.current.stop(),g(!1)):(S.current.start(),g(!0),M.success("Dinliyorum... Konuşabilirsiniz"))},H=O=>{const C=O.type==="user",I=O.type==="system";return t.jsx("div",{className:`flex ${C?"justify-end":"justify-start"} mb-4`,children:t.jsxs("div",{className:`flex max-w-[80%] ${C?"flex-row-reverse":"flex-row"} items-start gap-2`,children:[t.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${C?"bg-blue-500":I?"bg-gray-500":"bg-green-500"}`,children:C?t.jsx(is,{className:"w-4 h-4 text-white"}):I?t.jsx(ds,{className:"w-4 h-4 text-white"}):t.jsx(qe,{className:"w-4 h-4 text-white"})}),t.jsxs("div",{className:`rounded-lg p-3 ${C?"bg-blue-500 text-white":"bg-gray-100 text-gray-700"}`,children:[t.jsx("div",{className:"whitespace-pre-wrap",children:O.content}),O.data&&t.jsx("div",{className:"mt-2 p-2 bg-white bg-opacity-20 rounded text-xs",children:Array.isArray(O.data)?t.jsx("div",{children:O.data.map((q,Y)=>t.jsx("div",{className:"mb-1",children:typeof q=="object"?JSON.stringify(q,null,2):q},Y))}):t.jsx("pre",{children:JSON.stringify(O.data,null,2)})}),O.suggestions&&O.suggestions.length>0&&t.jsxs("div",{className:"mt-2 space-y-1",children:[t.jsx("div",{className:"text-xs opacity-75",children:"Öneriler:"}),O.suggestions.map((q,Y)=>t.jsx("button",{onClick:()=>A(q),className:"block w-full text-left p-1 text-xs bg-white bg-opacity-20 rounded hover:bg-opacity-30 transition-colors",children:q},Y))]}),t.jsx("div",{className:"text-xs opacity-50 mt-1",children:O.timestamp.toLocaleTimeString("tr-TR")})]})]})},O.id)};return a?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl h-full max-h-[90vh] flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(qe,{className:"w-6 h-6 text-blue-500"}),t.jsx("h2",{className:"text-lg font-semibold",children:"AI Komut Merkezi"}),t.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:"Aktif"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>{},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Ayarlar",children:t.jsx(he,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>{},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Komut Geçmişi",children:t.jsx(Na,{className:"w-4 h-4"})}),t.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:"✕"})]})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[n.map(H),d&&t.jsx("div",{className:"flex justify-start mb-4",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500 flex items-center justify-center",children:t.jsx(Re,{className:"w-4 h-4 text-white animate-spin"})}),t.jsx("div",{className:"bg-gray-100 rounded-lg p-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Re,{className:"w-4 h-4 animate-spin"}),t.jsx("span",{children:"İşleniyor..."})]})})]})}),t.jsx("div",{ref:v})]}),t.jsxs("div",{className:"border-t p-4",children:[f.length>0&&t.jsxs("div",{className:"mb-3",children:[t.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Öneriler:"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:f.map((O,C)=>t.jsx("button",{onClick:()=>A(O),className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-full text-sm transition-colors",children:O},C))})]}),t.jsxs("form",{onSubmit:D,className:"flex gap-2",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx("input",{ref:x,type:"text",value:o,onChange:O=>l(O.target.value),onKeyDown:P,placeholder:"Komutunuzu yazın... (örn: 'Hak sahibi listele', 'Yeni bağış ekle: 1000 TL')",disabled:d,className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50"}),S.current&&t.jsx("button",{type:"button",onClick:L,className:`absolute right-3 top-1/2 transform -translate-y-1/2 p-1 rounded ${u?"text-red-500":"text-gray-400 hover:text-gray-600"}`,title:u?"Dinlemeyi durdur":"Sesli komut",children:u?t.jsx(ka,{className:"w-4 h-4"}):t.jsx(_a,{className:"w-4 h-4"})})]}),t.jsx("button",{type:"submit",disabled:!o.trim()||d,className:"px-4 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:d?t.jsx(Re,{className:"w-4 h-4 animate-spin"}):t.jsx(Fe,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[t.jsx("button",{onClick:()=>A("Sistem durumu göster"),className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm hover:bg-blue-200 transition-colors",children:"📊 Sistem Durumu"}),t.jsx("button",{onClick:()=>A("Bu ay raporu al"),className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm hover:bg-green-200 transition-colors",children:"📈 Aylık Rapor"}),t.jsx("button",{onClick:()=>A("Bekleyen görevler"),className:"px-3 py-1 bg-orange-100 text-orange-700 rounded-full text-sm hover:bg-orange-200 transition-colors",children:"⏰ Bekleyen Görevler"}),t.jsx("button",{onClick:()=>A("Yardım"),className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm hover:bg-purple-200 transition-colors",children:"❓ Yardım"})]})]})]})}):null}function cc(){const[a,e]=c.useState(!1),s=Je(),{user:r}=ye(),{setTheme:n}=kt(),i=c.useCallback(()=>{const m=new CustomEvent("toggle-chat");window.dispatchEvent(m)},[]),o={navigateTo:c.useCallback(m=>{s(m),e(!1)},[s]),setTheme:c.useCallback(m=>{n(m)},[n]),toggleChat:c.useCallback(()=>{i()},[i])};c.useEffect(()=>{const m=u=>{(u.metaKey||u.ctrlKey)&&u.key==="k"&&(u.preventDefault(),e(g=>!g)),u.key==="Escape"&&a&&e(!1)};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[a]);const l=c.useCallback(()=>{e(!0)},[]),d=c.useCallback(()=>{e(!1)},[]);return{isOpen:a,openCommandCenter:l,closeCommandCenter:d,actionContext:o,userId:r==null?void 0:r.id}}var dc=function(){return null};const uc=()=>{const{isOnline:a,queueLength:e,showIndicator:s,indicatorText:r,indicatorColor:n}=Il();if(!s)return null;const i=()=>a?e>0?t.jsx(It,{className:"w-4 h-4"}):t.jsx(cs,{className:"w-4 h-4"}):t.jsx(ls,{className:"w-4 h-4"}),o=()=>{switch(n){case"red":return"bg-red-500 text-white border-red-600";case"orange":return"bg-orange-500 text-white border-orange-600";case"green":return"bg-green-500 text-white border-green-600";default:return"bg-gray-500 text-white border-gray-600"}};return t.jsx("div",{className:"fixed bottom-4 left-4 z-50",children:t.jsxs("div",{className:fe("flex items-center gap-2 px-3 py-2 rounded-lg border shadow-lg transition-all duration-300",o(),"animate-in slide-in-from-bottom-2"),children:[i(),t.jsx("span",{className:"text-sm font-medium",children:r}),e>0&&t.jsxs("div",{className:"flex items-center gap-1 ml-2 px-2 py-1 bg-white/20 rounded text-xs",children:[t.jsx(It,{className:"w-3 h-3"}),t.jsx("span",{children:e})]})]})})};function mc(){const[a,e]=c.useState(!1),[s,r]=c.useState(!1),{user:n}=ye(),{isOpen:i,openCommandCenter:o,closeCommandCenter:l,actionContext:d,userId:m}=cc();c.useEffect(()=>{const g=()=>{c.startTransition(()=>{r(!0)})};return window.addEventListener("open-command-palette",g),()=>window.removeEventListener("open-command-palette",g)},[]);const u=()=>{c.startTransition(()=>{e(!a)})};return t.jsxs(Yi,{onOpenAICenter:o,children:[t.jsx(As,{level:"page",children:t.jsx(Cl,{})}),t.jsx(Ea,{position:"top-right",expand:!0,richColors:!0,closeButton:!0}),t.jsx(Pl,{}),t.jsx(uc,{}),n&&t.jsx(Ul,{currentUserId:n.id,isOpen:a,onToggle:u}),t.jsx(Ql,{isOpen:s,onClose:()=>r(!1),toggleChat:u,onOpenAICenter:o}),t.jsx(lc,{isOpen:i,onClose:l,context:d,userId:m})]})}function hc(){const{initializing:a,initialize:e}=ye();return c.useEffect(()=>{e()},[e]),c.useEffect(()=>{Zt.loadFromStorage();const s=()=>{Zt.saveToStorage()};return window.addEventListener("beforeunload",s),()=>{window.removeEventListener("beforeunload",s)}},[]),a?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:t.jsxs("div",{className:"text-center space-y-4",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),t.jsx("p",{className:"text-muted-foreground",children:"Uygulama yükleniyor..."})]})}):t.jsx(As,{level:"global",showDetails:!1,children:t.jsx(zi,{children:t.jsxs(Us,{client:F,children:[t.jsx(Ll,{children:t.jsx(Ol,{children:t.jsx(mc,{})})}),t.jsx(dc,{initialIsOpen:!1})]})})})}const Rs=document.getElementById("root");if(!Rs)throw new Error("Root element not found");const fc=us(Rs);fc.render(t.jsx(je.StrictMode,{children:t.jsx(Fs,{children:t.jsx(hc,{})})}));export{X as B,jt as C,ne as L,be as S,Ke as _,fe as a,zr as b,rr as c,Lr as d,Ur as e,jc as f,Nc as g,kc as h,wc as i,_c as j,Ec as k,Sc as l,Wt as m,ti as n,Nt as o,_ as s,Ir as t,ye as u};
