import{j as e}from"./query-D2a9LsAW.js";import{r as s}from"./vendor-Ba6jih-_.js";import{s as j}from"./index-DdeQrtE8.js";import{e as fe}from"./exportToCsv-CTUkvpR5.js";import{d as ve,f as ke}from"./pdfExport-BP3xwtRw.js";import{D as je}from"./DataTable-Dzg2kqPW.js";import{M as U}from"./Modal-BazkrsRl.js";import{u as _e,t as Ne,o as we,e as q,s as V,n as Ae}from"./types-Vcb-PP2J.js";import{V as h}from"./index-v3sBR1NV.js";import{A as Se}from"./AdvancedSearchModal-sf7G-Bu4.js";import{ab as De,S as Te,F as Fe,X as D,aa as Ce,aq as Ye,a as Be,aI as T,ak as H,aw as Oe,ao as Ee}from"./ui-yrixFDMZ.js";import"./router-PzPojOO1.js";import"./supabase-B5p9Wfie.js";import"./sanitization-B2vlJvdx.js";const Me=()=>({fields:[{key:"search",type:"text",label:"Genel Arama",placeholder:"Başvuran adı, açıklama..."},{key:"beneficiary_name",type:"text",label:"Başvuran Adı",placeholder:"Ad veya soyad..."},{key:"status",type:"multiSelect",label:"Durum",options:[{value:"pending",label:"Bekleyen"},{value:"approved",label:"Onaylanan"},{value:"rejected",label:"Reddedilen"},{value:"completed",label:"Tamamlanan"}]},{key:"priority",type:"multiSelect",label:"Öncelik",options:[{value:"low",label:"Düşük"},{value:"normal",label:"Normal"},{value:"high",label:"Yüksek"},{value:"urgent",label:"Acil"}]},{key:"aid_type",type:"multiSelect",label:"Yardım Türü",options:[{value:"cash",label:"Nakdi Yardım"},{value:"in_kind",label:"Ayni Yardım"},{value:"service",label:"Hizmet Yardımı"},{value:"medical",label:"Sağlık Yardımı"}]},{key:"amount_range",type:"numberRange",label:"Tutar Aralığı (TL)",placeholder:"Min - Max tutar"},{key:"beneficiary_category",type:"multiSelect",label:"Yararlanıcı Kategorisi",options:[{value:"Yetim Ailesi",label:"Yetim Ailesi"},{value:"Dul Kadın",label:"Dul Kadın"},{value:"Yaşlı",label:"Yaşlı"},{value:"Engelli",label:"Engelli"},{value:"Hasta",label:"Hasta"},{value:"Öğrenci",label:"Öğrenci"},{value:"Mülteci",label:"Mülteci"},{value:"Diğer",label:"Diğer"}]},{key:"created_date_range",type:"dateRange",label:"Başvuru Tarihi",placeholder:"Tarih aralığı seçin"},{key:"evaluated_date_range",type:"dateRange",label:"Değerlendirme Tarihi",placeholder:"Tarih aralığı seçin"},{key:"evaluated_by",type:"text",label:"Değerlendiren",placeholder:"Değerlendiren kişi..."},{key:"has_evaluation_notes",type:"select",label:"Değerlendirme Notu",options:[{value:"yes",label:"Var"},{value:"no",label:"Yok"}]}],groups:[{id:"general",key:"general",label:"Genel Arama",fields:["search"],operator:"AND"},{id:"beneficiary",key:"beneficiary",label:"Yararlanıcı Bilgileri",fields:["beneficiary_name","beneficiary_category"],operator:"AND"},{id:"status",key:"status",label:"Durum Bilgileri",fields:["status","priority"],operator:"AND"},{id:"details",key:"details",label:"Başvuru Detayları",fields:["aid_type","amount_range"],operator:"AND"},{id:"dates",key:"dates",label:"Tarih Aralıkları",fields:["created_date_range","evaluated_date_range"],operator:"AND"},{id:"evaluation",key:"evaluation",label:"Değerlendirme",fields:["evaluated_by","has_evaluation_notes"],operator:"AND"}],dependencies:[{field:"amount_range",dependsOn:"aid_type",condition:{operator:"contains",value:"cash"},action:"show"},{field:"evaluated_date_range",dependsOn:"status",condition:{operator:"in",value:["approved","rejected"]},action:"show"},{field:"evaluated_by",dependsOn:"status",condition:{operator:"in",value:["approved","rejected"]},action:"show"},{field:"has_evaluation_notes",dependsOn:"status",condition:{operator:"in",value:["approved","rejected"]},action:"show"}],validationRules:[{field:"amount_range",rules:{custom:l=>l&&l.min&&l.max&&l.min>l.max?"Minimum tutar maksimum tutardan büyük olamaz":null}},{field:"created_date_range",rules:{custom:l=>l&&l.start&&l.end&&new Date(l.start)>new Date(l.end)?"Başlangıç tarihi bitiş tarihinden sonra olamaz":null}},{field:"evaluated_date_range",rules:{custom:l=>l&&l.start&&l.end&&new Date(l.start)>new Date(l.end)?"Başlangıç tarihi bitiş tarihinden sonra olamaz":null}}]}),ze={baseUrl:"/applications",paramPrefix:"filter_",excludeFromUrl:["quickFilter"],arrayDelimiter:","};function Re(){const i=new Date().toISOString();return[{id:"pending_applications",name:"Bekleyen Başvurular",description:"İnceleme bekleyen başvurular",filters:{status:["pending"]},pageType:"applications",createdAt:i,updatedAt:i,usageCount:0,lastUsed:i,isQuickFilter:!0},{id:"urgent_applications",name:"Acil Başvurular",description:"Acil öncelikli başvurular",filters:{priority:["urgent"]},pageType:"applications",createdAt:i,updatedAt:i,usageCount:0,lastUsed:i,isQuickFilter:!0},{id:"cash_aid_applications",name:"Nakit Yardım Başvuruları",description:"Nakit yardım kategorisindeki başvurular",filters:{category:["cash_aid"]},pageType:"applications",createdAt:i,updatedAt:i,usageCount:0,lastUsed:i,isQuickFilter:!0},{id:"approved_applications",name:"Onaylanan Başvurular",description:"Onaylanmış başvurular",filters:{status:["approved"]},pageType:"applications",createdAt:i,updatedAt:i,usageCount:0,lastUsed:i,isQuickFilter:!0},{id:"high_priority_pending",name:"Yüksek Öncelik Bekleyen",description:"Yüksek öncelikli bekleyen başvurular",filters:{status:["pending"],priority:["high"]},pageType:"applications",createdAt:i,updatedAt:i,usageCount:0,lastUsed:i,isQuickFilter:!0},{id:"medical_aid_applications",name:"Sağlık Yardımı Başvuruları",description:"Sağlık yardımı kategorisindeki başvurular",filters:{category:["medical_aid"]},pageType:"applications",createdAt:i,updatedAt:i,usageCount:0,lastUsed:i,isQuickFilter:!0}]}const Ie=we({beneficiary_id:V().min(1,"İhtiyaç sahibi seçiniz"),aid_type:q(["cash","in_kind","service","medical"],{message:"Yardım türü seçiniz"}),amount:Ae().optional(),description:V().min(10,"Açıklama en az 10 karakter olmalıdır"),priority:q(["low","normal","high","urgent"])});function ea(){var $,L;const[i,F]=s.useState([]),[C,Y]=s.useState([]),[l,B]=s.useState(!0),[d,K]=s.useState(""),[u,G]=s.useState("all"),[m,X]=s.useState("all"),[p,J]=s.useState("all"),[W,y]=s.useState(!1),[_,A]=s.useState(null),[Z,g]=s.useState(!1),[c,O]=s.useState(null),[ee,N]=s.useState(!1),[x,S]=s.useState({}),[ae,te]=s.useState([]),re=s.useMemo(()=>Me(),[]),ie=s.useMemo(()=>ze,[]),se=s.useMemo(()=>({storageKey:"applications_saved_filters",maxSavedFilters:10}),[]),le=s.useMemo(()=>Re(),[]),{register:f,handleSubmit:ne,formState:{errors:b},reset:E,setValue:v,watch:oe}=_e({resolver:Ne(Ie)}),de=oe("aid_type");s.useEffect(()=>{w(),ce()},[]),s.useEffect(()=>{w()},[d,x]);const w=async()=>{try{B(!0);let a=j.from("applications").select(`
          *,
          beneficiaries (
            id,
            name,
            surname,
            category
          )
        `);d&&(a=a.or(`description.ilike.%${d}%,beneficiaries.name.ilike.%${d}%,beneficiaries.surname.ilike.%${d}%`)),Object.entries(x).forEach(([o,r])=>{if(!(!r||Array.isArray(r)&&r.length===0))switch(o){case"beneficiary_name":typeof r=="string"&&r.trim()&&(a=a.or(`beneficiaries.name.ilike.%${r}%,beneficiaries.surname.ilike.%${r}%`));break;case"status":Array.isArray(r)&&r.length>0&&(a=a.in("status",r));break;case"priority":Array.isArray(r)&&r.length>0&&(a=a.in("priority",r));break;case"aid_type":Array.isArray(r)&&r.length>0&&(a=a.in("aid_type",r));break;case"amount_range":r.min!==void 0&&r.min!==""&&(a=a.gte("amount",r.min)),r.max!==void 0&&r.max!==""&&(a=a.lte("amount",r.max));break;case"beneficiary_category":Array.isArray(r)&&r.length>0&&(a=a.in("beneficiaries.category",r));break;case"created_date_range":r.start&&(a=a.gte("created_at",r.start)),r.end&&(a=a.lte("created_at",r.end));break;case"evaluated_date_range":r.start&&(a=a.gte("evaluated_at",r.start)),r.end&&(a=a.lte("evaluated_at",r.end));break;case"evaluated_by":typeof r=="string"&&r.trim()&&(a=a.ilike("evaluated_by",`%${r}%`));break;case"has_evaluation_notes":r==="yes"?a=a.not("evaluation_notes","is",null):r==="no"&&(a=a.is("evaluation_notes",null));break}}),a=a.order("created_at",{ascending:!1});const{data:t,error:n}=await a;if(n)throw n;F(t||[])}catch(a){console.error("Error loading applications:",a),h.error("Başvurular yüklenirken hata oluştu")}finally{B(!1)}},ce=async()=>{try{const{data:a,error:t}=await j.from("beneficiaries").select("id, name, surname, category").eq("status","active").order("name");if(t)throw t;Y(a||[])}catch(a){console.error("İhtiyaç sahipleri yüklenirken hata:",{message:a instanceof Error?a.message:String(a),stack:a instanceof Error?a.stack:void 0})}},k=s.useMemo(()=>i.filter(a=>{var P,Q;const t=d===""||a.description.toLowerCase().includes(d.toLowerCase())||`${(P=a.beneficiaries)==null?void 0:P.name} ${(Q=a.beneficiaries)==null?void 0:Q.surname}`.toLowerCase().includes(d.toLowerCase()),n=u==="all"||a.status===u,o=m==="all"||a.priority===m,r=p==="all"||a.aid_type===p;return t&&n&&o&&r}),[i,d,u,m,p]),ue=async a=>{try{if(_){const{error:t}=await j.from("applications").update({...a,updated_at:new Date().toISOString()}).eq("id",_.id);if(t)throw t;h.success("Başvuru güncellendi")}else{const{error:t}=await j.from("applications").insert([a]);if(t)throw t;h.success("Başvuru oluşturuldu")}y(!1),A(null),E(),w()}catch(t){console.error("Başvuru kaydedilirken hata:",{message:t instanceof Error?t.message:String(t)}),h.error("Başvuru kaydedilirken hata oluştu")}},M=async(a,t,n)=>{try{const{error:o}=await j.from("applications").update({status:t,evaluation_notes:n,evaluated_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",a);if(o)throw o;h.success(`Başvuru ${t==="approved"?"onaylandı":"reddedildi"}`),g(!1),O(null),w()}catch(o){console.error("Başvuru değerlendirilirken hata:",{message:o instanceof Error?o.message:String(o)}),h.error("Başvuru değerlendirilirken hata oluştu")}},me=a=>{S(a),N(!1)},pe=()=>{S({})},he=a=>{const t={...a,id:Date.now().toString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};te(n=>[...n,t]),h.success("Filtre kaydedildi")},xe=a=>{S(a.filters),N(!1),h.success("Filtre yüklendi")},ye=a=>{const n={pending:{label:"Bekliyor",class:"bg-yellow-100 text-yellow-800",icon:H},approved:{label:"Onaylandı",class:"bg-green-100 text-green-800",icon:T},rejected:{label:"Reddedildi",class:"bg-red-100 text-red-800",icon:D},completed:{label:"Tamamlandı",class:"bg-blue-100 text-blue-800",icon:T}}[a]||{label:a,class:"bg-gray-100 text-gray-800",icon:H},o=n.icon;return e.jsxs("span",{className:`inline-flex items-center gap-1 rounded-full px-2 py-1 text-xs font-medium ${n.class}`,children:[e.jsx(o,{className:"h-3 w-3"}),n.label]})},z=a=>{const n={low:{label:"Düşük",class:"bg-gray-100 text-gray-800"},normal:{label:"Normal",class:"bg-blue-100 text-blue-800"},high:{label:"Yüksek",class:"bg-orange-100 text-orange-800"},urgent:{label:"Acil",class:"bg-red-100 text-red-800"}}[a]||{label:a,class:"bg-gray-100 text-gray-800"};return e.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${n.class}`,children:n.label})},R=a=>({cash:"Nakdi Yardım",in_kind:"Ayni Yardım",service:"Hizmet Yardımı",medical:"Sağlık Yardımı"})[a]||a,I=a=>a?new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(a):"-",be=a=>new Date(a).toLocaleDateString("tr-TR"),ge=[{key:"beneficiaries",header:"İhtiyaç Sahibi",render:(a,t)=>{var n,o,r;return e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[(n=t.beneficiaries)==null?void 0:n.name," ",(o=t.beneficiaries)==null?void 0:o.surname]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:(r=t.beneficiaries)==null?void 0:r.category})]})}},{key:"aid_type",header:"Yardım Türü",render:(a,t)=>R(t.aid_type)},{key:"amount",header:"Tutar",render:(a,t)=>I(t.amount)},{key:"description",header:"A��ıklama",render:(a,t)=>e.jsx("div",{className:"max-w-xs truncate",title:t.description,children:t.description})},{key:"priority",header:"Öncelik",render:(a,t)=>z(t.priority)},{key:"status",header:"Durum",render:(a,t)=>ye(t.status)},{key:"created_at",header:"Tarih",render:(a,t)=>be(t.created_at)},{key:"actions",header:"İşlemler",render:(a,t)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{A(t),v("beneficiary_id",t.beneficiary_id),v("aid_type",t.aid_type),v("amount",t.amount),v("description",t.description),v("priority",t.priority),y(!0)},className:"rounded p-1 text-blue-600 hover:bg-blue-50",title:"Düzenle",children:e.jsx(Oe,{className:"h-4 w-4"})}),t.status==="pending"&&e.jsx("button",{onClick:()=>{O(t),g(!0)},className:"rounded p-1 text-green-600 hover:bg-green-50",title:"Değerlendir",children:e.jsx(Ee,{className:"h-4 w-4"})})]})}];return l?e.jsx("div",{className:"flex h-64 items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-2"}),e.jsx("p",{className:"text-muted-foreground",children:"Yükleniyor..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Yardım Başvuruları"}),e.jsx("p",{className:"text-muted-foreground",children:"Yardım başvurularını yönetin ve değerlendirin"})]}),e.jsxs("button",{onClick:()=>{A(null),E(),y(!0)},className:"flex items-center gap-2 rounded bg-primary px-4 py-2 text-sm text-primary-foreground hover:bg-primary/90",children:[e.jsx(De,{className:"h-4 w-4"}),"Yeni Başvuru"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 rounded-lg border p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Te,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("input",{type:"text",placeholder:"Başvuru ara...",value:d,onChange:a=>K(a.target.value),className:"min-w-64 rounded border px-3 py-2 text-sm"}),e.jsxs("button",{onClick:()=>N(!0),className:`px-4 py-2 rounded-md flex items-center gap-2 transition-colors ${Object.keys(x).length>0?"bg-orange-600 text-white hover:bg-orange-700":"bg-gray-600 text-white hover:bg-gray-700"}`,children:[e.jsx(Fe,{className:"w-4 h-4"}),"Gelişmiş Filtre",Object.keys(x).length>0&&e.jsx("span",{className:"bg-white text-orange-600 px-2 py-0.5 rounded-full text-xs font-medium",children:Object.keys(x).length})]}),Object.keys(x).length>0&&e.jsxs("button",{onClick:pe,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 flex items-center gap-2",children:[e.jsx(D,{className:"w-4 h-4"}),"Filtreleri Temizle"]})]}),e.jsxs("select",{value:u,onChange:a=>G(a.target.value),className:"rounded border px-3 py-2 text-sm",children:[e.jsx("option",{value:"all",children:"Tüm Durumlar"}),e.jsx("option",{value:"pending",children:"Bekleyen"}),e.jsx("option",{value:"approved",children:"Onaylanan"}),e.jsx("option",{value:"rejected",children:"Reddedilen"}),e.jsx("option",{value:"completed",children:"Tamamlanan"})]}),e.jsxs("select",{value:m,onChange:a=>X(a.target.value),className:"rounded border px-3 py-2 text-sm",children:[e.jsx("option",{value:"all",children:"Tüm Öncelikler"}),e.jsx("option",{value:"low",children:"Düşük"}),e.jsx("option",{value:"normal",children:"Normal"}),e.jsx("option",{value:"high",children:"Yüksek"}),e.jsx("option",{value:"urgent",children:"Acil"})]}),e.jsxs("select",{value:p,onChange:a=>J(a.target.value),className:"rounded border px-3 py-2 text-sm",children:[e.jsx("option",{value:"all",children:"Tüm Türler"}),e.jsx("option",{value:"cash",children:"Nakdi Yardım"}),e.jsx("option",{value:"in_kind",children:"Ayni Yardım"}),e.jsx("option",{value:"service",children:"Hizmet Yardımı"}),e.jsx("option",{value:"medical",children:"Sağlık Yardımı"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("button",{onClick:()=>fe("yardim-basvurulari.csv",k),className:"flex items-center gap-1 rounded bg-blue-600 px-3 py-2 text-sm text-white hover:bg-blue-700",title:"CSV olarak indir",children:[e.jsx(Ce,{className:"h-3 w-3"}),"CSV"]}),e.jsxs("button",{onClick:()=>{const a={search:d.trim()||void 0,status:u!=="all"?u:void 0,priority:m!=="all"?m:void 0,aidType:p!=="all"?p:void 0};ve(k,Object.values(a).some(t=>t)?a:void 0)},className:"flex items-center gap-1 rounded bg-green-600 px-3 py-2 text-sm text-white hover:bg-green-700",title:"Excel olarak indir",children:[e.jsx(Ye,{className:"h-3 w-3"}),"Excel"]}),e.jsxs("button",{onClick:()=>{const a={search:d.trim()||void 0,status:u!=="all"?u:void 0,priority:m!=="all"?m:void 0,aidType:p!=="all"?p:void 0};ke(k,Object.values(a).some(t=>t)?a:void 0)},className:"flex items-center gap-1 rounded bg-red-600 px-3 py-2 text-sm text-white hover:bg-red-700",title:"PDF olarak indir",children:[e.jsx(Be,{className:"h-3 w-3"}),"PDF"]})]}),e.jsxs("div",{className:"ml-auto text-sm text-muted-foreground",children:[k.length," başvuru"]})]}),e.jsx(je,{columns:ge,data:k}),e.jsx(Se,{isOpen:ee,onClose:()=>N(!1),onApplyFilters:me,onSaveFilter:he,onLoadFilter:xe,fields:re.fields,pageType:"applications",urlConfig:ie,savedFiltersConfig:se,quickFilters:le,initialFilters:x,savedFilters:ae}),e.jsxs(U,{open:W,onClose:()=>y(!1),children:[e.jsxs("div",{className:"flex items-center justify-between border-b p-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:_?"Başvuru Düzenle":"Yeni Başvuru"}),e.jsx("button",{onClick:()=>y(!1),className:"h-8 w-8 rounded-full bg-red-600 text-white hover:bg-red-700",children:"×"})]}),e.jsxs("form",{onSubmit:ne(ue),className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"İhtiyaç Sahibi *"}),e.jsxs("select",{...f("beneficiary_id"),className:"w-full rounded border px-3 py-2 text-sm",children:[e.jsx("option",{value:"",children:"Seçiniz..."}),C.map(a=>e.jsxs("option",{value:a.id,children:[a.name," ",a.surname," - ",a.category]},a.id))]}),b.beneficiary_id&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:b.beneficiary_id.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Yardım Türü *"}),e.jsxs("select",{...f("aid_type"),className:"w-full rounded border px-3 py-2 text-sm",children:[e.jsx("option",{value:"",children:"Seçiniz..."}),e.jsx("option",{value:"cash",children:"Nakdi Yardım"}),e.jsx("option",{value:"in_kind",children:"Ayni Yardım"}),e.jsx("option",{value:"service",children:"Hizmet Yardımı"}),e.jsx("option",{value:"medical",children:"Sağlık Yardımı"})]}),b.aid_type&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:b.aid_type.message})]}),de==="cash"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tutar (TL)"}),e.jsx("input",{type:"number",step:"0.01",...f("amount",{valueAsNumber:!0}),className:"w-full rounded border px-3 py-2 text-sm",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Açıklama *"}),e.jsx("textarea",{...f("description"),rows:4,className:"w-full rounded border px-3 py-2 text-sm",placeholder:"Başvuru detayların�� açıklayın..."}),b.description&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:b.description.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Öncelik"}),e.jsxs("select",{...f("priority"),className:"w-full rounded border px-3 py-2 text-sm",defaultValue:"normal",children:[e.jsx("option",{value:"low",children:"Düşük"}),e.jsx("option",{value:"normal",children:"Normal"}),e.jsx("option",{value:"high",children:"Yüksek"}),e.jsx("option",{value:"urgent",children:"Acil"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>y(!1),className:"rounded border px-4 py-2 text-sm hover:bg-gray-50",children:"İptal"}),e.jsx("button",{type:"submit",className:"rounded bg-primary px-4 py-2 text-sm text-primary-foreground hover:bg-primary/90",children:_?"Güncelle":"Kaydet"})]})]})]}),e.jsxs(U,{open:Z,onClose:()=>g(!1),children:[e.jsxs("div",{className:"flex items-center justify-between border-b p-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Başvuru Değerlendirme"}),e.jsx("button",{onClick:()=>g(!1),className:"h-8 w-8 rounded-full bg-red-600 text-white hover:bg-red-700",children:"×"})]}),c&&e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"rounded border p-4 bg-gray-50",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Başvuru Detayları"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"İhtiyaç Sahibi:"})," ",($=c.beneficiaries)==null?void 0:$.name," ",(L=c.beneficiaries)==null?void 0:L.surname]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Yardım Türü:"})," ",R(c.aid_type)]}),c.amount&&e.jsxs("div",{children:[e.jsx("strong",{children:"Tutar:"})," ",I(c.amount)]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Açıklama:"})," ",c.description]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Öncelik:"})," ",z(c.priority)]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Değerlendirme Notları"}),e.jsx("textarea",{id:"evaluation-notes",rows:4,className:"w-full rounded border px-3 py-2 text-sm",placeholder:"Değerlendirme notlarınızı yazın..."})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx("button",{onClick:()=>g(!1),className:"rounded border px-4 py-2 text-sm hover:bg-gray-50",children:"İptal"}),e.jsxs("button",{onClick:()=>{var t;const a=((t=document.getElementById("evaluation-notes"))==null?void 0:t.value)||"";M(c.id,"rejected",a)},className:"flex items-center gap-2 rounded bg-red-600 px-4 py-2 text-sm text-white hover:bg-red-700",children:[e.jsx(D,{className:"h-4 w-4"}),"Reddet"]}),e.jsxs("button",{onClick:()=>{var t;const a=((t=document.getElementById("evaluation-notes"))==null?void 0:t.value)||"";M(c.id,"approved",a)},className:"flex items-center gap-2 rounded bg-green-600 px-4 py-2 text-sm text-white hover:bg-green-700",children:[e.jsx(T,{className:"h-4 w-4"}),"Onayla"]})]})]})]})]})}export{ea as default};
