import{j as e}from"./query-D2a9LsAW.js";import{r as d}from"./vendor-Ba6jih-_.js";import{u as x,t as f,o as N,s as a}from"./types-Vcb-PP2J.js";import{u as K,C as M,B as p}from"./index-DdeQrtE8.js";import{u as R,a as U,c as I}from"./router-PzPojOO1.js";import{p as E,x as g,am as h,an as b,ao as y,a1 as j,j as Z,K as q}from"./ui-yrixFDMZ.js";import"./supabase-B5p9Wfie.js";const J=N({email:a().email("Geçerli bir email adresi giriniz"),password:a().min(6,"Şifre en az 6 karakter olmalıdır")}),Q=N({email:a().email("Geçerli bir email adresi giriniz"),password:a().min(6,"Şifre en az 6 karakter olmalıdır"),confirmPassword:a().min(6,"Şifre tekrarı gereklidir"),full_name:a().min(2,"Ad soyad en az 2 karakter olmalıdır"),department:a().optional(),phone:a().optional()}).refine(s=>s.password===s.confirmPassword,{message:"Şifreler eşleşmiyor",path:["confirmPassword"]}),W=N({email:a().email("Geçerli bir email adresi giriniz")});function le(){var z,P;const[s,o]=d.useState("login"),[i,w]=d.useState(!1),[u,G]=d.useState(!1),F=R(),v=U(),{user:A,session:_,loading:n,error:k,signIn:H,signUp:L,resetPassword:B,clearError:S}=K();if(_&&A){const t=((P=(z=v.state)==null?void 0:z.from)==null?void 0:P.pathname)||"/";return e.jsx(I,{to:t,replace:!0})}const l=x({resolver:f(J),defaultValues:{email:"",password:""}}),r=x({resolver:f(Q),defaultValues:{email:"",password:"",confirmPassword:"",full_name:"",department:"",phone:""}}),m=x({resolver:f(W),defaultValues:{email:""}});d.useEffect(()=>{S()},[s,S]);const T=async t=>{var c,C;try{if(await H(t.email,t.password)){const Y=((C=(c=v.state)==null?void 0:c.from)==null?void 0:C.pathname)||"/";F(Y,{replace:!0})}}catch{}},D=async t=>{try{await L(t.email,t.password,{full_name:t.full_name,department:t.department,phone:t.phone}),o("login"),r.reset()}catch{}},O=async t=>{try{await B(t.email),o("login"),m.reset()}catch{}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-cyan-50 p-4",children:e.jsxs(M,{className:"w-full max-w-md p-8 shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-blue-600 to-cyan-600 rounded-2xl flex items-center justify-center mb-4",children:e.jsx(E,{className:"w-8 h-8 text-white"})}),e.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[s==="login"&&"Hoş Geldiniz",s==="register"&&"Hesap Oluşturun",s==="forgot"&&"Şifre Sıfırlama"]}),e.jsxs("p",{className:"text-gray-600 mt-2",children:[s==="login"&&"Dernek Yönetim Paneli",s==="register"&&"Yeni hesap oluşturmak için bilgilerinizi giriniz",s==="forgot"&&"Email adresinizi girerek şifrenizi sıfırlayın"]})]}),k&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-red-700 text-sm",children:k})}),s==="login"&&e.jsxs("form",{onSubmit:l.handleSubmit(T),className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Adresi"}),e.jsxs("div",{className:"relative",children:[e.jsx(g,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{...l.register("email"),type:"email",placeholder:"ornek@email.com",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]}),l.formState.errors.email&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:l.formState.errors.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Şifre"}),e.jsxs("div",{className:"relative",children:[e.jsx(h,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{...l.register("password"),type:i?"text":"password",placeholder:"••••••••",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"}),e.jsx("button",{type:"button",onClick:()=>w(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?e.jsx(b,{className:"w-5 h-5"}):e.jsx(y,{className:"w-5 h-5"})})]}),l.formState.errors.password&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:l.formState.errors.password.message})]}),e.jsx(p,{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white py-3 rounded-lg font-medium transition-all duration-200",children:n?e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"w-4 h-4 animate-spin mr-2"}),"Giriş yapılıyor..."]}):"Giriş Yap"}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("button",{type:"button",onClick:()=>o("forgot"),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Şifremi unuttum"}),e.jsxs("div",{className:"text-gray-600 text-sm",children:["Hesabınız yok mu?"," ",e.jsx("button",{type:"button",onClick:()=>o("register"),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Kayıt olun"})]})]})]}),s==="register"&&e.jsxs("form",{onSubmit:r.handleSubmit(D),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ad Soyad *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{...r.register("full_name"),type:"text",placeholder:"Adınız Soyadınız",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]}),r.formState.errors.full_name&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:r.formState.errors.full_name.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Adresi *"}),e.jsxs("div",{className:"relative",children:[e.jsx(g,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{...r.register("email"),type:"email",placeholder:"ornek@email.com",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]}),r.formState.errors.email&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:r.formState.errors.email.message})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Şifre *"}),e.jsxs("div",{className:"relative",children:[e.jsx(h,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{...r.register("password"),type:i?"text":"password",placeholder:"••••••••",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"}),e.jsx("button",{type:"button",onClick:()=>w(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?e.jsx(b,{className:"w-4 h-4"}):e.jsx(y,{className:"w-4 h-4"})})]}),r.formState.errors.password&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:r.formState.errors.password.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Şifre Tekrar *"}),e.jsxs("div",{className:"relative",children:[e.jsx(h,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{...r.register("confirmPassword"),type:u?"text":"password",placeholder:"••••••••",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"}),e.jsx("button",{type:"button",onClick:()=>G(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:u?e.jsx(b,{className:"w-4 h-4"}):e.jsx(y,{className:"w-4 h-4"})})]}),r.formState.errors.confirmPassword&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:r.formState.errors.confirmPassword.message})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Departman"}),e.jsxs("div",{className:"relative",children:[e.jsx(E,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{...r.register("department"),type:"text",placeholder:"Departmanınız",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefon"}),e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{...r.register("phone"),type:"tel",placeholder:"+90 555 123 45 67",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]})]})]}),e.jsx(p,{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white py-3 rounded-lg font-medium transition-all duration-200",children:n?e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"w-4 h-4 animate-spin mr-2"}),"Hesap oluşturuluyor..."]}):"Hesap Oluştur"}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"text-gray-600 text-sm",children:["Zaten hesabınız var mı?"," ",e.jsx("button",{type:"button",onClick:()=>o("login"),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Giriş yapın"})]})})]}),s==="forgot"&&e.jsxs("form",{onSubmit:m.handleSubmit(O),className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Adresi"}),e.jsxs("div",{className:"relative",children:[e.jsx(g,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{...m.register("email"),type:"email",placeholder:"ornek@email.com",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]}),m.formState.errors.email&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:m.formState.errors.email.message})]}),e.jsx(p,{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white py-3 rounded-lg font-medium transition-all duration-200",children:n?e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"w-4 h-4 animate-spin mr-2"}),"Gönderiliyor..."]}):"Şifre Sıfırlama Bağlantısı Gönder"}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:()=>o("login"),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"← Giriş sayfasına dön"})})]})]})})}export{le as default};
