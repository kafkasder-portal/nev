import{j as e}from"./query-D2a9LsAW.js";import{r as a}from"./vendor-Ba6jih-_.js";import{M as T}from"./Modal-BazkrsRl.js";import{E as P,S as N,ax as v,ab as Y,aG as M}from"./ui-yrixFDMZ.js";function F(){const[m,h]=a.useState(""),[c,g]=a.useState(""),[u,b]=a.useState(""),[w,d]=a.useState(!1),[t,f]=a.useState(null),[r,o]=a.useState(1),[p]=a.useState(10),[k]=a.useState([{id:1,name:"Yönetici",description:"Tam yetki sahibi kullanıcı",permissions:["Okuma","Yazma","Silme","Yönetim"],unitCount:3,createdAt:"2024-01-15",isActive:!0},{id:2,name:"Editör",description:"İçerik düzenleme yetkisi",permissions:["Okuma","Yazma"],unitCount:12,createdAt:"2024-01-10",isActive:!0},{id:3,name:"Görüntüleyici",description:"Sadece görüntüleme yetkisi",permissions:["Okuma"],unitCount:25,createdAt:"2024-01-05",isActive:!1}]),j=k.filter(s=>{const n=s.name.toLowerCase().includes(m.toLowerCase())||s.description.toLowerCase().includes(m.toLowerCase()),i=c===""||c==="active"&&s.isActive||c==="passive"&&!s.isActive||c==="all",E=u===""||s.id.toString().includes(u);return n&&i&&E}),x=j.length,l=Math.max(1,Math.ceil(x/p)),y=(r-1)*p,C=j.slice(y,y+p),S=s=>{f(s),d(!0)};a.useEffect(()=>{r>l&&l>0&&o(l)},[l,r]);const A=()=>{f(null),d(!0)};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(P,{className:"h-8 w-8 text-blue-600"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Birim Rolleri"})]}),e.jsx("p",{className:"text-gray-600",children:"Sistem içindeki birim rollerini ve yetki seviyelerini yönetin"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",placeholder:"ID ↵",className:"w-16 px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:u,onChange:s=>b(s.target.value)}),e.jsxs("select",{value:c,onChange:s=>g(s.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Aktif Tanımlar"}),e.jsx("option",{value:"active",children:"Aktif Tanımlar"}),e.jsx("option",{value:"passive",children:"Pasif Tanımlar"}),e.jsx("option",{value:"all",children:"Tümü"})]}),e.jsx("input",{type:"text",placeholder:"Birim Rol Tanımı",className:"w-48 px-3 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:m,onChange:s=>h(s.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>{},className:"flex items-center gap-1.5 bg-green-600 text-white px-3 py-1.5 rounded text-sm hover:bg-green-700 transition-colors",children:[e.jsx(N,{className:"h-3 w-3"}),"Ara"]}),e.jsxs("button",{onClick:()=>{h(""),g(""),b(""),o(1)},className:"flex items-center gap-1.5 bg-red-600 text-white px-3 py-1.5 rounded text-sm hover:bg-red-700 transition-colors",children:[e.jsx(v,{className:"h-3 w-3"}),"Temizle"]}),e.jsxs("button",{onClick:A,className:"flex items-center gap-1.5 bg-blue-600 text-white px-3 py-1.5 rounded text-sm hover:bg-blue-700 transition-colors",children:[e.jsx(Y,{className:"h-3 w-3"}),"Ekle"]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-auto text-sm text-gray-600",children:[e.jsxs("span",{children:[x," Kayıt"]}),e.jsxs("button",{onClick:()=>o(Math.max(1,r-1)),disabled:r===1||x===0,className:"p-1 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("span",{className:"sr-only",children:"Önceki sayfa"}),"‹"]}),e.jsx("input",{type:"text",value:r.toString(),onChange:s=>{const n=s.target.value;if(n==="")return;const i=parseInt(n);!isNaN(i)&&i>=1&&i<=l&&o(i)},className:"w-12 px-1 py-0.5 text-center text-xs border border-gray-300 rounded"}),e.jsxs("span",{children:["/ ",l]}),e.jsxs("button",{onClick:()=>o(Math.min(l,r+1)),disabled:r===l||x===0,className:"p-1 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("span",{className:"sr-only",children:"Sonraki sayfa"}),"›"]})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rol Adı"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Açıklama"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Yetkiler"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Birim Sayısı"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Durum"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"İşlemler"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{console.log("View details for role:",s.id)},className:"text-blue-600 hover:text-blue-900",children:e.jsx(N,{className:"h-4 w-4"})}),e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.name})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-900",children:s.description})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:s.permissions.map((n,i)=>e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:n},i))})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:s.unitCount})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.isActive?"Aktif":"Pasif"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>S(s),className:"text-blue-600 hover:text-blue-900",children:e.jsx(M,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-red-600 hover:text-red-900",children:e.jsx(v,{className:"h-4 w-4"})})]})})]},s.id))})]})})]}),e.jsx(T,{isOpen:w,onClose:()=>d(!1),children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:t?"Rol Düzenle":"Yeni Rol Ekle"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rol Adı"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",defaultValue:(t==null?void 0:t.name)||""})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Açıklama"}),e.jsx("textarea",{rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",defaultValue:(t==null?void 0:t.description)||""})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Yetkiler"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Okuma","Yazma","Silme","Yönetim"].map(s=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50",defaultChecked:t==null?void 0:t.permissions.includes(s)}),e.jsx("span",{className:"ml-2 text-sm text-gray-900",children:s})]},s))})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"İptal"}),e.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700",children:t?"Güncelle":"Ekle"})]})]})})]})}export{F as default};
