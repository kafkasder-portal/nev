import{j as e}from"./query-D2a9LsAW.js";import{r as i}from"./vendor-Ba6jih-_.js";import{S as v,F as N,aV as f,ao as w,a as c,d as k,ab as T,U as S}from"./ui-yrixFDMZ.js";const B=()=>{const[n]=i.useState([{id:"1",type:"beneficiary",title:"Ahmet Yılmaz",description:"Eğitim bursu alan öğrenci",date:"2024-01-15",status:"active",relatedTo:["2","3","4"],metadata:{age:12,grade:6,city:"İstanbul"}},{id:"2",type:"donation",title:"Eğitim Bağışı - Ocak 2024",description:"Ahmet Yılmaz için aylık eğitim desteği",date:"2024-01-01",status:"completed",relatedTo:["1"],metadata:{amount:500,currency:"TRY",donor:"Anonim Bağışçı"}},{id:"3",type:"message",title:"Okul Raporu",description:"Ahmet'in dönem sonu başarı raporu",date:"2024-01-10",status:"completed",relatedTo:["1"],metadata:{sender:"Okul Müdürü",priority:"normal"}},{id:"4",type:"document",title:"Kimlik Fotokopisi",description:"Ahmet Yılmaz kimlik belgesi",date:"2023-12-15",status:"active",relatedTo:["1"],metadata:{fileType:"PDF",size:"2.1 MB"}},{id:"5",type:"event",title:"Ev Ziyareti",description:"Sosyal çalışan ev ziyareti",date:"2024-01-20",status:"pending",relatedTo:["1"],metadata:{socialWorker:"Ayşe Demir",duration:"2 saat"}},{id:"6",type:"beneficiary",title:"Zeynep Kaya",description:"Lise öğrencisi, başarılı",date:"2024-01-12",status:"active",relatedTo:["7","8"],metadata:{age:15,grade:9,city:"Ankara"}},{id:"7",type:"donation",title:"Eğitim Bağışı - Zeynep",description:"Zeynep Kaya için aylık eğitim desteği",date:"2024-01-01",status:"completed",relatedTo:["6"],metadata:{amount:750,currency:"TRY",donor:"Hayırsever Aile"}},{id:"8",type:"document",title:"Başarı Belgesi",description:"Zeynep'in okul birinciliği belgesi",date:"2024-01-05",status:"active",relatedTo:["6"],metadata:{fileType:"PDF",achievement:"Okul Birincisi"}}]),[D]=i.useState([{id:"r1",fromId:"1",toId:"2",type:"dependency",strength:.9,description:"Ahmet'in eğitim bağışı"},{id:"r2",fromId:"1",toId:"3",type:"related",strength:.7,description:"Okul raporu ilişkisi"},{id:"r3",fromId:"1",toId:"4",type:"dependency",strength:.8,description:"Kimlik belgesi"},{id:"r4",fromId:"6",toId:"7",type:"dependency",strength:.9,description:"Zeynep'in eğitim bağışı"}]),[t,g]=i.useState(null),[o,y]=i.useState(""),[m,b]=i.useState("all"),[x,j]=i.useState(!0),u=n.filter(s=>{const a=s.title.toLowerCase().includes(o.toLowerCase())||s.description.toLowerCase().includes(o.toLowerCase()),r=m==="all"||s.type===m;return a&&r}),p=s=>{const a=n.find(r=>r.id===s);return a?n.filter(r=>a.relatedTo.includes(r.id)||r.relatedTo.includes(s)):[]},d=s=>{switch(s){case"beneficiary":return e.jsx(S,{className:"w-4 h-4"});case"donation":return e.jsx(T,{className:"w-4 h-4"});case"message":return e.jsx(c,{className:"w-4 h-4"});case"document":return e.jsx(c,{className:"w-4 h-4"});case"event":return e.jsx(k,{className:"w-4 h-4"});default:return e.jsx(c,{className:"w-4 h-4"})}},l=s=>{switch(s){case"beneficiary":return"bg-blue-100 text-blue-800 border-blue-200";case"donation":return"bg-green-100 text-green-800 border-green-200";case"message":return"bg-purple-100 text-purple-800 border-purple-200";case"document":return"bg-orange-100 text-orange-800 border-orange-200";case"event":return"bg-pink-100 text-pink-800 border-pink-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},h=s=>{switch(s){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-blue-100 text-blue-800";case"archived":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Related Records Demo"}),e.jsx("p",{className:"text-gray-600",children:"Demonstration of related records and relationship mapping"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:e.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[e.jsx("div",{className:"flex-1 min-w-64",children:e.jsxs("div",{className:"relative",children:[e.jsx(v,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search records...",value:o,onChange:s=>y(s.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-gray-500"}),e.jsxs("select",{value:m,onChange:s=>b(s.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"beneficiary",children:"Beneficiaries"}),e.jsx("option",{value:"donation",children:"Donations"}),e.jsx("option",{value:"message",children:"Messages"}),e.jsx("option",{value:"document",children:"Documents"}),e.jsx("option",{value:"event",children:"Events"})]})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:x,onChange:s=>j(s.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Show Relationships"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Records (",u.length,")"]})}),e.jsx("div",{className:"divide-y divide-gray-200 max-h-96 overflow-y-auto",children:u.map(s=>{const a=p(s.id);return e.jsx("div",{className:`p-4 cursor-pointer hover:bg-gray-50 transition-colors ${(t==null?void 0:t.id)===s.id?"bg-blue-50":""}`,onClick:()=>g(s),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg border ${l(s.type)}`,children:d(s.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:s.title}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${h(s.status)}`,children:s.status})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:s.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[e.jsx("span",{children:new Date(s.date).toLocaleDateString()}),x&&a.length>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(f,{className:"w-3 h-3"}),e.jsxs("span",{children:[a.length," related"]})]})]})]})]})},s.id)})})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Record Details"})}),e.jsx("div",{className:"p-6",children:t?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg border ${l(t.type)}`,children:d(t.type)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:t.title}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${h(t.status)}`,children:t.status})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("p",{className:"text-sm text-gray-900",children:t.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),e.jsx("p",{className:"text-sm text-gray-900",children:new Date(t.date).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),e.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-medium rounded-full border ${l(t.type)}`,children:t.type})]}),Object.keys(t.metadata).length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Metadata"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-3 space-y-1",children:Object.entries(t.metadata).map(([s,a])=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600 capitalize",children:[s,":"]}),e.jsx("span",{className:"text-gray-900 font-medium",children:String(a)})]},s))})]}),x&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Related Records (",p(t.id).length,")"]}),e.jsx("div",{className:"space-y-2",children:p(t.id).map(s=>e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100",onClick:()=>g(s),children:[e.jsx("div",{className:`p-1 rounded border ${l(s.type)}`,children:d(s.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:s.title}),e.jsx("p",{className:"text-xs text-gray-500",children:s.type})]}),e.jsx(w,{className:"w-4 h-4 text-gray-400"})]},s.id))})]})]}):e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx(c,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"Select a record to view details"})]})})]})]}),e.jsx("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-5 gap-4",children:["beneficiary","donation","message","document","event"].map(s=>{const a=n.filter(r=>r.type===s).length;return e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg border ${l(s)}`,children:d(s)}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-600 capitalize",children:[s,"s"]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a})]})]})},s)})})]})})};export{B as default};
