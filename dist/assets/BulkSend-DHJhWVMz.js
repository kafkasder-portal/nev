import{j as e}from"./query-D2a9LsAW.js";import{r as l}from"./vendor-Ba6jih-_.js";import{M as F}from"./Modal-BazkrsRl.js";import{a as G,w as R,at as U,X,ay as q}from"./ui-yrixFDMZ.js";function W(){const[n,u]=l.useState("notification"),[z,B]=l.useState(""),[x,A]=l.useState([]),[h,N]=l.useState([]),[d,f]=l.useState(""),[c,v]=l.useState(""),[t,D]=l.useState("normal"),[r,y]=l.useState("now"),[g,E]=l.useState(""),[b,Y]=l.useState(""),[K,o]=l.useState(!1),[j,w]=l.useState(""),[m,k]=l.useState(""),C=[{id:1,name:"Hoş Geldiniz Mesajı",subject:"Derneğimize Hoş Geldiniz",content:"Sayın {firstName}, derneğimize hoş geldiniz..."},{id:2,name:"Toplantı Daveti",subject:"Aylık Genel Toplantı",content:"Toplantı tarihi: {meetingDate}..."},{id:3,name:"Yardım Onayı",subject:"Yardım Başvurunuz Onaylandı",content:"Başvurunuz onaylanmıştır..."}],S=[{id:1,name:"Tüm Üyeler",memberCount:156},{id:2,name:"Yönetim Kurulu",memberCount:8},{id:3,name:"Yardım Başvuru Sahipleri",memberCount:45},{id:4,name:"Öğrenciler",memberCount:32},{id:5,name:"Kafkasya Bölgesi",memberCount:89}],O=s=>{B(s);const a=C.find(i=>i.id===Number(s));a&&(f(a.subject),v(a.content))},$=s=>{A(a=>a.includes(s)?a.filter(i=>i!==s):[...a,s])},P=()=>{if(j&&m){const s={id:Date.now().toString(),name:j,type:"individual"};n==="sms"?s.phone=m:n==="email"&&(s.email=m),N(a=>[...a,s]),w(""),k("")}},Z=s=>{N(a=>a.filter(i=>i.id!==s))},T=()=>x.reduce((a,i)=>{const p=S.find(H=>H.id===i);return a+((p==null?void 0:p.memberCount)||0)},0)+h.length,M=()=>{console.log("Mesaj gönderiliyor...",{messageType:n,selectedGroups:x,customRecipients:h,subject:d,content:c,priority:t,scheduleType:r,scheduledDate:g,scheduledTime:b}),alert("Mesaj başarıyla gönderildi!")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Toplu Mesaj Gönderimi"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Birden fazla alıcıya aynı anda mesaj gönderin"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:[e.jsx(G,{className:"h-4 w-4"}),"Önizleme"]}),e.jsxs("button",{onClick:M,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(R,{className:"h-4 w-4"}),"Gönder"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Mesaj Türü"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("button",{onClick:()=>u("notification"),className:`p-4 rounded-lg border-2 transition-colors ${n==="notification"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(U,{className:"h-6 w-6 mx-auto mb-2"}),e.jsx("div",{className:"text-sm font-medium",children:"Bildirim"})]}),e.jsxs("button",{onClick:()=>u("sms"),className:`p-4 rounded-lg border-2 transition-colors ${n==="sms"?"border-green-500 bg-green-50 text-green-700":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(R,{className:"h-6 w-6 mx-auto mb-2"}),e.jsx("div",{className:"text-sm font-medium",children:"SMS"})]}),e.jsxs("button",{onClick:()=>u("email"),className:`p-4 rounded-lg border-2 transition-colors ${n==="email"?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(G,{className:"h-6 w-6 mx-auto mb-2"}),e.jsx("div",{className:"text-sm font-medium",children:"E-posta"})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Mesaj Şablonu"}),e.jsxs("select",{value:z,onChange:s=>O(s.target.value),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Şablon seçin (isteğe bağlı)"}),C.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Mesaj İçeriği"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Konu"}),e.jsx("input",{type:"text",value:d,onChange:s=>f(s.target.value),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Mesaj konusu"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"İçerik"}),e.jsx("textarea",{value:c,onChange:s=>v(s.target.value),rows:6,className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Mesaj içeriğini yazın..."}),e.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Karakter sayısı: ",c.length]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Öncelik"}),e.jsxs("select",{value:t,onChange:s=>D(s.target.value),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"low",children:"Düşük"}),e.jsx("option",{value:"normal",children:"Normal"}),e.jsx("option",{value:"high",children:"Yüksek"}),e.jsx("option",{value:"urgent",children:"Acil"})]})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Gönderim Zamanı"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",value:"now",checked:r==="now",onChange:s=>y(s.target.value),className:"mr-2"}),"Şimdi gönder"]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",value:"scheduled",checked:r==="scheduled",onChange:s=>y(s.target.value),className:"mr-2"}),"Zamanla"]})]}),r==="scheduled"&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tarih"}),e.jsx("input",{type:"date",value:g,onChange:s=>E(s.target.value),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Saat"}),e.jsx("input",{type:"time",value:b,onChange:s=>Y(s.target.value),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Gönderim Özeti"}),e.jsxs("div",{className:"space-y-1 text-sm text-blue-800",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Toplam Alıcı:"}),e.jsx("span",{className:"font-medium",children:T()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Mesaj Türü:"}),e.jsx("span",{className:"font-medium",children:n==="sms"?"SMS":n==="email"?"E-posta":"Bildirim"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Öncelik:"}),e.jsx("span",{className:"font-medium",children:t==="low"?"Düşük":t==="normal"?"Normal":t==="high"?"Yüksek":"Acil"})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Mesaj Grupları"}),e.jsx("div",{className:"space-y-2",children:S.map(s=>e.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded",children:[e.jsx("input",{type:"checkbox",checked:x.includes(s.id),onChange:()=>$(s.id),className:"mr-3"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-sm",children:s.name}),e.jsxs("div",{className:"text-xs text-gray-500",children:[s.memberCount," üye"]})]})]},s.id))})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Bireysel Alıcılar"}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsx("input",{type:"text",value:j,onChange:s=>w(s.target.value),placeholder:"Alıcı adı",className:"w-full border rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("input",{type:"text",value:m,onChange:s=>k(s.target.value),placeholder:n==="sms"?"Telefon numarası":n==="email"?"E-posta adresi":"İletişim bilgisi",className:"w-full border rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{onClick:P,className:"w-full bg-green-600 text-white py-2 rounded text-sm hover:bg-green-700 transition-colors",children:"Ekle"})]}),e.jsx("div",{className:"space-y-2",children:h.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:s.name}),e.jsx("div",{className:"text-xs text-gray-500",children:s.phone||s.email})]}),e.jsx("button",{onClick:()=>Z(s.id),className:"text-red-600 hover:bg-red-50 p-1 rounded",children:e.jsx(X,{className:"h-4 w-4"})})]},s.id))}),e.jsx("div",{className:"mt-4 pt-4 border-t",children:e.jsxs("button",{className:"w-full flex items-center justify-center gap-2 border-2 border-dashed border-gray-300 py-3 rounded-lg text-gray-600 hover:border-gray-400 transition-colors",children:[e.jsx(q,{className:"h-4 w-4"}),"Dosyadan İçe Aktar"]})})]})]})]}),e.jsx(F,{isOpen:K,onClose:()=>o(!1),title:"Mesaj Önizlemesi",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Gönderim Bilgileri"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Tür:"}),e.jsx("span",{className:"ml-2 font-medium",children:n==="sms"?"SMS":n==="email"?"E-posta":"Bildirim"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Öncelik:"}),e.jsx("span",{className:"ml-2 font-medium",children:t==="low"?"Düşük":t==="normal"?"Normal":t==="high"?"Yüksek":"Acil"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Toplam Alıcı:"}),e.jsx("span",{className:"ml-2 font-medium",children:T()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Zamanlama:"}),e.jsx("span",{className:"ml-2 font-medium",children:r==="now"?"Şimdi":`${g} ${b}`})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Mesaj İçeriği"}),e.jsxs("div",{className:"border rounded-lg p-4",children:[d&&e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Konu:"}),e.jsx("div",{className:"font-medium",children:d})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"İçerik:"}),e.jsx("div",{className:"whitespace-pre-wrap",children:c})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Kapat"}),e.jsx("button",{onClick:()=>{o(!1),M()},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Gönder"})]})]})})]})}export{W as default};
