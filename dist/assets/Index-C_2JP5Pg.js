const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/RechartsBundle-C8mgyyQV.js","assets/query-D2a9LsAW.js","assets/vendor-Ba6jih-_.js","assets/ui-yrixFDMZ.js","assets/PieChart-B8oIJB3B.js","assets/index-DdeQrtE8.js","assets/router-PzPojOO1.js","assets/supabase-B5p9Wfie.js","assets/index-BMOtDeWd.css"])))=>i.map(i=>d[i]);
import{j as e}from"./query-D2a9LsAW.js";import{S as d}from"./StatCard-R_-DmWX7.js";import{L as j}from"./router-PzPojOO1.js";import{_ as N}from"./supabase-B5p9Wfie.js";import{r as c}from"./vendor-Ba6jih-_.js";import{s as o,S as m}from"./index-DdeQrtE8.js";import{d as f,U as v,a as g,C as b,a2 as y,M as k,aF as w,A as B,T as D}from"./ui-yrixFDMZ.js";const S=[{month:"Oca",donations:45e3,beneficiaries:120},{month:"Şub",donations:52e3,beneficiaries:135},{month:"Mar",donations:48e3,beneficiaries:128},{month:"Nis",donations:61e3,beneficiaries:145},{month:"May",donations:55e3,beneficiaries:138},{month:"Haz",donations:67e3,beneficiaries:156}],A=[{name:"Nakdi Yardım",value:45,color:"#3b82f6"},{name:"Ayni Yardım",value:25,color:"#10b981"},{name:"Eğitim Desteği",value:20,color:"#f59e0b"},{name:"Sağlık Yardımı",value:10,color:"#ef4444"}],T=[{day:"Pzt",applications:12,donations:8500},{day:"Sal",applications:8,donations:6200},{day:"Çar",applications:15,donations:9800},{day:"Per",applications:20,donations:12400},{day:"Cum",applications:18,donations:11200},{day:"Cmt",applications:6,donations:4500},{day:"Paz",applications:4,donations:3200}],Y=[{region:"İstanbul",beneficiaries:450,amount:125e3},{region:"Ankara",beneficiaries:320,amount:89e3},{region:"İzmir",beneficiaries:280,amount:76e3},{region:"Bursa",beneficiaries:180,amount:51e3},{region:"Antalya",beneficiaries:150,amount:42e3},{region:"Diğer",beneficiaries:220,amount:61e3}],C=c.lazy(()=>N(()=>import("./RechartsBundle-C8mgyyQV.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),P=()=>{const[t,s]=c.useState({totalBeneficiaries:0,totalDonations:0,totalAid:0,activeApplications:0,monthlyGrowth:0,loading:!0}),[a,n]=c.useState("month");c.useEffect(()=>{i();const r=o.channel("beneficiaries-changes").on("postgres_changes",{event:"*",schema:"public",table:"beneficiaries"},()=>i()).subscribe(),l=o.channel("applications-changes").on("postgres_changes",{event:"*",schema:"public",table:"applications"},()=>i()).subscribe();return()=>{r.unsubscribe(),l.unsubscribe()}},[]);const i=async()=>{try{const[r,l]=await Promise.all([o.from("beneficiaries").select("*",{count:"exact"}),o.from("applications").select("*",{count:"exact"})]);s({totalBeneficiaries:r.count||0,totalDonations:45e4,totalAid:38e4,activeApplications:l.count||0,monthlyGrowth:12.5,loading:!1})}catch(r){console.error("Dashboard data fetch error:",r),s(l=>({...l,loading:!1}))}};return t.loading?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(m,{}),e.jsx(m,{}),e.jsx(m,{}),e.jsx(m,{})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"İstatistik ve Analizler"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("select",{value:a,onChange:r=>n(r.target.value),className:"border rounded-md px-3 py-1 text-sm bg-background",children:[e.jsx("option",{value:"week",children:"Bu Hafta"}),e.jsx("option",{value:"month",children:"Bu Ay"}),e.jsx("option",{value:"year",children:"Bu Yıl"})]})]})]}),e.jsx(c.Suspense,{fallback:e.jsx("div",{children:"Loading chart..."}),children:e.jsx(C,{donationTrend:S,aidDistribution:A,weeklyStats:T,regionalData:Y})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"rounded-lg border bg-card p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ortalama Bağış"}),e.jsx("p",{className:"text-2xl font-bold",children:"₺2,450"})]}),e.jsx("div",{className:"text-green-600 text-sm",children:"+8.2%"})]})}),e.jsx("div",{className:"rounded-lg border bg-card p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Başvuru/Onay Oranı"}),e.jsx("p",{className:"text-2xl font-bold",children:"87%"})]}),e.jsx("div",{className:"text-green-600 text-sm",children:"+2.1%"})]})}),e.jsx("div",{className:"rounded-lg border bg-card p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Aktif Bağışçı"}),e.jsx("p",{className:"text-2xl font-bold",children:"1,247"})]}),e.jsx("div",{className:"text-green-600 text-sm",children:"+15.3%"})]})}),e.jsx("div",{className:"rounded-lg border bg-card p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Hedef Tamamlama"}),e.jsx("p",{className:"text-2xl font-bold",children:"76%"})]}),e.jsx("div",{className:"text-blue-600 text-sm",children:"Bu ay"})]})})]})]})};function H(){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"rounded-lg bg-gradient-to-r from-blue-600 to-purple-600 p-6 text-white",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Dernek Yönetim Paneline Hoş Geldiniz"}),e.jsxs("p",{className:"mt-2 text-blue-100",children:["Bugün ",new Date().toLocaleDateString("tr-TR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx(d,{title:"Toplam İhtiyaç Sahibi",value:"1,247",icon:e.jsx(v,{className:"h-5 w-5 text-blue-700"}),accentClass:"bg-blue-100",subtitle:"+12 bu ay"}),e.jsx(d,{title:"Aktif Başvuru",value:"187",icon:e.jsx(g,{className:"h-5 w-5 text-orange-700"}),accentClass:"bg-orange-100",subtitle:"Değerlendirme bekliyor"}),e.jsx(d,{title:"Bu Ay Toplanan Bağış",value:"₺45,670",icon:e.jsx(b,{className:"h-5 w-5 text-green-700"}),accentClass:"bg-green-100",subtitle:"+%15 geçen aya göre"}),e.jsx(d,{title:"Dağıtılan Yardım",value:"₺38,240",icon:e.jsx(y,{className:"h-5 w-5 text-red-700"}),accentClass:"bg-red-100",subtitle:"Bu ay"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(x,{title:"Yeni Başvuru",description:"İhtiyaç sahibi başvurusu oluştur",icon:e.jsx(g,{className:"h-6 w-6"}),color:"bg-blue-500",link:"/aid/applications"}),e.jsx(x,{title:"Bağış Kabul",description:"Yeni bağış kaydı oluştur",icon:e.jsx(b,{className:"h-6 w-6"}),color:"bg-green-500",link:"/donations/cash"}),e.jsx(x,{title:"Mesaj Gönder",description:"Toplu mesaj gönderimi yap",icon:e.jsx(k,{className:"h-6 w-6"}),color:"bg-purple-500",link:"/messages/bulk-send"}),e.jsx(x,{title:"Rapor Oluştur",description:"Yardım raporu hazırla",icon:e.jsx(w,{className:"h-6 w-6"}),color:"bg-orange-500",link:"/aid/reports"})]}),e.jsx(P,{}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[e.jsx(B,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"font-semibold",children:"Son Aktiviteler"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(u,{title:"Yeni başvuru onaylandı",subtitle:"Ayşe Yılmaz - Nakdi Yardım",time:"2 saat önce"}),e.jsx(u,{title:"Bağış alındı",subtitle:"₺500 - Ahmet Demir",time:"4 saat önce"}),e.jsx(u,{title:"Toplu mesaj gönderildi",subtitle:"142 kişiye SMS gönderildi",time:"6 saat önce"}),e.jsx(u,{title:"Yardım dağıtıldı",subtitle:"₺1,200 - 3 aile",time:"1 gün önce"})]}),e.jsx(j,{to:"/aid",className:"mt-4 block text-sm text-primary hover:underline",children:"Tüm aktiviteleri gör →"})]}),e.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[e.jsx(D,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"font-semibold",children:"Bu Ayki Hedefler"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(h,{title:"Bağış Hedefi",current:45670,target:6e4,unit:"₺"}),e.jsx(h,{title:"Yardım Dağıtımı",current:38240,target:45e3,unit:"₺"}),e.jsx(h,{title:"Yeni Başvuru",current:12,target:20,unit:""}),e.jsx(h,{title:"Burs Öğrenci",current:85,target:100,unit:""})]})]}),e.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[e.jsx(f,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"font-semibold",children:"Yaklaşan Etkinlikler"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(p,{title:"Yönetim Kurulu Toplantısı",date:"15 Ocak 2024",time:"14:00"}),e.jsx(p,{title:"Bağış Kampanyası Lansmanı",date:"20 Ocak 2024",time:"10:00"}),e.jsx(p,{title:"İhtiyaç Sahipleri Ziyareti",date:"25 Ocak 2024",time:"09:00"}),e.jsx(p,{title:"Burs Öğrenci Buluşması",date:"30 Ocak 2024",time:"15:00"})]}),e.jsx(j,{to:"/messages",className:"mt-4 block text-sm text-primary hover:underline",children:"Takvimi gör →"})]})]})]})}function x({title:t,description:s,icon:a,color:n,link:i}){return e.jsx(j,{to:i,className:"group block",children:e.jsxs("div",{className:"rounded-lg border bg-card p-4 transition-all hover:border-primary hover:shadow-md",children:[e.jsx("div",{className:`mb-3 inline-flex h-10 w-10 items-center justify-center rounded-lg ${n} text-white`,children:a}),e.jsx("h3",{className:"font-semibold group-hover:text-primary",children:t}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s})]})})}function u({title:t,subtitle:s,time:a}){return e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"mt-1 h-2 w-2 rounded-full bg-primary"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:t}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a})]})]})}function h({title:t,current:s,target:a,unit:n}){const i=Math.round(s/a*100);return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-1 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:t}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[n,s.toLocaleString("tr-TR")," / ",n,a.toLocaleString("tr-TR")]})]}),e.jsx("div",{className:"h-2 w-full rounded-full bg-muted",children:e.jsx("div",{className:"h-2 rounded-full bg-primary transition-all duration-300",style:{width:`${Math.min(i,100)}%`}})}),e.jsxs("p",{className:"mt-1 text-xs text-muted-foreground",children:["%",i," tamamlandı"]})]})}function p({title:t,date:s,time:a}){return e.jsxs("div",{className:"flex items-center gap-3 rounded border p-2",children:[e.jsxs("div",{className:"flex h-12 w-12 flex-col items-center justify-center rounded bg-primary/10 text-primary",children:[e.jsx("span",{className:"text-xs font-medium",children:s.split(" ")[0]}),e.jsx("span",{className:"text-xs",children:s.split(" ")[1]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:t}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a})]})]})}export{H as default};
