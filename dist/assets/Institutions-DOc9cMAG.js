import{j as e}from"./query-D2a9LsAW.js";import{r as l}from"./vendor-Ba6jih-_.js";import{D as N}from"./DataTable-Dzg2kqPW.js";import{M as D}from"./Modal-BazkrsRl.js";import{u as C}from"./useSanitization-DPwGZpHZ.js";import"./sanitization-B2vlJvdx.js";const S=[{id:"1",name:"ABC Şirketi",type:"şirket",contactPerson:"Mehmet Özkan",phone:"0212 555 0101",email:"mehmet@abc.com",address:"İstanbul, Türkiye",totalDonations:5e4,lastDonation:"2024-01-15",status:"aktif"},{id:"2",name:"Yardım Vakfı",type:"vakıf",contactPerson:"Ayşe Kaya",phone:"0312 555 0202",email:"ayse@yardimvakfi.org",address:"Ankara, Türkiye",totalDonations:75e3,lastDonation:"2024-01-10",status:"aktif"}];function A(){const[r,u]=l.useState(S),[p,h]=l.useState(""),[b,o]=l.useState(!1),[c,x]=l.useState(null),[a,n]=l.useState({name:"",type:"şirket",contactPerson:"",phone:"",email:"",address:""}),y=l.useMemo(()=>r.filter(t=>JSON.stringify(t).toLowerCase().includes(p.toLowerCase())),[r,p]),k=[{key:"name",header:"Kurum Adı"},{key:"type",header:"Tür",render:(t,s)=>e.jsx("span",{className:`px-2 py-1 rounded text-xs ${s.type==="şirket"?"bg-blue-100 text-blue-800":s.type==="vakıf"?"bg-green-100 text-green-800":s.type==="dernek"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:s.type})},{key:"contactPerson",header:"İletişim Kişisi"},{key:"phone",header:"Telefon"},{key:"email",header:"E-posta"},{key:"totalDonations",header:"Toplam Bağış",render:(t,s)=>`${s.totalDonations.toLocaleString("tr-TR")} ₺`},{key:"lastDonation",header:"Son Bağış"},{key:"status",header:"Durum",render:(t,s)=>e.jsx("span",{className:`px-2 py-1 rounded text-xs ${s.status==="aktif"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.status})},{key:"id",header:"İşlemler",render:(t,s)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>f(s),className:"text-blue-600 hover:text-blue-800 text-sm",children:"Düzenle"}),e.jsx("button",{onClick:()=>j(s.id),className:"text-red-600 hover:text-red-800 text-sm",children:"Sil"})]})}],f=t=>{x(t),n({name:t.name,type:t.type,contactPerson:t.contactPerson,phone:t.phone,email:t.email,address:t.address}),o(!0)},j=t=>{confirm("Bu kurumu silmek istediğinizden emin misiniz?")&&u(r.filter(s=>s.id!==t))},{sanitizeFormField:i,createSanitizedChangeHandler:d}=C(),v=t=>{t.preventDefault();const s={name:i(a.name,"text"),type:a.type,contactPerson:i(a.contactPerson,"text"),phone:i(a.phone,"phone"),email:i(a.email,"email"),address:i(a.address,"text")};if(c)u(r.map(m=>m.id===c.id?{...m,...s}:m));else{const m={id:Date.now().toString(),...s,totalDonations:0,lastDonation:"-",status:"aktif"};u([...r,m])}o(!1),x(null),n({name:"",type:"şirket",contactPerson:"",phone:"",email:"",address:""})},g=()=>{x(null),n({name:"",type:"şirket",contactPerson:"",phone:"",email:"",address:""}),o(!0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Kurumlar"}),e.jsx("button",{onClick:g,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Yeni Kurum Ekle"})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("input",{value:p,onChange:t=>h(t.target.value),className:"flex-1 border rounded px-3 py-2",placeholder:"Kurum adı, kişi, telefon veya e-posta ile ara..."}),e.jsxs("select",{className:"border rounded px-3 py-2",children:[e.jsx("option",{value:"",children:"Tüm Türler"}),e.jsx("option",{value:"şirket",children:"Şirket"}),e.jsx("option",{value:"vakıf",children:"Vakıf"}),e.jsx("option",{value:"dernek",children:"Dernek"}),e.jsx("option",{value:"kamu",children:"Kamu"})]}),e.jsxs("select",{className:"border rounded px-3 py-2",children:[e.jsx("option",{value:"",children:"Tüm Durumlar"}),e.jsx("option",{value:"aktif",children:"Aktif"}),e.jsx("option",{value:"pasif",children:"Pasif"})]})]}),e.jsx(N,{columns:k,data:y})]}),e.jsx(D,{isOpen:b,onClose:()=>o(!1),title:c?"Kurum Düzenle":"Yeni Kurum Ekle",children:e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Kurum Adı"}),e.jsx("input",{type:"text",value:a.name,onChange:d(t=>n({...a,name:t}),"text"),className:"w-full border rounded px-3 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tür"}),e.jsxs("select",{value:a.type,onChange:t=>n({...a,type:t.target.value}),className:"w-full border rounded px-3 py-2",children:[e.jsx("option",{value:"şirket",children:"Şirket"}),e.jsx("option",{value:"vakıf",children:"Vakıf"}),e.jsx("option",{value:"dernek",children:"Dernek"}),e.jsx("option",{value:"kamu",children:"Kamu"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"İletişim Kişisi"}),e.jsx("input",{type:"text",value:a.contactPerson,onChange:d(t=>n({...a,contactPerson:t}),"text"),className:"w-full border rounded px-3 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Telefon"}),e.jsx("input",{type:"tel",value:a.phone,onChange:d(t=>n({...a,phone:t}),"phone"),className:"w-full border rounded px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"E-posta"}),e.jsx("input",{type:"email",value:a.email,onChange:d(t=>n({...a,email:t}),"email"),className:"w-full border rounded px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Adres"}),e.jsx("textarea",{value:a.address,onChange:d(t=>n({...a,address:t}),"text"),className:"w-full border rounded px-3 py-2",rows:3})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>o(!1),className:"px-4 py-2 border rounded hover:bg-gray-50",children:"İptal"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:c?"Güncelle":"Ekle"})]})]})})]})}export{A as default};
