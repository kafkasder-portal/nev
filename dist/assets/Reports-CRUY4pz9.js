import{j as e}from"./query-D2a9LsAW.js";import{r as c}from"./vendor-Ba6jih-_.js";import{S as i}from"./StatCard-R_-DmWX7.js";import{e as A}from"./exportToCsv-CTUkvpR5.js";import{aa as C,U as D,D as M,T as R,G as $}from"./ui-yrixFDMZ.js";import{R as o,B as j,C as h,X as m,Y as x,T as n,a as g,P as p,b as y,c as v}from"./PieChart-B8oIJB3B.js";import{L as K,a as E}from"./LineChart-CMhEWIHO.js";import"./index-DdeQrtE8.js";import"./router-PzPojOO1.js";import"./supabase-B5p9Wfie.js";const a=[{month:"Ocak",students:45,amount:112500},{month:"Şubat",students:52,amount:13e4},{month:"Mart",students:48,amount:12e4},{month:"Nisan",students:55,amount:137500},{month:"Mayıs",students:60,amount:15e4},{month:"Haziran",students:58,amount:145e3}],b=[{name:"Eğitim Bursu",value:45,color:"#3B82F6"},{name:"Barınma Bursu",value:25,color:"#10B981"},{name:"Beslenme Bursu",value:20,color:"#F59E0B"},{name:"Kitap Bursu",value:10,color:"#EF4444"}],N=[{name:"Kız",value:60,color:"#EC4899"},{name:"Erkek",value:40,color:"#3B82F6"}],L=[{month:"Ocak",average:3.2},{month:"Şubat",average:3.3},{month:"Mart",average:3.4},{month:"Nisan",average:3.5},{month:"Mayıs",average:3.6},{month:"Haziran",average:3.7}];function W(){const[u,f]=c.useState("2024"),[w,k]=c.useState("monthly"),d=c.useMemo(()=>{const t=a[a.length-1].students,s=a.reduce((T,S)=>T+S.amount,0),l=Math.round(s/a.length),r=Math.round((a[a.length-1].students-a[0].students)/a[0].students*100);return{totalStudents:t,totalAmount:s,avgAmount:l,growth:r}},[]),B=()=>{const t=a.map(s=>({Ay:s.month,"Öğrenci Sayısı":s.students,"Toplam Tutar":s.amount,"Ortalama Tutar":Math.round(s.amount/s.students)}));A(`burs-raporu-${u}.csv`,t)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Burs Raporları"}),e.jsx("p",{className:"text-gray-600",children:"Detaylı istatistikler ve analitik raporlar"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:u,onChange:t=>f(t.target.value),className:"rounded border px-3 py-2 text-sm",children:[e.jsx("option",{value:"2024",children:"2024"}),e.jsx("option",{value:"2023",children:"2023"}),e.jsx("option",{value:"2022",children:"2022"})]}),e.jsxs("select",{value:w,onChange:t=>k(t.target.value),className:"rounded border px-3 py-2 text-sm",children:[e.jsx("option",{value:"monthly",children:"Aylık"}),e.jsx("option",{value:"quarterly",children:"Üç Aylık"}),e.jsx("option",{value:"yearly",children:"Yıllık"})]}),e.jsxs("button",{onClick:B,className:"flex items-center gap-2 rounded bg-blue-600 px-3 py-2 text-sm text-white hover:bg-blue-700",children:[e.jsx(C,{size:16}),"Rapor İndir"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(i,{title:"Toplam Öğrenci",value:d.totalStudents.toString(),icon:e.jsx(D,{className:"h-6 w-6"})}),e.jsx(i,{title:"Toplam Burs Tutarı",value:`₺${d.totalAmount.toLocaleString()}`,icon:e.jsx(M,{className:"h-6 w-6"})}),e.jsx(i,{title:"Aylık Ortalama",value:`₺${d.avgAmount.toLocaleString()}`,icon:e.jsx(R,{className:"h-6 w-6"})}),e.jsx(i,{title:"Aktif Burslar",value:"95%",icon:e.jsx($,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Aylık Öğrenci Sayısı"}),e.jsx(o,{width:"100%",height:300,children:e.jsxs(j,{data:a,children:[e.jsx(h,{strokeDasharray:"3 3"}),e.jsx(m,{dataKey:"month"}),e.jsx(x,{}),e.jsx(n,{}),e.jsx(g,{dataKey:"students",fill:"#3B82F6"})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Burs Türleri Dağılımı"}),e.jsx(o,{width:"100%",height:300,children:e.jsxs(p,{children:[e.jsx(y,{data:b,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:t,value:s})=>`${t}: ${s}%`,children:b.map((t,s)=>e.jsx(v,{fill:t.color},`cell-${s}`))}),e.jsx(n,{})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Aylık Burs Tutarları"}),e.jsx(o,{width:"100%",height:300,children:e.jsxs(j,{data:a,children:[e.jsx(h,{strokeDasharray:"3 3"}),e.jsx(m,{dataKey:"month"}),e.jsx(x,{}),e.jsx(n,{formatter:t=>[`₺${t.toLocaleString()}`,"Tutar"]}),e.jsx(g,{dataKey:"amount",fill:"#10B981"})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Cinsiyet Dağılımı"}),e.jsx(o,{width:"100%",height:300,children:e.jsxs(p,{children:[e.jsx(y,{data:N,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:t,value:s})=>`${t}: ${s}%`,children:N.map((t,s)=>e.jsx(v,{fill:t.color},`cell-${s}`))}),e.jsx(n,{})]})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Akademik Performans Trendi"}),e.jsx(o,{width:"100%",height:300,children:e.jsxs(K,{data:L,children:[e.jsx(h,{strokeDasharray:"3 3"}),e.jsx(m,{dataKey:"month"}),e.jsx(x,{domain:[0,4]}),e.jsx(n,{formatter:t=>[t,"Not Ortalaması"]}),e.jsx(E,{type:"monotone",dataKey:"average",stroke:"#F59E0B",strokeWidth:3})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Detaylı Aylık Rapor"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-2",children:"Ay"}),e.jsx("th",{className:"text-right py-2",children:"Öğrenci Sayısı"}),e.jsx("th",{className:"text-right py-2",children:"Toplam Tutar"}),e.jsx("th",{className:"text-right py-2",children:"Ortalama Tutar"}),e.jsx("th",{className:"text-right py-2",children:"Büyüme"})]})}),e.jsx("tbody",{children:a.map((t,s)=>{const l=s>0?a[s-1]:null,r=l?Math.round((t.students-l.students)/l.students*100):0;return e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-2 font-medium",children:t.month}),e.jsx("td",{className:"text-right py-2",children:t.students}),e.jsxs("td",{className:"text-right py-2",children:["₺",t.amount.toLocaleString()]}),e.jsxs("td",{className:"text-right py-2",children:["₺",Math.round(t.amount/t.students).toLocaleString()]}),e.jsxs("td",{className:`text-right py-2 ${r>0?"text-green-600":r<0?"text-red-600":"text-gray-600"}`,children:[r>0?"+":"",r,"%"]})]},t.month)})})]})})]})]})}export{W as default};
