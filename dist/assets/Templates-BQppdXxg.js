import{j as e}from"./query-D2a9LsAW.js";import{r as l}from"./vendor-Ba6jih-_.js";import{D as $}from"./DataTable-Dzg2kqPW.js";import{M as z}from"./Modal-BazkrsRl.js";import{s as r,S as i}from"./sanitization-B2vlJvdx.js";import{ay as q,aa as J,ab as Q,S as ee,F as ae,a as A,t as _,aA as D,ao as te,aw as se,ax as le}from"./ui-yrixFDMZ.js";function ne(){const o=l.useCallback((n,u="text")=>d=>{const c=d.target.value;let s;switch(u){case"email":s=r(c,i.EMAIL);break;case"phone":s=r(c,i.PHONE);break;case"url":s=r(c,i.URL);break;case"html":s=r(c,i.HTML_WITH_LINKS);break;case"text":default:s=r(c,i.TEXT_ONLY);break}n(s)},[]),k=l.useCallback((n,u="text")=>{switch(u){case"email":return r(n,i.EMAIL);case"phone":return r(n,i.PHONE);case"url":return r(n,i.URL);case"html":return r(n,i.HTML_WITH_LINKS);case"text":default:return r(n,i.TEXT_ONLY)}},[]);return{createSanitizedChangeHandler:o,sanitizeValue:k}}function ue(){const[o,k]=l.useState(""),[n,u]=l.useState("all"),[d,c]=l.useState("all"),[s,K]=l.useState(null),[Z,w]=l.useState(!1),[G,T]=l.useState(!1),[P,C]=l.useState(!1),[M,g]=l.useState(""),[O,p]=l.useState(""),[h,b]=l.useState(""),[L,j]=l.useState("general"),[F,y]=l.useState("notification"),[E,f]=l.useState(!1),{createSanitizedChangeHandler:m}=ne(),x=[{value:"general",label:"Genel"},{value:"welcome",label:"Hoş Geldin"},{value:"reminder",label:"Hatırlatma"},{value:"notification",label:"Bildirim"},{value:"promotion",label:"Promosyon"},{value:"emergency",label:"Acil Durum"}],v=[{id:"1",name:"Hoş Geldiniz Mesajı",subject:"Derneğimize Hoş Geldiniz",content:`Sayın {firstName} {lastName},

Kafkas Kültür ve Dayanışma Derneği ailesine hoş geldiniz. Sizinle birlikte daha güçlü bir topluluk oluşturuyoruz.

Saygılarımızla,
Dernek Yönetimi`,type:"email",category:"welcome",variables:["firstName","lastName"],isActive:!0,createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-01-15T10:00:00Z",usageCount:25},{id:"2",name:"Toplantı Daveti",subject:"Aylık Genel Toplantı Daveti",content:`Sayın {firstName},

{meetingDate} tarihinde saat {meetingTime} da yapılacak aylık genel toplantımıza katılımınızı bekliyoruz.

Toplantı Konuları:
- Aylık faaliyet raporu
- Bütçe değerlendirmesi
- Yeni projeler

Konum: {location}

Saygılarımızla,
Dernek Yönetimi`,type:"email",category:"meeting",variables:["firstName","meetingDate","meetingTime","location"],isActive:!0,createdAt:"2024-01-20T10:00:00Z",updatedAt:"2024-01-20T10:00:00Z",usageCount:15},{id:"3",name:"Yardım Başvuru Onayı",subject:"Yardım Başvurunuz Onaylandı",content:`Sayın {firstName} {lastName},

{applicationDate} tarihinde yapmış olduğunuz {aidType} yardım başvurunuz onaylanmıştır.

Yardım Tutarı: {amount} TL
Dağıtım Tarihi: {distributionDate}

Gerekli evrakları tamamladıktan sonra yardımınızı alabilirsiniz.

Saygılarımızla,
Dernek Yönetimi`,type:"sms",category:"aid",variables:["firstName","lastName","applicationDate","aidType","amount","distributionDate"],isActive:!0,createdAt:"2024-01-25T10:00:00Z",updatedAt:"2024-01-25T10:00:00Z",usageCount:42},{id:"4",name:"Doğum Günü Kutlaması",subject:"Doğum Gününüz Kutlu Olsun!",content:`Sevgili {firstName},

Doğum gününüzü kutlar, sağlık, mutluluk ve başarı dolu bir yaş dileriz.

Dernek ailesi olarak her zaman yanınızdayız.

Sevgi ve saygılarımızla,
Kafkas Kültür ve Dayanışma Derneği`,type:"email",category:"birthday",variables:["firstName"],isActive:!0,createdAt:"2024-02-01T10:00:00Z",updatedAt:"2024-02-01T10:00:00Z",usageCount:8},{id:"5",name:"Acil Durum Bildirimi",subject:"ACİL: Önemli Duyuru",content:`Sayın üyelerimiz,

ACİL DURUM: {emergencyMessage}

Lütfen dernek merkezini arayınız: {phoneNumber}

Dernek Yönetimi`,type:"sms",category:"emergency",variables:["emergencyMessage","phoneNumber"],isActive:!0,createdAt:"2024-02-05T10:00:00Z",updatedAt:"2024-02-05T10:00:00Z",usageCount:2},{id:"6",name:"Burs Başvuru Sonucu",subject:"Burs Başvuru Değerlendirme Sonucu",content:`Sayın {firstName} {lastName},

{academicYear} eğitim-öğretim yılı için yapmış olduğunuz burs başvurunuz değerlendirilmiştir.

Sonuç: {result}
{resultMessage}

Detaylı bilgi için dernek merkezimizi ziyaret edebilirsiniz.

Başarılar dileriz,
Eğitim Koordinatörlüğü`,type:"email",category:"scholarship",variables:["firstName","lastName","academicYear","result","resultMessage"],isActive:!0,createdAt:"2024-02-10T10:00:00Z",updatedAt:"2024-02-10T10:00:00Z",usageCount:18}],U=l.useMemo(()=>v.filter(a=>{const t=a.name.toLowerCase().includes(o.toLowerCase())||a.subject.toLowerCase().includes(o.toLowerCase())||a.content.toLowerCase().includes(o.toLowerCase()),S=n==="all"||a.category===n,N=d==="all"||a.type===d;return t&&S&&N}),[o,n,d]),V=a=>{K(a),w(!0)},B=a=>{K(a),g(a.name),p(a.subject),b(a.content),j(a.category||"general"),y(a.type),f(a.isFavorite||!1),T(!0)},R=()=>{g(""),p(""),b(""),j("general"),y("notification"),f(!1),C(!0)},I=a=>{navigator.clipboard.writeText(a.content),alert("Şablon içeriği panoya kopyalandı!")},H=a=>{var N;const t={general:"bg-gray-100 text-gray-800",welcome:"bg-blue-100 text-blue-800",reminder:"bg-yellow-100 text-yellow-800",notification:"bg-purple-100 text-purple-800",promotion:"bg-green-100 text-green-800",emergency:"bg-red-100 text-red-800"},S=((N=x.find(X=>X.value===a))==null?void 0:N.label)||a;return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t[a]}`,children:S})},Y=a=>{const t={sms:"bg-green-100 text-green-800",email:"bg-blue-100 text-blue-800",notification:"bg-purple-100 text-purple-800"};return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t[a]}`,children:a==="sms"?"SMS":a==="email"?"E-posta":"Bildirim"})},W=[{key:"name",header:"Şablon Adı",render:(a,t)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"font-medium",children:t.name}),t.isFavorite&&e.jsx(_,{className:"h-4 w-4 text-yellow-500 fill-current"})]})},{key:"subject",header:"Konu",render:(a,t)=>e.jsx("span",{className:"text-sm",children:t.subject})},{key:"category",header:"Kategori",render:(a,t)=>H(t.category||"general")},{key:"type",header:"Tür",render:(a,t)=>Y(t.type)},{key:"usageCount",header:"Kullanım",render:(a,t)=>e.jsx("span",{className:"font-medium",children:t.usageCount||0})},{key:"createdAt",header:"Oluşturulma",render:(a,t)=>e.jsx("span",{className:"text-sm",children:t.createdAt})},{key:"actions",header:"İşlemler",render:(a,t)=>e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>V(t),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:"Görüntüle",children:e.jsx(te,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>I(t),className:"p-1 text-purple-600 hover:bg-purple-50 rounded",title:"Kopyala",children:e.jsx(D,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>B(t),className:"p-1 text-green-600 hover:bg-green-50 rounded",title:"Düzenle",children:e.jsx(se,{className:"h-4 w-4"})}),e.jsx("button",{className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Sil",children:e.jsx(le,{className:"h-4 w-4"})})]})}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mesaj Şablonları"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Hazır mesaj şablonlarını yönetin"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{className:"flex items-center gap-2 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:[e.jsx(q,{className:"h-4 w-4"}),"İçe Aktar"]}),e.jsxs("button",{className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(J,{className:"h-4 w-4"}),"Dışa Aktar"]}),e.jsxs("button",{onClick:R,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Q,{className:"h-4 w-4"}),"Yeni Şablon"]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-4 w-4 text-gray-400"}),e.jsx("input",{value:o,onChange:a=>k(a.target.value),className:"flex-1 border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Şablon adı, konu veya içerik ara..."})]}),e.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filtreler:"})]}),e.jsxs("select",{value:n,onChange:a=>u(a.target.value),className:"border rounded px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"Tüm Kategoriler"}),x.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))]}),e.jsxs("select",{value:d,onChange:a=>c(a.target.value),className:"border rounded px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"Tüm Türler"}),e.jsx("option",{value:"sms",children:"SMS"}),e.jsx("option",{value:"email",children:"E-posta"}),e.jsx("option",{value:"notification",children:"Bildirim"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg border",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Şablon"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.length})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{className:"h-5 w-5 text-yellow-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Favori Şablonlar"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.filter(a=>a.isFavorite).length})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-5 w-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"En Çok Kullanılan"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Math.max(...v.map(a=>a.usageCount||0))})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5 text-purple-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Kategoriler"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.length})]})]})})]}),e.jsx("div",{className:"bg-white rounded-lg border",children:e.jsx($,{columns:W,data:U})}),e.jsx(z,{isOpen:Z,onClose:()=>w(!1),title:"Şablon Detayları",children:s&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Şablon Adı"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kategori"}),H(s.category||"general")]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tür"}),Y(s.type)]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kullanım Sayısı"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.usageCount||0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Oluşturulma Tarihi"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.createdAt})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Favori"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.isFavorite?"Evet":"Hayır"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Konu"}),e.jsx("div",{className:"bg-gray-50 p-3 rounded border",children:e.jsx("p",{className:"text-sm text-gray-900",children:s.subject})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"İçerik"}),e.jsx("div",{className:"bg-gray-50 p-3 rounded border",children:e.jsx("p",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:s.content})})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsxs("button",{onClick:()=>I(s),className:"flex items-center gap-2 px-4 py-2 text-purple-600 border border-purple-300 rounded-lg hover:bg-purple-50 transition-colors",children:[e.jsx(D,{className:"h-4 w-4"}),"Kopyala"]}),e.jsx("button",{onClick:()=>{w(!1),B(s)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Düzenle"})]})]})}),e.jsx(z,{isOpen:G,onClose:()=>T(!1),title:"Şablon Düzenle",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Şablon Adı"}),e.jsx("input",{type:"text",value:M,onChange:m(a=>g(a),"text"),className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Şablon adı"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kategori"}),e.jsx("select",{value:L,onChange:a=>j(a.target.value),className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:x.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tür"}),e.jsxs("select",{value:F,onChange:a=>y(a.target.value),className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"notification",children:"Bildirim"}),e.jsx("option",{value:"sms",children:"SMS"}),e.jsx("option",{value:"email",children:"E-posta"})]})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:E,onChange:a=>f(a.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Favori olarak işaretle"})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Konu"}),e.jsx("input",{type:"text",value:O,onChange:m(a=>p(a),"text"),className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Mesaj konusu"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"İçerik"}),e.jsx("textarea",{value:h,onChange:m(a=>b(a),"html"),rows:6,className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Şablon içeriği..."}),e.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Karakter sayısı: ",h.length]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx("button",{onClick:()=>T(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"İptal"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Kaydet"})]})]})}),e.jsx(z,{isOpen:P,onClose:()=>C(!1),title:"Yeni Şablon Oluştur",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Şablon Adı"}),e.jsx("input",{type:"text",value:M,onChange:m(a=>g(a),"text"),className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Şablon adı"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kategori"}),e.jsx("select",{value:L,onChange:a=>j(a.target.value),className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:x.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tür"}),e.jsxs("select",{value:F,onChange:a=>y(a.target.value),className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"notification",children:"Bildirim"}),e.jsx("option",{value:"sms",children:"SMS"}),e.jsx("option",{value:"email",children:"E-posta"})]})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:E,onChange:a=>f(a.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Favori olarak işaretle"})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Konu"}),e.jsx("input",{type:"text",value:O,onChange:m(a=>p(a),"text"),className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Mesaj konusu"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"İçerik"}),e.jsx("textarea",{value:h,onChange:m(a=>b(a),"html"),rows:6,className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Şablon içeriği..."}),e.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Karakter sayısı: ",h.length]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx("button",{onClick:()=>C(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"İptal"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Oluştur"})]})]})})]})}export{ue as default};
