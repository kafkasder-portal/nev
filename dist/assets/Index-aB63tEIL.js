import{j as e}from"./query-D2a9LsAW.js";import{r}from"./vendor-Ba6jih-_.js";import{D as O}from"./DataTable-Dzg2kqPW.js";import{M as g}from"./Modal-BazkrsRl.js";import{M as E}from"./MessageNavigation-tJY5Katd.js";import{a6 as G,aa as _,ab as L,S as P,F as Y,d as z,w as j,c as p,ak as b,at as I,au as K,av as V,ao as N,aw as R,ax as $}from"./ui-yrixFDMZ.js";function U(){const[n,f]=r.useState(""),[i,y]=r.useState("all"),[c,v]=r.useState("all"),[d,w]=r.useState("all"),[t,k]=r.useState(null),[M,x]=r.useState(!1),[S,o]=r.useState(!1),a=[],C=r.useMemo(()=>a.filter(s=>{const l=s.subject.toLowerCase().includes(n.toLowerCase())||s.sender.toLowerCase().includes(n.toLowerCase())||s.recipient.toLowerCase().includes(n.toLowerCase()),D=i==="all"||s.status===i,A=c==="all"||s.type===c,F=d==="all"||s.priority===d;return l&&D&&A&&F}),[n,i,c,d]),m=s=>{switch(s){case"sent":return e.jsx(j,{className:"h-4 w-4 text-blue-500"});case"delivered":return e.jsx(p,{className:"h-4 w-4 text-green-500"});case"read":return e.jsx(N,{className:"h-4 w-4 text-green-600"});case"failed":return e.jsx(V,{className:"h-4 w-4 text-red-500"});default:return e.jsx(b,{className:"h-4 w-4 text-gray-500"})}},u=s=>{const l={low:"bg-gray-100 text-gray-800",normal:"bg-blue-100 text-blue-800",high:"bg-orange-100 text-orange-800",urgent:"bg-red-100 text-red-800"};return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${l[s]}`,children:s==="low"?"Düşük":s==="normal"?"Normal":s==="high"?"Yüksek":"Acil"})},h=s=>{const l={sms:"bg-green-100 text-green-800",email:"bg-blue-100 text-blue-800",notification:"bg-purple-100 text-purple-800"};return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${l[s]}`,children:s==="sms"?"SMS":s==="email"?"E-posta":"Bildirim"})},T=s=>{k(s),x(!0)},B=[{key:"id",header:"ID",render:(s,l)=>e.jsxs("span",{className:"font-mono text-sm text-gray-600",children:["#",l.id]})},{key:"subject",header:"Konu",render:(s,l)=>e.jsxs("div",{className:"flex items-center gap-2",children:[m(l.status),e.jsx("span",{className:"font-medium",children:l.subject})]})},{key:"sender",header:"Gönderen",render:(s,l)=>e.jsx("span",{className:"text-sm",children:l.sender})},{key:"recipient",header:"Alıcı",render:(s,l)=>e.jsx("span",{className:"text-sm",children:l.recipient})},{key:"type",header:"Tür",render:(s,l)=>h(l.type)},{key:"priority",header:"Öncelik",render:(s,l)=>u(l.priority)},{key:"date",header:"Tarih",render:(s,l)=>e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{children:l.date}),e.jsx("div",{className:"text-gray-500",children:l.time})]})},{key:"actions",header:"İşlemler",render:(s,l)=>e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>T(l),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:"Görüntüle",children:e.jsx(N,{className:"h-4 w-4"})}),e.jsx("button",{className:"p-1 text-green-600 hover:bg-green-50 rounded",title:"Düzenle",children:e.jsx(R,{className:"h-4 w-4"})}),e.jsx("button",{className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Sil",children:e.jsx($,{className:"h-4 w-4"})})]})}];return e.jsxs("div",{className:"space-y-6",children:[e.jsx(E,{currentPath:"/messages"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mesaj Listesi"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Gönderilmiş ve alınmış mesajları görüntüle ve yönet"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{className:"flex items-center gap-2 bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors",children:[e.jsx(G,{className:"h-4 w-4"}),"Yenile"]}),e.jsxs("button",{className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(_,{className:"h-4 w-4"}),"Dışa Aktar"]}),e.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(L,{className:"h-4 w-4"}),"Yeni Mesaj"]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-4 w-4 text-gray-400"}),e.jsx("input",{value:n,onChange:s=>f(s.target.value),className:"flex-1 border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Konu, gönderen veya alıcı ara..."})]}),e.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filtreler:"})]}),e.jsxs("select",{value:i,onChange:s=>y(s.target.value),className:"border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",children:[e.jsx("option",{value:"all",children:"Tüm Durumlar"}),e.jsx("option",{value:"sent",children:"Gönderildi"}),e.jsx("option",{value:"delivered",children:"Teslim Edildi"}),e.jsx("option",{value:"read",children:"Okundu"}),e.jsx("option",{value:"failed",children:"Başarısız"})]}),e.jsxs("select",{value:c,onChange:s=>v(s.target.value),className:"border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",children:[e.jsx("option",{value:"all",children:"Tüm Türler"}),e.jsx("option",{value:"sms",children:"SMS"}),e.jsx("option",{value:"email",children:"E-posta"}),e.jsx("option",{value:"notification",children:"Bildirim"})]}),e.jsxs("select",{value:d,onChange:s=>w(s.target.value),className:"border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",children:[e.jsx("option",{value:"all",children:"Tüm Öncelikler"}),e.jsx("option",{value:"low",children:"Düşük"}),e.jsx("option",{value:"normal",children:"Normal"}),e.jsx("option",{value:"high",children:"Yüksek"}),e.jsx("option",{value:"urgent",children:"Acil"})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 px-3 py-2 rounded-lg",children:[e.jsx(z,{className:"h-4 w-4 text-gray-400"}),e.jsxs("select",{className:"bg-transparent border-0 text-sm focus:outline-none",children:[e.jsx("option",{value:"today",children:"Bugün"}),e.jsx("option",{value:"week",children:"Bu Hafta"}),e.jsx("option",{value:"month",children:"Bu Ay"}),e.jsx("option",{value:"all",children:"Tüm Zamanlar"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg border",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(j,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Mesaj"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.length}),e.jsx("p",{className:"text-xs text-gray-500",children:"Son 30 gün"})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(p,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Başarılı"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.filter(s=>s.status==="delivered"||s.status==="read").length}),e.jsxs("p",{className:"text-xs text-gray-500",children:["%",(a.filter(s=>s.status==="delivered"||s.status==="read").length/a.length*100).toFixed(1)]})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx(b,{className:"h-5 w-5 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Beklemede"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.filter(s=>s.status==="sent").length}),e.jsx("p",{className:"text-xs text-gray-500",children:"İşleniyor"})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(I,{className:"h-5 w-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Başarısız"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.filter(s=>s.status==="failed").length}),e.jsx("p",{className:"text-xs text-gray-500",children:"Tekrar denenecek"})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:e.jsx(K,{className:"h-5 w-5 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Acil"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.filter(s=>s.priority==="urgent").length}),e.jsx("p",{className:"text-xs text-gray-500",children:"Öncelikli"})]})]})})]}),e.jsx("div",{className:"bg-white rounded-lg border",children:e.jsx(O,{columns:B,data:C})}),e.jsx(g,{isOpen:M,onClose:()=>x(!1),title:"Mesaj Detayları",children:t&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Konu"}),e.jsx("p",{className:"text-sm text-gray-900",children:t.subject})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Durum"}),e.jsxs("div",{className:"flex items-center gap-2",children:[m(t.status),e.jsx("span",{className:"text-sm",children:t.status==="sent"?"Gönderildi":t.status==="delivered"?"Teslim Edildi":t.status==="read"?"Okundu":"Başarısız"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gönderen"}),e.jsx("p",{className:"text-sm text-gray-900",children:t.sender})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alıcı"}),e.jsx("p",{className:"text-sm text-gray-900",children:t.recipient})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tür"}),h(t.type)]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Öncelik"}),u(t.priority)]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tarih"}),e.jsxs("p",{className:"text-sm text-gray-900",children:[t.date," ",t.time]})]}),t.group&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Grup"}),e.jsx("p",{className:"text-sm text-gray-900",children:t.group})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mesaj İçeriği"}),e.jsx("div",{className:"bg-gray-50 p-3 rounded border",children:e.jsx("p",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:t.content})})]})]})}),e.jsx(g,{isOpen:S,onClose:()=>o(!1),title:"Yeni Mesaj Oluştur",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mesaj Türü"}),e.jsxs("select",{className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"notification",children:"Bildirim"}),e.jsx("option",{value:"sms",children:"SMS"}),e.jsx("option",{value:"email",children:"E-posta"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Öncelik"}),e.jsxs("select",{className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"normal",children:"Normal"}),e.jsx("option",{value:"low",children:"Düşük"}),e.jsx("option",{value:"high",children:"Yüksek"}),e.jsx("option",{value:"urgent",children:"Acil"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alıcı"}),e.jsx("input",{type:"text",className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Alıcı adı veya grup seçin"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Konu"}),e.jsx("input",{type:"text",className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Mesaj konusu"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mesaj İçeriği"}),e.jsx("textarea",{rows:4,className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Mesaj içeriğini yazın..."})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"İptal"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Gönder"})]})]})})]})}export{U as default};
