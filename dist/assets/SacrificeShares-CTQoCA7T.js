import{j as e}from"./query-D2a9LsAW.js";import{r as i}from"./vendor-Ba6jih-_.js";import{D as de}from"./DataTable-Dzg2kqPW.js";import{M as B}from"./Modal-BazkrsRl.js";import{e as oe}from"./exportToCsv-CTUkvpR5.js";const ce=[{id:"1",shareNumber:"KB2024-001",periodName:"Kurban Bayramı 2024",periodYear:2024,donorName:"Ahmet Yılmaz",donorPhone:"+90 532 123 4567",donorEmail:"ahmet.yilmaz@email.com",donorAddress:"Kadıköy, İstanbul",shareCount:2,pricePerShare:2500,totalAmount:5e3,currency:"TRY",paymentStatus:"ödendi",paymentDate:"2024-03-15",paymentMethod:"Kredi Kartı",paymentReference:"CC-2024-001",distributionArea:"Suriye",distributionStatus:"hazırlanıyor",onBehalfOf:"Rahmetli babası adına",isRecurring:!1,donorType:"bireysel",receiptNumber:"KB-2024-001",receiptIssued:!0,thankYouSent:!0,tags:["vip","tekrarlayan"],createdDate:"2024-03-15",createdBy:"Admin",lastModified:"2024-03-15",modifiedBy:"Admin"},{id:"2",shareNumber:"KB2024-002",periodName:"Kurban Bayramı 2024",periodYear:2024,donorName:"Zeynep Kaya",donorPhone:"+90 533 987 6543",donorEmail:"zeynep.kaya@email.com",shareCount:1,pricePerShare:2500,totalAmount:2500,currency:"TRY",paymentStatus:"beklemede",distributionArea:"Türkiye",distributionStatus:"beklemede",isRecurring:!0,recurringFrequency:"yıllık",nextPaymentDate:"2025-03-01",donorType:"bireysel",receiptIssued:!1,thankYouSent:!1,tags:["yeni"],createdDate:"2024-03-20",createdBy:"Admin",lastModified:"2024-03-20",modifiedBy:"Admin"},{id:"3",shareNumber:"KB2024-003",periodName:"Kurban Bayramı 2024",periodYear:2024,donorName:"ABC Şirketi",donorPhone:"+90 212 555 0123",donorEmail:"info@abcsirket.com",shareCount:10,pricePerShare:2500,totalAmount:25e3,currency:"TRY",paymentStatus:"ödendi",paymentDate:"2024-03-10",paymentMethod:"Havale",paymentReference:"HV-2024-001",distributionArea:"Somali",distributionStatus:"gönderildi",distributionDate:"2024-06-16",donorType:"kurumsal",taxNumber:"1234567890",receiptNumber:"KB-2024-003",receiptIssued:!0,thankYouSent:!0,tags:["kurumsal","büyük"],createdDate:"2024-03-10",createdBy:"Admin",lastModified:"2024-06-16",modifiedBy:"Admin",isRecurring:!1},{id:"4",shareNumber:"AK2024-001",periodName:"Akika Kurbanları 2024",periodYear:2024,donorName:"Mehmet Özkan",donorPhone:"+90 534 111 2233",donorEmail:"mehmet.ozkan@email.com",shareCount:1,pricePerShare:1800,totalAmount:1800,currency:"TRY",paymentStatus:"ödendi",paymentDate:"2024-02-15",paymentMethod:"Nakit",distributionArea:"Türkiye",distributionStatus:"teslim edildi",distributionDate:"2024-02-20",onBehalfOf:"Yeni doğan oğlu adına",isRecurring:!1,donorType:"bireysel",receiptNumber:"AK-2024-001",receiptIssued:!0,thankYouSent:!0,tags:["akika"],createdDate:"2024-02-15",createdBy:"Admin",lastModified:"2024-02-20",modifiedBy:"Admin"}];function ge(){const[x,f]=i.useState(ce),[k,E]=i.useState(""),[b,H]=i.useState(""),[j,I]=i.useState(""),[y,q]=i.useState(""),[N,L]=i.useState(""),[c,R]=i.useState({start:"",end:""}),[_,h]=i.useState(!1),[$,S]=i.useState(!1),[G,p]=i.useState(!1),[v,T]=i.useState(null),[n,w]=i.useState(null),[g,M]=i.useState("shares"),[a,l]=i.useState({shareNumber:"",periodName:"",donorName:"",donorPhone:"",donorEmail:"",donorAddress:"",shareCount:"",pricePerShare:"",currency:"TRY",distributionArea:"",onBehalfOf:"",donorType:"bireysel",taxNumber:"",isRecurring:!1,recurringFrequency:"yıllık",notes:"",tags:[]}),r=i.useMemo(()=>x.filter(s=>{const t=JSON.stringify(s).toLowerCase().includes(k.toLowerCase()),d=!b||s.paymentStatus===b,o=!j||s.distributionStatus===j,m=!y||s.periodName.includes(y),le=!N||s.donorType===N;let z=!0;if(c.start&&c.end){const F=new Date(s.createdDate),ne=new Date(c.start),ie=new Date(c.end);z=F>=ne&&F<=ie}return t&&d&&o&&m&&le&&z}),[x,k,b,j,y,N,c]),A=r.reduce((s,t)=>s+t.shareCount,0),u=r.reduce((s,t)=>s+t.totalAmount,0),P=r.filter(s=>s.paymentStatus==="ödendi").reduce((s,t)=>s+t.totalAmount,0),U=r.filter(s=>s.paymentStatus==="beklemede").reduce((s,t)=>s+t.totalAmount,0),C=r.filter(s=>s.isRecurring).length,D=r.filter(s=>s.receiptIssued).length,K=r.filter(s=>s.thankYouSent).length,V=r.reduce((s,t)=>{const d=t.distributionArea;return s[d]||(s[d]={count:0,amount:0}),s[d].count+=t.shareCount,s[d].amount+=t.totalAmount,s},{}),Q=[{key:"shareNumber",header:"Hisse No"},{key:"periodName",header:"Dönem"},{key:"donorName",header:"Bağışçı"},{key:"donorPhone",header:"Telefon"},{key:"shareCount",header:"Hisse",render:(s,t)=>e.jsxs("div",{children:[e.jsxs("div",{children:[t.shareCount," adet"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[t.pricePerShare.toLocaleString("tr-TR")," ₺/adet"]})]})},{key:"totalAmount",header:"Toplam Tutar",render:(s,t)=>`${t.totalAmount.toLocaleString("tr-TR")} ${t.currency}`},{key:"paymentStatus",header:"Ödeme Durumu",render:(s,t)=>e.jsx("span",{className:`px-2 py-1 rounded text-xs ${t.paymentStatus==="ödendi"?"bg-green-100 text-green-800":t.paymentStatus==="beklemede"?"bg-yellow-100 text-yellow-800":t.paymentStatus==="kısmi"?"bg-orange-100 text-orange-800":t.paymentStatus==="iade"?"bg-purple-100 text-purple-800":"bg-red-100 text-red-800"}`,children:t.paymentStatus})},{key:"distributionStatus",header:"Dağıtım Durumu",render:(s,t)=>e.jsx("span",{className:`px-2 py-1 rounded text-xs ${t.distributionStatus==="teslim edildi"?"bg-green-100 text-green-800":t.distributionStatus==="gönderildi"?"bg-blue-100 text-blue-800":t.distributionStatus==="hazırlanıyor"?"bg-yellow-100 text-yellow-800":t.distributionStatus==="beklemede"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:t.distributionStatus})},{key:"distributionArea",header:"Dağıtım Alanı"},{key:"isRecurring",header:"Tekrarlayan",render:(s,t)=>e.jsx("div",{children:t.isRecurring?e.jsxs("div",{children:[e.jsx("span",{className:"text-green-600",children:"✓"}),e.jsx("div",{className:"text-xs text-gray-500",children:t.recurringFrequency})]}):e.jsx("span",{className:"text-gray-400",children:"-"})})},{key:"receiptIssued",header:"Makbuz",render:(s,t)=>e.jsx("div",{className:"text-center",children:t.receiptIssued?e.jsxs("div",{children:[e.jsx("span",{className:"text-green-600",children:"✓"}),e.jsx("div",{className:"text-xs text-gray-500",children:t.receiptNumber})]}):e.jsx("span",{className:"text-red-600",children:"✗"})})},{key:"id",header:"İşlemler",render:(s,t)=>e.jsxs("div",{className:"flex gap-1 text-xs",children:[e.jsx("button",{onClick:()=>J(t),className:"text-blue-600 hover:text-blue-800 px-2 py-1 rounded",children:"Düzenle"}),e.jsx("button",{onClick:()=>Z(t),className:"text-green-600 hover:text-green-800 px-2 py-1 rounded",children:"Ödeme"}),e.jsx("button",{onClick:()=>W(t),className:"text-purple-600 hover:text-purple-800 px-2 py-1 rounded",children:"Makbuz"}),e.jsx("button",{onClick:()=>X(t.id),className:"text-orange-600 hover:text-orange-800 px-2 py-1 rounded",children:"Teşekkür"})]})}],J=s=>{T(s),l({shareNumber:s.shareNumber,periodName:s.periodName,donorName:s.donorName,donorPhone:s.donorPhone,donorEmail:s.donorEmail||"",donorAddress:s.donorAddress||"",shareCount:s.shareCount.toString(),pricePerShare:s.pricePerShare.toString(),currency:s.currency,distributionArea:s.distributionArea,onBehalfOf:s.onBehalfOf||"",donorType:s.donorType,taxNumber:s.taxNumber||"",isRecurring:s.isRecurring,recurringFrequency:s.recurringFrequency||"yıllık",notes:s.notes||"",tags:s.tags}),h(!0)},Z=s=>{w(s),S(!0)},W=s=>{w(s),p(!0)},X=s=>{f(x.map(t=>t.id===s?{...t,thankYouSent:!0}:t))},ee=s=>{s.preventDefault();const t=parseInt(a.shareCount),d=parseFloat(a.pricePerShare),o=t*d;if(v)f(x.map(m=>m.id===v.id?{...m,...a,shareCount:t,pricePerShare:d,totalAmount:o,lastModified:new Date().toISOString().split("T")[0],modifiedBy:"Admin"}:m));else{const m={id:Date.now().toString(),...a,shareCount:t,pricePerShare:d,totalAmount:o,periodYear:new Date().getFullYear(),paymentStatus:"beklemede",distributionStatus:"beklemede",receiptIssued:!1,thankYouSent:!1,createdDate:new Date().toISOString().split("T")[0],createdBy:"Admin",lastModified:new Date().toISOString().split("T")[0],modifiedBy:"Admin"};f([...x,m])}h(!1),T(null),Y()},Y=()=>{l({shareNumber:"",periodName:"",donorName:"",donorPhone:"",donorEmail:"",donorAddress:"",shareCount:"",pricePerShare:"",currency:"TRY",distributionArea:"",onBehalfOf:"",donorType:"bireysel",taxNumber:"",isRecurring:!1,recurringFrequency:"yıllık",notes:"",tags:[]})},se=()=>{T(null),Y(),h(!0)},te=(s,t)=>{l(t?{...a,tags:[...a.tags,s]}:{...a,tags:a.tags.filter(d=>d!==s)})},ae=["vip","tekrarlayan","yeni","kurumsal","büyük","akika","adak","şükür"],re=["Türkiye","Suriye","Yemen","Somali","Bangladeş","Filistin","Afganistan","Pakistan"],O=["Kurban Bayramı 2024","Kurban Bayramı 2023","Akika Kurbanları 2024"];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Kurban Hisseleri"}),e.jsxs("div",{className:"flex border rounded",children:[e.jsx("button",{onClick:()=>M("shares"),className:`px-4 py-2 text-sm ${g==="shares"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Hisseler"}),e.jsx("button",{onClick:()=>M("analytics"),className:`px-4 py-2 text-sm ${g==="analytics"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Analitik"})]})]}),g==="shares"&&e.jsx("button",{onClick:se,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Yeni Hisse"})]}),g==="shares"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-600",children:"Toplam Hisse"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:A})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-green-600",children:"Toplam Tutar"}),e.jsxs("p",{className:"text-2xl font-bold text-green-900",children:[u.toLocaleString("tr-TR")," ₺"]})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-purple-600",children:"Ödenen"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:[P.toLocaleString("tr-TR")," ₺"]})]}),e.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-orange-600",children:"Bekleyen"}),e.jsxs("p",{className:"text-2xl font-bold text-orange-900",children:[U.toLocaleString("tr-TR")," ₺"]})]}),e.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-indigo-600",children:"Tekrarlayan"}),e.jsx("p",{className:"text-2xl font-bold text-indigo-900",children:C})]}),e.jsxs("div",{className:"bg-pink-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-pink-600",children:"Makbuz Oranı"}),e.jsxs("p",{className:"text-2xl font-bold text-pink-900",children:[Math.round(D/r.length*100),"%"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-7 gap-4 mb-6",children:[e.jsx("input",{value:k,onChange:s=>E(s.target.value),className:"border rounded px-3 py-2",placeholder:"Hisse no, bağışçı adı ile ara..."}),e.jsxs("select",{value:b,onChange:s=>H(s.target.value),className:"border rounded px-3 py-2",children:[e.jsx("option",{value:"",children:"Tüm Ödemeler"}),e.jsx("option",{value:"ödendi",children:"Ödendi"}),e.jsx("option",{value:"beklemede",children:"Beklemede"}),e.jsx("option",{value:"kısmi",children:"Kısmi"}),e.jsx("option",{value:"iptal",children:"İptal"}),e.jsx("option",{value:"iade",children:"İade"})]}),e.jsxs("select",{value:j,onChange:s=>I(s.target.value),className:"border rounded px-3 py-2",children:[e.jsx("option",{value:"",children:"Tüm Dağıtımlar"}),e.jsx("option",{value:"beklemede",children:"Beklemede"}),e.jsx("option",{value:"hazırlanıyor",children:"Hazırlanıyor"}),e.jsx("option",{value:"gönderildi",children:"Gönderildi"}),e.jsx("option",{value:"teslim edildi",children:"Teslim Edildi"}),e.jsx("option",{value:"iptal",children:"İptal"})]}),e.jsxs("select",{value:y,onChange:s=>q(s.target.value),className:"border rounded px-3 py-2",children:[e.jsx("option",{value:"",children:"Tüm Dönemler"}),O.map(s=>e.jsx("option",{value:s,children:s},s))]}),e.jsxs("select",{value:N,onChange:s=>L(s.target.value),className:"border rounded px-3 py-2",children:[e.jsx("option",{value:"",children:"Tüm Tipler"}),e.jsx("option",{value:"bireysel",children:"Bireysel"}),e.jsx("option",{value:"kurumsal",children:"Kurumsal"})]}),e.jsx("input",{type:"date",value:c.start,onChange:s=>R({...c,start:s.target.value}),className:"border rounded px-3 py-2",placeholder:"Başlangıç"}),e.jsx("input",{type:"date",value:c.end,onChange:s=>R({...c,end:s.target.value}),className:"border rounded px-3 py-2",placeholder:"Bitiş"})]}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("button",{onClick:()=>oe("kurban-hisseleri.csv",r),className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Excel İndir"}),e.jsx("button",{onClick:()=>{const s=r.filter(t=>t.paymentStatus==="beklemede");console.log("Ödeme hatırlatması gönderilecek:",s.length,"hisse")},className:"bg-orange-600 text-white px-4 py-2 rounded hover:bg-orange-700",children:"Ödeme Hatırlatması"}),e.jsx("button",{onClick:()=>{const s=r.filter(t=>!t.thankYouSent&&t.paymentStatus==="ödendi");console.log("Teşekkür mesajı gönderilecek:",s.length,"hisse")},className:"bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700",children:"Toplu Teşekkür"})]}),e.jsx(de,{columns:Q,data:r})]}),g==="analytics"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium text-blue-600 mb-2",children:"Toplam Hisse Sayısı"}),e.jsx("p",{className:"text-3xl font-bold text-blue-900",children:A}),e.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Tüm dönemler"})]}),e.jsxs("div",{className:"bg-green-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium text-green-600 mb-2",children:"Toplam Gelir"}),e.jsxs("p",{className:"text-3xl font-bold text-green-900",children:[u.toLocaleString("tr-TR")," ₺"]}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Brüt tutar"})]}),e.jsxs("div",{className:"bg-purple-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium text-purple-600 mb-2",children:"Ortalama Hisse"}),e.jsx("p",{className:"text-3xl font-bold text-purple-900",children:r.length>0?(A/r.length).toFixed(1):"0"}),e.jsx("p",{className:"text-sm text-purple-600 mt-1",children:"Bağışçı başına"})]}),e.jsxs("div",{className:"bg-orange-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium text-orange-600 mb-2",children:"Tahsilat Oranı"}),e.jsxs("p",{className:"text-3xl font-bold text-orange-900",children:[u>0?Math.round(P/u*100):0,"%"]}),e.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"Ödenen/Toplam"})]})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Dağıtım Alanlarına Göre Dağılım"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(V).map(([s,t])=>e.jsxs("div",{className:"border rounded p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h4",{className:"font-medium",children:s}),e.jsxs("span",{className:"text-sm text-gray-500",children:[t.count," hisse"]})]}),e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[t.amount.toLocaleString("tr-TR")," ₺"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Toplam tutarın %",u>0?Math.round(t.amount/u*100):0,"'si"]})]},s))})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Ödeme Durumu Dağılımı"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:["ödendi","beklemede","kısmi","iptal","iade"].map(s=>{const t=r.filter(o=>o.paymentStatus===s).length,d=r.filter(o=>o.paymentStatus===s).reduce((o,m)=>o+m.totalAmount,0);return e.jsxs("div",{className:"border rounded p-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:s}),e.jsx("div",{className:"text-xl font-bold",children:t}),e.jsxs("div",{className:"text-sm text-gray-500",children:[d.toLocaleString("tr-TR")," ₺"]})]},s)})})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Tekrarlayan Bağış Analizi"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"border rounded p-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Tekrarlayan Hisse"}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:C}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Toplam hisselerin %",r.length>0?Math.round(C/r.length*100):0,"'si"]})]}),e.jsxs("div",{className:"border rounded p-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Yıllık Tekrarlayan"}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.filter(s=>s.recurringFrequency==="yıllık").length})]}),e.jsxs("div",{className:"border rounded p-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Aylık Tekrarlayan"}),e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:r.filter(s=>s.recurringFrequency==="aylık").length})]})]})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"İşlem Durumları"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"border rounded p-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Makbuz Kesildi"}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:D}),e.jsxs("div",{className:"text-sm text-gray-500",children:["%",r.length>0?Math.round(D/r.length*100):0," tamamlandı"]})]}),e.jsxs("div",{className:"border rounded p-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Teşekkür Gönderildi"}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:K}),e.jsxs("div",{className:"text-sm text-gray-500",children:["%",r.length>0?Math.round(K/r.length*100):0," tamamlandı"]})]}),e.jsxs("div",{className:"border rounded p-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Kurumsal Bağışçı"}),e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:r.filter(s=>s.donorType==="kurumsal").length}),e.jsxs("div",{className:"text-sm text-gray-500",children:["%",r.length>0?Math.round(r.filter(s=>s.donorType==="kurumsal").length/r.length*100):0," oran"]})]})]})]})]})]}),e.jsx(B,{isOpen:_,onClose:()=>h(!1),title:v?"Kurban Hissesi Düzenle":"Yeni Kurban Hissesi",children:e.jsxs("form",{onSubmit:ee,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Hisse Numarası *"}),e.jsx("input",{type:"text",value:a.shareNumber,onChange:s=>l({...a,shareNumber:s.target.value}),className:"w-full border rounded px-3 py-2",placeholder:"KB2024-001",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Dönem *"}),e.jsxs("select",{value:a.periodName,onChange:s=>l({...a,periodName:s.target.value}),className:"w-full border rounded px-3 py-2",required:!0,children:[e.jsx("option",{value:"",children:"Seçiniz"}),O.map(s=>e.jsx("option",{value:s,children:s},s))]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bağışçı Tipi"}),e.jsxs("select",{value:a.donorType,onChange:s=>l({...a,donorType:s.target.value}),className:"w-full border rounded px-3 py-2",children:[e.jsx("option",{value:"bireysel",children:"Bireysel"}),e.jsx("option",{value:"kurumsal",children:"Kurumsal"})]})]}),a.donorType==="kurumsal"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Vergi Numarası"}),e.jsx("input",{type:"text",value:a.taxNumber,onChange:s=>l({...a,taxNumber:s.target.value}),className:"w-full border rounded px-3 py-2",placeholder:"1234567890"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bağışçı Adı *"}),e.jsx("input",{type:"text",value:a.donorName,onChange:s=>l({...a,donorName:s.target.value}),className:"w-full border rounded px-3 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Telefon *"}),e.jsx("input",{type:"tel",value:a.donorPhone,onChange:s=>l({...a,donorPhone:s.target.value}),className:"w-full border rounded px-3 py-2",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"E-posta"}),e.jsx("input",{type:"email",value:a.donorEmail,onChange:s=>l({...a,donorEmail:s.target.value}),className:"w-full border rounded px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Dağıtım Alanı *"}),e.jsxs("select",{value:a.distributionArea,onChange:s=>l({...a,distributionArea:s.target.value}),className:"w-full border rounded px-3 py-2",required:!0,children:[e.jsx("option",{value:"",children:"Seçiniz"}),re.map(s=>e.jsx("option",{value:s,children:s},s))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Adres"}),e.jsx("textarea",{value:a.donorAddress,onChange:s=>l({...a,donorAddress:s.target.value}),className:"w-full border rounded px-3 py-2",rows:2,placeholder:"Bağışçı adresi..."})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Hisse Sayısı *"}),e.jsx("input",{type:"number",min:"1",value:a.shareCount,onChange:s=>l({...a,shareCount:s.target.value}),className:"w-full border rounded px-3 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Hisse Fiyatı *"}),e.jsx("input",{type:"number",step:"0.01",value:a.pricePerShare,onChange:s=>l({...a,pricePerShare:s.target.value}),className:"w-full border rounded px-3 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Para Birimi"}),e.jsxs("select",{value:a.currency,onChange:s=>l({...a,currency:s.target.value}),className:"w-full border rounded px-3 py-2",children:[e.jsx("option",{value:"TRY",children:"TRY"}),e.jsx("option",{value:"USD",children:"USD"}),e.jsx("option",{value:"EUR",children:"EUR"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Adına (Opsiyonel)"}),e.jsx("input",{type:"text",value:a.onBehalfOf,onChange:s=>l({...a,onBehalfOf:s.target.value}),className:"w-full border rounded px-3 py-2",placeholder:"Rahmetli babası adına"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{children:e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:a.isRecurring,onChange:s=>l({...a,isRecurring:s.target.checked}),className:"rounded"}),e.jsx("span",{className:"text-sm font-medium",children:"Tekrarlayan Bağış"})]})}),a.isRecurring&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tekrar Sıklığı"}),e.jsxs("select",{value:a.recurringFrequency,onChange:s=>l({...a,recurringFrequency:s.target.value}),className:"w-full border rounded px-3 py-2",children:[e.jsx("option",{value:"aylık",children:"Aylık"}),e.jsx("option",{value:"yıllık",children:"Yıllık"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Etiketler"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:ae.map(s=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:a.tags.includes(s),onChange:t=>te(s,t.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm",children:s})]},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Notlar"}),e.jsx("textarea",{value:a.notes,onChange:s=>l({...a,notes:s.target.value}),className:"w-full border rounded px-3 py-2",rows:2,placeholder:"Ek bilgiler..."})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 border rounded hover:bg-gray-50",children:"İptal"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:v?"Güncelle":"Oluştur"})]})]})}),e.jsx(B,{isOpen:$,onClose:()=>S(!1),title:"Ödeme İşlemi",children:n&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[e.jsx("h3",{className:"font-medium mb-2",children:n.shareNumber}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Bağışçı:"}),e.jsx("span",{className:"ml-2",children:n.donorName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Tutar:"}),e.jsxs("span",{className:"ml-2 font-medium",children:[n.totalAmount.toLocaleString("tr-TR")," ₺"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Durum:"}),e.jsx("span",{className:"ml-2",children:n.paymentStatus})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Hisse:"}),e.jsxs("span",{className:"ml-2",children:[n.shareCount," adet"]})]})]})]}),e.jsxs("form",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Ödeme Yöntemi"}),e.jsxs("select",{className:"w-full border rounded px-3 py-2",children:[e.jsx("option",{value:"nakit",children:"Nakit"}),e.jsx("option",{value:"kredi-karti",children:"Kredi Kartı"}),e.jsx("option",{value:"havale",children:"Havale/EFT"}),e.jsx("option",{value:"pos",children:"POS"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Ödeme Tarihi"}),e.jsx("input",{type:"date",defaultValue:new Date().toISOString().split("T")[0],className:"w-full border rounded px-3 py-2"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Referans/Açıklama"}),e.jsx("input",{type:"text",className:"w-full border rounded px-3 py-2",placeholder:"İşlem referansı veya açıklama"})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>S(!1),className:"px-4 py-2 border rounded hover:bg-gray-50",children:"İptal"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Ödemeyi Kaydet"})]})]})]})}),e.jsx(B,{isOpen:G,onClose:()=>p(!1),title:"Makbuz İşlemleri",children:n&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[e.jsx("h3",{className:"font-medium mb-2",children:n.shareNumber}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Bağışçı:"}),e.jsx("span",{className:"ml-2",children:n.donorName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Tutar:"}),e.jsxs("span",{className:"ml-2 font-medium",children:[n.totalAmount.toLocaleString("tr-TR")," ₺"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Makbuz Durumu:"}),e.jsx("span",{className:`ml-2 ${n.receiptIssued?"text-green-600":"text-red-600"}`,children:n.receiptIssued?"Kesildi":"Kesilmedi"})]}),n.receiptNumber&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Makbuz No:"}),e.jsx("span",{className:"ml-2",children:n.receiptNumber})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{console.log("Makbuz yazdırılıyor:",n.shareNumber),p(!1)},className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Makbuz Yazdır"}),e.jsx("button",{onClick:()=>{console.log("E-makbuz gönderiliyor:",n.donorEmail),p(!1)},className:"flex-1 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",disabled:!n.donorEmail,children:"E-Makbuz Gönder"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 border rounded hover:bg-gray-50",children:"Kapat"})})]})})]})}export{ge as default};
