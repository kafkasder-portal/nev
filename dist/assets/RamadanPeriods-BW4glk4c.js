import{j as e}from"./query-D2a9LsAW.js";import{r as d}from"./vendor-Ba6jih-_.js";import{D as A}from"./DataTable-Dzg2kqPW.js";import{M as D}from"./Modal-BazkrsRl.js";import{e as oe}from"./exportToCsv-CTUkvpR5.js";const ce=[{id:"1",name:"Ramazan 2024",year:2024,startDate:"2024-03-11",endDate:"2024-04-09",targetAmount:5e5,collectedAmount:387500,currency:"TRY",donationCount:1250,averageDonation:310,topDonation:25e3,fitrAmount:150,fitrCount:850,fitrCollected:127500,iftar:{targetCount:5e3,sponsoredCount:3200,pricePerIftar:25,totalRevenue:8e4},sahur:{targetCount:2e3,sponsoredCount:1100,pricePerSahur:15,totalRevenue:16500},foodPackage:{targetCount:1e3,distributedCount:750,pricePerPackage:200,totalRevenue:15e4},distributionAreas:["Türkiye","Suriye","Yemen","Somali"],campaigns:["Ramazan Bereketinizi Paylaşın","İftar Sofrası","Gıda Kolisi"],status:"tamamlandı",responsiblePerson:"Ahmet Yılmaz",description:"2024 Ramazan ayı bağış kampanyası",specialPrograms:["Yetim İftarı","Yaşlı Bakımevi Ziyareti","Sokak İftarı"],partnerOrganizations:["Belediye","Diyanet","Kızılay"],createdDate:"2024-02-01",createdBy:"Admin",lastModified:"2024-04-10",modifiedBy:"Admin"},{id:"2",name:"Ramazan 2023",year:2023,startDate:"2023-03-23",endDate:"2023-04-21",targetAmount:4e5,collectedAmount:42e4,currency:"TRY",donationCount:980,averageDonation:428,topDonation:3e4,fitrAmount:120,fitrCount:720,fitrCollected:86400,iftar:{targetCount:4e3,sponsoredCount:4200,pricePerIftar:20,totalRevenue:84e3},sahur:{targetCount:1500,sponsoredCount:1300,pricePerSahur:12,totalRevenue:15600},foodPackage:{targetCount:800,distributedCount:850,pricePerPackage:180,totalRevenue:153e3},distributionAreas:["Türkiye","Suriye","Filistin"],campaigns:["Ramazan Yardımı","İftar Sponsorluğu"],status:"tamamlandı",responsiblePerson:"Mehmet Özkan",description:"2023 Ramazan ayı bağış kampanyası",specialPrograms:["Cami İftarı","Ev Ziyaretleri"],partnerOrganizations:["Belediye","Diyanet"],createdDate:"2023-02-15",createdBy:"Admin",lastModified:"2023-04-22",modifiedBy:"Admin"},{id:"3",name:"Ramazan 2025",year:2025,startDate:"2025-02-28",endDate:"2025-03-29",targetAmount:6e5,collectedAmount:0,currency:"TRY",donationCount:0,averageDonation:0,topDonation:0,fitrAmount:180,fitrCount:0,fitrCollected:0,iftar:{targetCount:6e3,sponsoredCount:0,pricePerIftar:30,totalRevenue:0},sahur:{targetCount:2500,sponsoredCount:0,pricePerSahur:18,totalRevenue:0},foodPackage:{targetCount:1200,distributedCount:0,pricePerPackage:250,totalRevenue:0},distributionAreas:["Türkiye","Suriye","Yemen","Somali","Bangladeş"],campaigns:["Ramazan 2025 Hazırlık"],status:"planlama",responsiblePerson:"Zeynep Kaya",description:"2025 Ramazan ayı bağış kampanyası planlaması",specialPrograms:["Dijital İftar","Gençlik Programları"],partnerOrganizations:["Belediye","Diyanet","Üniversiteler"],createdDate:"2024-12-01",createdBy:"Admin",lastModified:"2024-12-01",modifiedBy:"Admin"}],me=[{id:"1",periodId:"1",donorName:"Ali Veli",donorPhone:"+90 532 123 4567",donorEmail:"ali.veli@email.com",donationType:"iftar",amount:500,currency:"TRY",quantity:20,paymentMethod:"Kredi Kartı",paymentStatus:"ödendi",paymentDate:"2024-03-15",distributionArea:"Türkiye",onBehalfOf:"Ailesi adına",isAnonymous:!1,receiptNumber:"RM-2024-001",createdDate:"2024-03-15"},{id:"2",periodId:"1",donorName:"Fatma Yılmaz",donorPhone:"+90 533 987 6543",donationType:"fitr",amount:600,currency:"TRY",quantity:4,paymentMethod:"Nakit",paymentStatus:"ödendi",paymentDate:"2024-04-08",distributionArea:"Suriye",isAnonymous:!1,receiptNumber:"RM-2024-002",createdDate:"2024-04-08"},{id:"3",periodId:"1",donorName:"Anonim Bağışçı",donorPhone:"+90 534 111 2233",donationType:"gida-paketi",amount:2e3,currency:"TRY",quantity:10,paymentMethod:"Havale",paymentStatus:"ödendi",paymentDate:"2024-03-20",distributionArea:"Yemen",isAnonymous:!0,receiptNumber:"RM-2024-003",notes:"Anonim bağış talebi",createdDate:"2024-03-20"}];function be(){const[b,R]=d.useState(ce),[P]=d.useState(me),[u,w]=d.useState(""),[f,_]=d.useState(""),[j,q]=d.useState(""),[H,h]=d.useState(!1),[E,B]=d.useState(!1),[$,z]=d.useState(!1),[y,C]=d.useState(null),[r,L]=d.useState(null),[c,T]=d.useState("periods"),[s,n]=d.useState({name:"",year:new Date().getFullYear(),startDate:"",endDate:"",targetAmount:"",currency:"TRY",fitrAmount:"",iftarTargetCount:"",iftarPrice:"",sahurTargetCount:"",sahurPrice:"",foodPackageTargetCount:"",foodPackagePrice:"",distributionAreas:[],campaigns:[],responsiblePerson:"",description:"",specialPrograms:[],partnerOrganizations:[]}),l=d.useMemo(()=>b.filter(t=>{const a=JSON.stringify(t).toLowerCase().includes(u.toLowerCase()),x=!f||t.status===f,m=!j||t.year.toString()===j;return a&&x&&m}),[b,u,f,j]),Z=d.useMemo(()=>P.filter(t=>JSON.stringify(t).toLowerCase().includes(u.toLowerCase())),[P,u]),Q=l.length,U=l.filter(t=>t.status==="aktif").length,V=l.filter(t=>t.status==="tamamlandı").length,S=l.reduce((t,a)=>t+a.targetAmount,0),i=l.reduce((t,a)=>t+a.collectedAmount,0),J=S>0?i/S*100:0,W=l.reduce((t,a)=>t+a.donationCount,0),g=l.reduce((t,a)=>t+a.fitrCollected,0),p=l.reduce((t,a)=>t+a.iftar.totalRevenue,0),v=l.reduce((t,a)=>t+a.foodPackage.totalRevenue,0),X=[{key:"name",header:"Dönem Adı"},{key:"year",header:"Yıl"},{key:"startDate",header:"Tarih Aralığı",render:(t,a)=>e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{children:new Date(a.startDate).toLocaleDateString("tr-TR")}),e.jsx("div",{className:"text-gray-500",children:new Date(a.endDate).toLocaleDateString("tr-TR")})]})},{key:"targetAmount",header:"Hedef/Toplanan",render:(t,a)=>e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"font-medium",children:[a.targetAmount.toLocaleString("tr-TR")," ₺"]}),e.jsxs("div",{className:"text-green-600",children:[a.collectedAmount.toLocaleString("tr-TR")," ₺"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["%",a.targetAmount>0?Math.round(a.collectedAmount/a.targetAmount*100):0]})]})},{key:"donationCount",header:"Bağış Sayısı",render:(t,a)=>e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:a.donationCount}),e.jsxs("div",{className:"text-gray-500",children:["Ort: ",a.averageDonation.toLocaleString("tr-TR")," ₺"]})]})},{key:"fitrCollected",header:"Fıtır",render:(t,a)=>e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"font-medium",children:[a.fitrCount," adet"]}),e.jsxs("div",{className:"text-green-600",children:[a.fitrCollected.toLocaleString("tr-TR")," ₺"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[a.fitrAmount," ₺/adet"]})]})},{key:"iftar",header:"İftar",render:(t,a)=>e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"font-medium",children:[a.iftar.sponsoredCount,"/",a.iftar.targetCount]}),e.jsxs("div",{className:"text-green-600",children:[a.iftar.totalRevenue.toLocaleString("tr-TR")," ₺"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[a.iftar.pricePerIftar," ₺/iftar"]})]})},{key:"foodPackage",header:"Gıda Paketi",render:(t,a)=>e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"font-medium",children:[a.foodPackage.distributedCount,"/",a.foodPackage.targetCount]}),e.jsxs("div",{className:"text-green-600",children:[a.foodPackage.totalRevenue.toLocaleString("tr-TR")," ₺"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[a.foodPackage.pricePerPackage," ₺/paket"]})]})},{key:"status",header:"Durum",render:(t,a)=>e.jsx("span",{className:`px-2 py-1 rounded text-xs ${a.status==="aktif"?"bg-green-100 text-green-800":a.status==="tamamlandı"?"bg-blue-100 text-blue-800":a.status==="planlama"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:a.status})},{key:"responsiblePerson",header:"Sorumlu"},{key:"id",header:"İşlemler",render:(t,a)=>e.jsxs("div",{className:"flex gap-1 text-xs",children:[e.jsx("button",{onClick:()=>ee(a),className:"text-blue-600 hover:text-blue-800 px-2 py-1 rounded",children:"Düzenle"}),e.jsx("button",{onClick:()=>te(a),className:"text-green-600 hover:text-green-800 px-2 py-1 rounded",children:"Bağışlar"}),e.jsx("button",{onClick:()=>ae(a),className:"text-purple-600 hover:text-purple-800 px-2 py-1 rounded",children:"Analitik"})]})}],M=[{key:"donorName",header:"Bağışçı"},{key:"donorPhone",header:"Telefon"},{key:"donationType",header:"Bağış Tipi",render:(t,a)=>e.jsx("span",{className:`px-2 py-1 rounded text-xs ${a.donationType==="fitr"?"bg-green-100 text-green-800":a.donationType==="iftar"?"bg-blue-100 text-blue-800":a.donationType==="sahur"?"bg-purple-100 text-purple-800":a.donationType==="gida-paketi"?"bg-orange-100 text-orange-800":a.donationType==="fidye"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:a.donationType==="gida-paketi"?"Gıda Paketi":a.donationType==="fidye"?"Fidye":a.donationType==="iftar"?"İftar":a.donationType==="sahur"?"Sahur":a.donationType==="fitr"?"Fıtır":"Genel"})},{key:"amount",header:"Tutar/Adet",render:(t,a)=>e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"font-medium",children:[a.amount.toLocaleString("tr-TR")," ₺"]}),a.quantity&&e.jsxs("div",{className:"text-gray-500",children:[a.quantity," adet"]})]})},{key:"paymentMethod",header:"Ödeme Yöntemi"},{key:"paymentStatus",header:"Durum",render:(t,a)=>e.jsx("span",{className:`px-2 py-1 rounded text-xs ${a.paymentStatus==="ödendi"?"bg-green-100 text-green-800":a.paymentStatus==="beklemede"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:a.paymentStatus})},{key:"distributionArea",header:"Dağıtım Alanı"},{key:"isAnonymous",header:"Anonim",render:(t,a)=>a.isAnonymous?"✓":"-"},{key:"receiptNumber",header:"Makbuz No"},{key:"createdDate",header:"Tarih",render:(t,a)=>new Date(a.createdDate).toLocaleDateString("tr-TR")}],ee=t=>{C(t),n({name:t.name,year:t.year,startDate:t.startDate,endDate:t.endDate,targetAmount:t.targetAmount.toString(),currency:t.currency,fitrAmount:t.fitrAmount.toString(),iftarTargetCount:t.iftar.targetCount.toString(),iftarPrice:t.iftar.pricePerIftar.toString(),sahurTargetCount:t.sahur.targetCount.toString(),sahurPrice:t.sahur.pricePerSahur.toString(),foodPackageTargetCount:t.foodPackage.targetCount.toString(),foodPackagePrice:t.foodPackage.pricePerPackage.toString(),distributionAreas:t.distributionAreas,campaigns:t.campaigns,responsiblePerson:t.responsiblePerson,description:t.description||"",specialPrograms:t.specialPrograms,partnerOrganizations:t.partnerOrganizations}),h(!0)},te=t=>{L(t),B(!0)},ae=t=>{L(t),z(!0)},se=t=>{t.preventDefault();const a=parseFloat(s.targetAmount),x=parseFloat(s.fitrAmount),m=parseInt(s.iftarTargetCount),k=parseFloat(s.iftarPrice),Y=parseInt(s.sahurTargetCount),I=parseFloat(s.sahurPrice),G=parseInt(s.foodPackageTargetCount),K=parseFloat(s.foodPackagePrice);if(y)R(b.map(o=>o.id===y.id?{...o,...s,targetAmount:a,fitrAmount:x,iftar:{...o.iftar,targetCount:m,pricePerIftar:k},sahur:{...o.sahur,targetCount:Y,pricePerSahur:I},foodPackage:{...o.foodPackage,targetCount:G,pricePerPackage:K},lastModified:new Date().toISOString().split("T")[0],modifiedBy:"Admin"}:o));else{const o={id:Date.now().toString(),...s,targetAmount:a,collectedAmount:0,donationCount:0,averageDonation:0,topDonation:0,fitrAmount:x,fitrCount:0,fitrCollected:0,iftar:{targetCount:m,sponsoredCount:0,pricePerIftar:k,totalRevenue:0},sahur:{targetCount:Y,sponsoredCount:0,pricePerSahur:I,totalRevenue:0},foodPackage:{targetCount:G,distributedCount:0,pricePerPackage:K,totalRevenue:0},status:"planlama",createdDate:new Date().toISOString().split("T")[0],createdBy:"Admin",lastModified:new Date().toISOString().split("T")[0],modifiedBy:"Admin"};R([...b,o])}h(!1),C(null),F()},F=()=>{n({name:"",year:new Date().getFullYear(),startDate:"",endDate:"",targetAmount:"",currency:"TRY",fitrAmount:"",iftarTargetCount:"",iftarPrice:"",sahurTargetCount:"",sahurPrice:"",foodPackageTargetCount:"",foodPackagePrice:"",distributionAreas:[],campaigns:[],responsiblePerson:"",description:"",specialPrograms:[],partnerOrganizations:[]})},re=()=>{C(null),F(),h(!0)},N=(t,a,x)=>{const m=s[t];n(x?{...s,[t]:[...m,a]}:{...s,[t]:m.filter(k=>k!==a)})},ne=["Türkiye","Suriye","Yemen","Somali","Bangladeş","Filistin","Afganistan","Pakistan"],le=["Ramazan Bereketinizi Paylaşın","İftar Sofrası","Gıda Kolisi","Fıtır Kampanyası","Sahur Sponsorluğu"],ie=["Yetim İftarı","Yaşlı Bakımevi Ziyareti","Sokak İftarı","Cami İftarı","Ev Ziyaretleri","Dijital İftar","Gençlik Programları"],de=["Belediye","Diyanet","Kızılay","Üniversiteler","STK'lar","Özel Sektör"],O=Array.from({length:10},(t,a)=>new Date().getFullYear()-5+a);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Ramazan Dönemleri"}),e.jsxs("div",{className:"flex border rounded",children:[e.jsx("button",{onClick:()=>T("periods"),className:`px-4 py-2 text-sm ${c==="periods"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Dönemler"}),e.jsx("button",{onClick:()=>T("donations"),className:`px-4 py-2 text-sm ${c==="donations"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Bağışlar"}),e.jsx("button",{onClick:()=>T("analytics"),className:`px-4 py-2 text-sm ${c==="analytics"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Genel Analitik"})]})]}),c==="periods"&&e.jsx("button",{onClick:re,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Yeni Dönem"})]}),c==="periods"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-600",children:"Toplam Dönem"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:Q})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-green-600",children:"Aktif Dönem"}),e.jsx("p",{className:"text-2xl font-bold text-green-900",children:U})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-purple-600",children:"Tamamlanan"}),e.jsx("p",{className:"text-2xl font-bold text-purple-900",children:V})]}),e.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-orange-600",children:"Hedef Tutar"}),e.jsxs("p",{className:"text-2xl font-bold text-orange-900",children:[S.toLocaleString("tr-TR")," ₺"]})]}),e.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-indigo-600",children:"Toplanan"}),e.jsxs("p",{className:"text-2xl font-bold text-indigo-900",children:[i.toLocaleString("tr-TR")," ₺"]})]}),e.jsxs("div",{className:"bg-pink-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-pink-600",children:"Başarı Oranı"}),e.jsxs("p",{className:"text-2xl font-bold text-pink-900",children:[Math.round(J),"%"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx("input",{value:u,onChange:t=>w(t.target.value),className:"border rounded px-3 py-2",placeholder:"Dönem adı ile ara..."}),e.jsxs("select",{value:f,onChange:t=>_(t.target.value),className:"border rounded px-3 py-2",children:[e.jsx("option",{value:"",children:"Tüm Durumlar"}),e.jsx("option",{value:"planlama",children:"Planlama"}),e.jsx("option",{value:"aktif",children:"Aktif"}),e.jsx("option",{value:"tamamlandı",children:"Tamamlandı"}),e.jsx("option",{value:"iptal",children:"İptal"})]}),e.jsxs("select",{value:j,onChange:t=>q(t.target.value),className:"border rounded px-3 py-2",children:[e.jsx("option",{value:"",children:"Tüm Yıllar"}),O.map(t=>e.jsx("option",{value:t.toString(),children:t},t))]}),e.jsx("button",{onClick:()=>oe("ramazan-donemleri.csv",l),className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Excel İndir"})]}),e.jsx(A,{columns:X,data:l})]}),c==="donations"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-4",children:e.jsx("input",{value:u,onChange:t=>w(t.target.value),className:"border rounded px-3 py-2 w-full max-w-md",placeholder:"Bağışçı adı, telefon ile ara..."})}),e.jsx(A,{columns:M,data:Z})]}),c==="analytics"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium text-blue-600 mb-2",children:"Toplam Bağış"}),e.jsx("p",{className:"text-3xl font-bold text-blue-900",children:W}),e.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Tüm dönemler"})]}),e.jsxs("div",{className:"bg-green-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium text-green-600 mb-2",children:"Toplam Gelir"}),e.jsxs("p",{className:"text-3xl font-bold text-green-900",children:[i.toLocaleString("tr-TR")," ₺"]}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Brüt tutar"})]}),e.jsxs("div",{className:"bg-purple-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium text-purple-600 mb-2",children:"Fıtır Geliri"}),e.jsxs("p",{className:"text-3xl font-bold text-purple-900",children:[g.toLocaleString("tr-TR")," ₺"]}),e.jsx("p",{className:"text-sm text-purple-600 mt-1",children:"Sadece fıtır"})]}),e.jsxs("div",{className:"bg-orange-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium text-orange-600 mb-2",children:"İftar Geliri"}),e.jsxs("p",{className:"text-3xl font-bold text-orange-900",children:[p.toLocaleString("tr-TR")," ₺"]}),e.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"İftar sponsorluğu"})]})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Dönem Karşılaştırması"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-2",children:"Dönem"}),e.jsx("th",{className:"text-right py-2",children:"Hedef"}),e.jsx("th",{className:"text-right py-2",children:"Toplanan"}),e.jsx("th",{className:"text-right py-2",children:"Başarı %"}),e.jsx("th",{className:"text-right py-2",children:"Bağış Sayısı"}),e.jsx("th",{className:"text-right py-2",children:"Ortalama"})]})}),e.jsx("tbody",{children:l.map(t=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"py-2",children:t.name}),e.jsxs("td",{className:"text-right py-2",children:[t.targetAmount.toLocaleString("tr-TR")," ₺"]}),e.jsxs("td",{className:"text-right py-2",children:[t.collectedAmount.toLocaleString("tr-TR")," ₺"]}),e.jsx("td",{className:"text-right py-2",children:e.jsxs("span",{className:`px-2 py-1 rounded text-xs ${t.collectedAmount/t.targetAmount*100>=100?"bg-green-100 text-green-800":t.collectedAmount/t.targetAmount*100>=75?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[t.targetAmount>0?Math.round(t.collectedAmount/t.targetAmount*100):0,"%"]})}),e.jsx("td",{className:"text-right py-2",children:t.donationCount}),e.jsxs("td",{className:"text-right py-2",children:[t.averageDonation.toLocaleString("tr-TR")," ₺"]})]},t.id))})]})})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Bağış Türü Dağılımı"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"border rounded p-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Fıtır"}),e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[g.toLocaleString("tr-TR")," ₺"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["%",i>0?Math.round(g/i*100):0]})]}),e.jsxs("div",{className:"border rounded p-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"İftar"}),e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[p.toLocaleString("tr-TR")," ₺"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["%",i>0?Math.round(p/i*100):0]})]}),e.jsxs("div",{className:"border rounded p-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Sahur"}),e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[l.reduce((t,a)=>t+a.sahur.totalRevenue,0).toLocaleString("tr-TR")," ₺"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["%",i>0?Math.round(l.reduce((t,a)=>t+a.sahur.totalRevenue,0)/i*100):0]})]}),e.jsxs("div",{className:"border rounded p-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Gıda Paketi"}),e.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[v.toLocaleString("tr-TR")," ₺"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["%",i>0?Math.round(v/i*100):0]})]}),e.jsxs("div",{className:"border rounded p-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Diğer"}),e.jsxs("div",{className:"text-2xl font-bold text-gray-600",children:[(i-g-p-v-l.reduce((t,a)=>t+a.sahur.totalRevenue,0)).toLocaleString("tr-TR")," ₺"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["%",i>0?Math.round((i-g-p-v-l.reduce((t,a)=>t+a.sahur.totalRevenue,0))/i*100):0]})]})]})]})]})]}),e.jsx(D,{isOpen:H,onClose:()=>h(!1),title:y?"Ramazan Dönemi Düzenle":"Yeni Ramazan Dönemi",children:e.jsxs("form",{onSubmit:se,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Dönem Adı *"}),e.jsx("input",{type:"text",value:s.name,onChange:t=>n({...s,name:t.target.value}),className:"w-full border rounded px-3 py-2",placeholder:"Ramazan 2024",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Yıl *"}),e.jsx("select",{value:s.year,onChange:t=>n({...s,year:parseInt(t.target.value)}),className:"w-full border rounded px-3 py-2",required:!0,children:O.map(t=>e.jsx("option",{value:t,children:t},t))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Başlangıç Tarihi *"}),e.jsx("input",{type:"date",value:s.startDate,onChange:t=>n({...s,startDate:t.target.value}),className:"w-full border rounded px-3 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bitiş Tarihi *"}),e.jsx("input",{type:"date",value:s.endDate,onChange:t=>n({...s,endDate:t.target.value}),className:"w-full border rounded px-3 py-2",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Hedef Tutar *"}),e.jsx("input",{type:"number",step:"0.01",value:s.targetAmount,onChange:t=>n({...s,targetAmount:t.target.value}),className:"w-full border rounded px-3 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Para Birimi"}),e.jsxs("select",{value:s.currency,onChange:t=>n({...s,currency:t.target.value}),className:"w-full border rounded px-3 py-2",children:[e.jsx("option",{value:"TRY",children:"TRY"}),e.jsx("option",{value:"USD",children:"USD"}),e.jsx("option",{value:"EUR",children:"EUR"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fıtır Tutarı *"}),e.jsx("input",{type:"number",step:"0.01",value:s.fitrAmount,onChange:t=>n({...s,fitrAmount:t.target.value}),className:"w-full border rounded px-3 py-2",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"İftar Hedef Sayısı"}),e.jsx("input",{type:"number",value:s.iftarTargetCount,onChange:t=>n({...s,iftarTargetCount:t.target.value}),className:"w-full border rounded px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"İftar Fiyatı"}),e.jsx("input",{type:"number",step:"0.01",value:s.iftarPrice,onChange:t=>n({...s,iftarPrice:t.target.value}),className:"w-full border rounded px-3 py-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Sahur Hedef Sayısı"}),e.jsx("input",{type:"number",value:s.sahurTargetCount,onChange:t=>n({...s,sahurTargetCount:t.target.value}),className:"w-full border rounded px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Sahur Fiyatı"}),e.jsx("input",{type:"number",step:"0.01",value:s.sahurPrice,onChange:t=>n({...s,sahurPrice:t.target.value}),className:"w-full border rounded px-3 py-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Gıda Paketi Hedef Sayısı"}),e.jsx("input",{type:"number",value:s.foodPackageTargetCount,onChange:t=>n({...s,foodPackageTargetCount:t.target.value}),className:"w-full border rounded px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Gıda Paketi Fiyatı"}),e.jsx("input",{type:"number",step:"0.01",value:s.foodPackagePrice,onChange:t=>n({...s,foodPackagePrice:t.target.value}),className:"w-full border rounded px-3 py-2"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Sorumlu Kişi *"}),e.jsx("input",{type:"text",value:s.responsiblePerson,onChange:t=>n({...s,responsiblePerson:t.target.value}),className:"w-full border rounded px-3 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Dağıtım Alanları"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:ne.map(t=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:s.distributionAreas.includes(t),onChange:a=>N("distributionAreas",t,a.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm",children:t})]},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Kampanyalar"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:le.map(t=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:s.campaigns.includes(t),onChange:a=>N("campaigns",t,a.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm",children:t})]},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Özel Programlar"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:ie.map(t=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:s.specialPrograms.includes(t),onChange:a=>N("specialPrograms",t,a.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm",children:t})]},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Partner Kuruluşlar"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:de.map(t=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:s.partnerOrganizations.includes(t),onChange:a=>N("partnerOrganizations",t,a.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm",children:t})]},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Açıklama"}),e.jsx("textarea",{value:s.description,onChange:t=>n({...s,description:t.target.value}),className:"w-full border rounded px-3 py-2",rows:3,placeholder:"Dönem hakkında açıklama..."})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 border rounded hover:bg-gray-50",children:"İptal"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:y?"Güncelle":"Oluştur"})]})]})}),e.jsx(D,{isOpen:E,onClose:()=>B(!1),title:`${r==null?void 0:r.name} - Bağışlar`,children:r&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-gray-50 p-4 rounded",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Toplam Bağış:"}),e.jsx("span",{className:"ml-2 font-medium",children:r.donationCount})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Toplanan:"}),e.jsxs("span",{className:"ml-2 font-medium",children:[r.collectedAmount.toLocaleString("tr-TR")," ₺"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Ortalama:"}),e.jsxs("span",{className:"ml-2 font-medium",children:[r.averageDonation.toLocaleString("tr-TR")," ₺"]})]})]})}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:e.jsx(A,{columns:M,data:P.filter(t=>t.periodId===r.id)})})]})}),e.jsx(D,{isOpen:$,onClose:()=>z(!1),title:`${r==null?void 0:r.name} - Detaylı Analitik`,children:r&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-600",children:"Hedef Tutar"}),e.jsxs("p",{className:"text-xl font-bold text-blue-900",children:[r.targetAmount.toLocaleString("tr-TR")," ₺"]})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded",children:[e.jsx("h4",{className:"text-sm font-medium text-green-600",children:"Toplanan"}),e.jsxs("p",{className:"text-xl font-bold text-green-900",children:[r.collectedAmount.toLocaleString("tr-TR")," ₺"]})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded",children:[e.jsx("h4",{className:"text-sm font-medium text-purple-600",children:"Başarı Oranı"}),e.jsxs("p",{className:"text-xl font-bold text-purple-900",children:[r.targetAmount>0?Math.round(r.collectedAmount/r.targetAmount*100):0,"%"]})]}),e.jsxs("div",{className:"bg-orange-50 p-4 rounded",children:[e.jsx("h4",{className:"text-sm font-medium text-orange-600",children:"Bağış Sayısı"}),e.jsx("p",{className:"text-xl font-bold text-orange-900",children:r.donationCount})]})]}),e.jsxs("div",{className:"bg-white border rounded p-4",children:[e.jsx("h4",{className:"font-medium mb-4",children:"Bağış Türü Detayları"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"border rounded p-3",children:[e.jsx("h5",{className:"text-sm font-medium text-green-600 mb-2",children:"Fıtır"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{children:["Adet: ",r.fitrCount]}),e.jsxs("div",{children:["Birim: ",r.fitrAmount," ₺"]}),e.jsxs("div",{className:"font-medium",children:["Toplam: ",r.fitrCollected.toLocaleString("tr-TR")," ₺"]})]})]}),e.jsxs("div",{className:"border rounded p-3",children:[e.jsx("h5",{className:"text-sm font-medium text-blue-600 mb-2",children:"İftar"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{children:["Hedef: ",r.iftar.targetCount]}),e.jsxs("div",{children:["Sponsor: ",r.iftar.sponsoredCount]}),e.jsxs("div",{children:["Birim: ",r.iftar.pricePerIftar," ₺"]}),e.jsxs("div",{className:"font-medium",children:["Toplam: ",r.iftar.totalRevenue.toLocaleString("tr-TR")," ₺"]})]})]}),e.jsxs("div",{className:"border rounded p-3",children:[e.jsx("h5",{className:"text-sm font-medium text-purple-600 mb-2",children:"Sahur"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{children:["Hedef: ",r.sahur.targetCount]}),e.jsxs("div",{children:["Sponsor: ",r.sahur.sponsoredCount]}),e.jsxs("div",{children:["Birim: ",r.sahur.pricePerSahur," ₺"]}),e.jsxs("div",{className:"font-medium",children:["Toplam: ",r.sahur.totalRevenue.toLocaleString("tr-TR")," ₺"]})]})]}),e.jsxs("div",{className:"border rounded p-3",children:[e.jsx("h5",{className:"text-sm font-medium text-orange-600 mb-2",children:"Gıda Paketi"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{children:["Hedef: ",r.foodPackage.targetCount]}),e.jsxs("div",{children:["Dağıtılan: ",r.foodPackage.distributedCount]}),e.jsxs("div",{children:["Birim: ",r.foodPackage.pricePerPackage," ₺"]}),e.jsxs("div",{className:"font-medium",children:["Toplam: ",r.foodPackage.totalRevenue.toLocaleString("tr-TR")," ₺"]})]})]})]})]}),e.jsxs("div",{className:"bg-white border rounded p-4",children:[e.jsx("h4",{className:"font-medium mb-4",children:"Dağıtım Alanları"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.distributionAreas.map((t,a)=>e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded text-sm",children:t},a))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white border rounded p-4",children:[e.jsx("h4",{className:"font-medium mb-4",children:"Kampanyalar"}),e.jsx("div",{className:"space-y-2",children:r.campaigns.map((t,a)=>e.jsx("div",{className:"text-sm p-2 bg-gray-50 rounded",children:t},a))})]}),e.jsxs("div",{className:"bg-white border rounded p-4",children:[e.jsx("h4",{className:"font-medium mb-4",children:"Özel Programlar"}),e.jsx("div",{className:"space-y-2",children:r.specialPrograms.map((t,a)=>e.jsx("div",{className:"text-sm p-2 bg-gray-50 rounded",children:t},a))})]})]}),e.jsxs("div",{className:"bg-white border rounded p-4",children:[e.jsx("h4",{className:"font-medium mb-4",children:"Partner Kuruluşlar"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.partnerOrganizations.map((t,a)=>e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded text-sm",children:t},a))})]})]})})]})}export{be as default};
